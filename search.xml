<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[2021-11-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F11%2F05%2FTechnicalDigest%2F2021-11-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[Googleã€Twitterå’ŒSpotifyçš„æ–‡æ¡£è§„èŒƒ è¿™ä¸‰å®¶å…¬å¸éƒ½æž„å»ºäº†è‡ªå·±çš„docs-as-codeçš„æŠ€æœ¯æ ˆï¼Œå¾ˆæœ‰å­¦ä¹ æ„ä¹‰ã€‚ Make the engineerâ€™s life as easy as possible - remove friction Standardize and invest in your tools Make documentation an expectation through teaching and leading by example]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2021-10-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F10%2F17%2FTechnicalDigest%2F2021-10-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[SMPã€NUMAã€MPPä½“ç³»ç»“æž„ä»‹ç» ç›®å‰çš„å•†ç”¨æœåŠ¡å™¨å¤§ä½“å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼Œå³å¯¹ç§°å¤šå¤„ç†å™¨ç»“æž„ (SMP ï¼š Symmetric Multi-Processor) ï¼Œéžä¸€è‡´å­˜å‚¨è®¿é—®ç»“æž„ (NUMA ï¼š Non-Uniform Memory Access) ï¼Œä»¥åŠæµ·é‡å¹¶è¡Œå¤„ç†ç»“æž„ (MPP ï¼š Massive Parallel Processing) Roaring Bitmaps åŸºæœ¬åŽŸç† https://cloud.tencent.com/developer/article/1136054 ä½å›¾ç´¢å¼•è¢«å¹¿æ³›ç”¨äºŽæ•°æ®åº“å’Œæœç´¢å¼•æ“Žä¸­ï¼Œé€šè¿‡åˆ©ç”¨ä½çº§å¹¶è¡Œï¼Œå®ƒä»¬å¯ä»¥æ˜¾è‘—åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ã€‚ä½†æ˜¯ï¼Œä½å›¾ç´¢å¼•ä¼šå ç”¨å¤§é‡çš„å†…å­˜ï¼Œå› æ­¤æˆ‘ä»¬ä¼šæ›´å–œæ¬¢åŽ‹ç¼©ä½å›¾ç´¢å¼•ã€‚ Roaring Bitmaps å°±æ˜¯ä¸€ç§ååˆ†ä¼˜ç§€çš„åŽ‹ç¼©ä½å›¾ç´¢å¼• å½¢å¼åŒ–éªŒè¯å·¥å…·ï¼šTLA+ https://mp.weixin.qq.com/s/5v3bGIRgEH-IH-14n274NA]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2021-09-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F09%2F03%2FTechnicalDigest%2F2021-09-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[é™ä½Žè½¯ä»¶å¤æ‚æ€§çš„ä¸€èˆ¬åŽŸåˆ™å’Œæ–¹æ³• https://tech.meituan.com/2019/09/19/common-method-of-reduce-complexity.html ç³»ç»Ÿæ•´ä½“çš„å¤æ‚åº¦å¹¶ä¸ç®€å•ç­‰äºŽæ‰€æœ‰å­æ¨¡å—å¤æ‚åº¦çš„ç´¯åŠ ï¼Œè¿˜è¦è€ƒè™‘è¯¥æ¨¡å—çš„å¼€å‘ç»´æŠ¤æ‰€èŠ±è´¹çš„æ—¶é—´åœ¨æ•´ä½“ä¸­çš„å æ¯”(å¯¹åº”æƒé‡å€¼tpï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿æŸä¸ªæ¨¡å—éžå¸¸å¤æ‚ï¼Œå¦‚æžœå¾ˆå°‘ä½¿ç”¨æˆ–ä¿®æ”¹ï¼Œä¹Ÿä¸ä¼šå¯¹ç³»ç»Ÿçš„æ•´ä½“å¤æ‚åº¦é€ æˆå¤§çš„å½±å“ã€‚ å±‚æ¬¡å’ŒæŠ½è±¡ å¤æ‚æ€§ä¸‹æ²‰ å¼‚å¸¸å¤„ç† æ·±æ¨¡å—(Deep Module)æŒ‡çš„æ˜¯æ‹¥æœ‰å¼ºå¤§åŠŸèƒ½å’Œç®€å•æŽ¥å£çš„æ¨¡å— æµ…æ¨¡å—(Shallow Module)ï¼ŒåŠŸèƒ½ç®€å•ï¼ŒæŽ¥å£å¤æ‚ ABAé—®é¢˜è§£å†³ https://blog.csdn.net/hanchao5272/article/details/79689355 æ€»ç»“ï¼š å¦‚ä½•çŸ¥é“çœ‹åˆ°çš„å€¼æ˜¯æ–°è¿˜æ˜¯æ—§ï¼Ÿä¸€èˆ¬åˆ†ä¸¤ç§æƒ…å†µï¼š å€¼æ˜¯ç‰¹æ®Šçš„ã€‚ready=trueæ˜¯ä¸ªç‰¹æ®Šå€¼ï¼Œåªè¦çº¿ç¨‹2çœ‹åˆ°readyä¸ºtrueå°±æ„å‘³ç€æ›´æ–°äº†ã€‚åªè¦è®¾å®šäº†ç‰¹æ®Šå€¼ï¼Œè¯»åˆ°æˆ–æ²¡æœ‰è¯»åˆ°ç‰¹æ®Šå€¼éƒ½ä»£è¡¨äº†ä¸€ç§å«ä¹‰ã€‚ æ€»æ˜¯ç´¯åŠ ã€‚ä¸€äº›åœºæ™¯ä¸‹æ²¡æœ‰ç‰¹æ®Šå€¼ï¼Œé‚£æˆ‘ä»¬å°±ç”¨fetch_addä¹‹ç±»çš„æŒ‡ä»¤ç´¯åŠ ä¸€ä¸ªå˜é‡ï¼Œåªè¦å˜é‡çš„å€¼åŸŸè¶³å¤Ÿå¤§ï¼Œåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ï¼Œæ–°å€¼å’Œä¹‹å‰æ‰€æœ‰çš„æ—§å€¼éƒ½ä¼šä¸ç›¸åŒï¼Œæˆ‘ä»¬å°±èƒ½åŒºåˆ†å½¼æ­¤äº†ã€‚ ASCIIï¼ˆæ³¨é‡Šï¼‰æµç¨‹å›¾å·¥å…· https://juejin.cn/post/6844903510987767815]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ç¼–è¯‘Warningæ±‡æ€»]]></title>
    <url>%2F2021%2F08%2F26%2FC-%E7%BC%96%E8%AF%91Warning%E6%B1%87%E6%80%BB%2F</url>
    <content type="text"><![CDATA[æŒ‰æ¡ç›®è®°å½•å¹³æ—¶é‡åˆ°çš„ç¼–è¯‘Errorå’ŒWarningï¼Œé¿å…é‡å¤æŽ’æŸ¥ -Wpessimizing-move -Wredundant-move è§£å†³ï¼š åˆ é™¤std::moveè°ƒç”¨ã€‚ https://developers.redhat.com/blog/2019/04/12/understanding-when-not-to-stdmove-in-c]]></content>
  </entry>
  <entry>
    <title><![CDATA[2021-08-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F08%2F02%2FTechnicalDigest%2F2021-08-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[ä¸€æ–‡è§£é‡Šæ¸…æ¥šGoogle BBRæ‹¥å¡žæŽ§åˆ¶ç®—æ³•åŽŸç† https://www.taohui.pub/2019/08/07/ç½‘ç»œåè®®/ä¸€æ–‡è§£é‡Šæ¸…æ¥šgoogle-bbræ‹¥å¡žæŽ§åˆ¶ç®—æ³•åŽŸç†/ BBRå¯¹TCPæ€§èƒ½çš„æå‡æ˜¯å·¨å¤§çš„ï¼Œå®ƒèƒ½æ›´æœ‰æ•ˆçš„ä½¿ç”¨å½“ä¸‹ç½‘ç»œçŽ¯å¢ƒï¼ŒYoutubeåº”ç”¨åŽåœ¨åžåé‡ä¸Šæœ‰å¹³å‡4%æå‡ï¼ˆå¯¹äºŽæ—¥æœ¬è¿™æ ·çš„ç½‘ç»œçŽ¯å¢ƒæœ‰14%ä»¥ä¸Šçš„æå‡ï¼‰ï¼š æŠ¥æ–‡çš„å¾€è¿”æ—¶å»¶RTTé™ä½Žäº†33%ï¼Œè¿™æ ·å¦‚è§†é¢‘è¿™æ ·çš„å¤§æ–‡ä»¶ä¼ è¾“æ›´å¿«ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½ï¼š ä¸åƒCUBICè¿™ç§åŸºäºŽä¸¢åŒ…åšæ‹¥å¡žæŽ§åˆ¶ï¼Œå¸¸å¯¼è‡´ç“¶é¢ˆè·¯ç”±å™¨å¤§é‡æŠ¥æ–‡ä¸¢å¤±ï¼Œæ‰€ä»¥é‡æ–°ç¼“å­˜çš„å¹³å‡é—´éš”æ—¶é—´ä¹Ÿæœ‰äº†11%æå‡ï¼š åè®® https://queue.acm.org/detail.cfm?id=3022184 BBR è®ºæ–‡ https://datatracker.ietf.org/doc/html/draft-cardwell-iccrg-bbr-congestion-control è®ºå› https://groups.google.com/g/bbr-dev å¯¹æ¯” BBRv2 å’Œ BBR https://dropbox.tech/infrastructure/evaluating-bbrv2-on-the-dropbox-edge-network Parallel-hashmap https://byronhe.com/post/2020/11/10/parallel-hashmap-btree-fast-multi-thread-intro/ Header only: æ— éœ€é“¾æŽ¥ã€‚ç›´æŽ¥ include å¤´æ–‡ä»¶å³å¯ç”¨ã€‚ drop-in replacement for std::unordered_map, std::unordered_set, std::map and std::setã€‚ åŽŸæ ·æ›¿æ¢ï¼Œapi å®Œå…¨å…¼å®¹æ ‡å‡† stl å®¹å™¨ ã€‚ è¦æ±‚æ”¯æŒ C++11 çš„ç¼–è¯‘å™¨ , å¹¶ä¸”æä¾› C14 å’Œ C17 çš„ API (ä¾‹å¦‚ try_emplace) Very efficient, æ˜Žæ˜¾æ¯”ç¼–è¯‘å™¨é»˜è®¤æä¾›çš„ unordered map/set å¿«ï¼Œ ä¹Ÿæ¯” boost çš„å®žçŽ°å¿«ï¼Œæ¯” sparsepp å¿«ã€‚è¿™é‡Œæœ‰ä¸ª benchmark ï¼š https://martin.ankerl.com/2019/04/01/hashmap-benchmarks-01-overview/ ï¼Œå¤§æ¦‚ æ¯” std::unorder_map å°±æ˜¯ insertå¿«1å€ï¼Œfind å¿«3å€ Memory friendly: ä½Žå†…å­˜å ç”¨ï¼Œå°½ç®¡ç•¥å¾®é«˜äºŽ sparsepp ã€‚ å‚è€ƒ abseil çš„æ•°æ®ï¼Œhttps://abseil.io/about/design/btree ç›®å‰ 64ä½æ¨¡å¼ä¸‹ï¼Œ libstdc++ å®žçŽ°çš„ std::set&lt;int32_t&gt; å¯¹æ’å…¥çš„æ¯ä¸ªvalueï¼Œåˆ†é… 40 å­—èŠ‚ï¼Œ è€Œ absl::btree_set&lt;int32_t&gt; å¯¹æ¯ä¸ª value åˆ†é… ~4.3 è‡³ ~5.1 å­—èŠ‚ æ”¯æŒ heterogeneous lookup å¾ˆå®¹æ˜“å‰å‘å£°æ˜Ž forward declare: åªéœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­ include phmap_fwd_decl.h æ¥å£°æ˜Ž Parallel Hashmap å®¹å™¨å°±è¡Œ [æ³¨: ç›®å‰è¿™ç§å¯¹åŒ…å«æŒ‡é’ˆä½œä¸º key çš„å“ˆå¸Œè¡¨ä¸é€‚ç”¨ã€‚] Dump/load ç‰¹æ€§: å½“ä¸€ä¸ª flat å“ˆå¸Œè¡¨å­˜å‚¨äº† std::trivially_copyable çš„æ•°æ®æ—¶, è¡¨å¯ä»¥è¢« dump åˆ°ç£ç›˜æ–‡ä»¶ï¼Œå¹¶ä½œä¸ºä¸€ä¸ªç®€å•çš„æ•°ç»„é«˜æ•ˆåœ° restore æ¢å¤ï¼Œå¹¶ä¸”è¿‡ç¨‹ä¸­ä¸éœ€è¦è¿›è¡Œ hash è®¡ç®—ã€‚è¿™é€šå¸¸æ¯”é€ä¸ªå…ƒç´ åœ°åºåˆ—åŒ–åˆ°ç£ç›˜å¿« 10å€ï¼Œä½†æ˜¯ä¼šé¢å¤–å ç”¨ 10% - 60% çš„ç£ç›˜ç©ºé—´ã€‚ è§ examples/serialize.cc. (flat hash map/set only) Tested åœ¨è¿™äº›å¹³å°ä¸Šç»è¿‡äº†æµ‹è¯•ï¼š Windows (vs2015 &amp; vs2017, vs2019, Intel compiler 18 and 19), linux (g++ 4.8.4, 5, 6, 7, 8, clang++ 3.9, 4.0, 5.0) å’Œ MacOS (g++ and clang++) - click on travis and appveyor icons above for detailed test status. è‡ªåŠ¨æ”¯æŒ boost çš„ hash_value() æ–¹æ³•ï¼Œç”¨æ¥æä¾›å“ˆå¸Œå‡½æ•° (è§ examples/hash_value.h). å¹¶ä¸”æä¾› std::pair å’Œ std::tuple çš„å“ˆå¸Œå‡½æ•°å®žçŽ°. natvis visualization support in Visual Studio (hash map/set only) éƒ½æ˜¯äº‹ä»¶é©±åŠ¨ï¼Œä¸ºä»€ä¹ˆNginxçš„æ€§èƒ½è¿œé«˜äºŽRedisï¼Ÿ https://www.taohui.tech/2020/12/14/nginx/éƒ½æ˜¯äº‹ä»¶é©±åŠ¨ï¼Œä¸ºä»€ä¹ˆnginxçš„æ€§èƒ½è¿œé«˜äºŽredisï¼Ÿ/ ä¸ºäº†æ¦¨å¹²å¤šæ ¸CPUçš„ä»·å€¼ï¼ŒNginxæ— æ‰€ä¸ç”¨å…¶æžï¼šé€šè¿‡ç»‘å®šCPUæå‡äºŒçº§ç¼“å­˜çš„å‘½ä¸­çŽ‡ï¼Œé€šè¿‡é™æ€ä¼˜å…ˆçº§æ‰©å¤§æ—¶é—´ç‰‡ï¼Œé€šè¿‡å¤šç§æ‰‹æ®µå‡è¡¡Workerè¿›ç¨‹ä¹‹é—´çš„è´Ÿè½½ï¼Œåœ¨ç‹¬ç«‹çº¿ç¨‹æ± ä¸­éš”ç¦»é˜»å¡žçš„IOæ“ä½œï¼Œç­‰ç­‰ã€‚å¯è§ï¼Œé«˜æ€§èƒ½æ—¢æ¥è‡ªäºŽæž¶æž„ï¼Œæ›´æ¥è‡ªäºŽç»†èŠ‚ã€‚ ä½¿ç”¨é¢„è®¾å­—å…¸è¿›è¡ŒåŽ‹ç¼© https://rocksdb.org/blog/2021/05/31/dictionary-compression.html A preset dictionary makes it possible for the compressor to start from a useful state instead of from an empty one, making compression immediately effective. æ·±å…¥ç†è§£ iptables å’Œ netfilter æž¶æž„ https://arthurchiao.art/blog/deep-dive-into-iptables-and-netfilter-arch-zh/ Linux ä¸Šæœ€å¸¸ç”¨çš„é˜²ç«å¢™å·¥å…·æ˜¯ iptablesã€‚iptables ä¸Žåè®®æ ˆå†…æœ‰åŒ…è¿‡æ»¤åŠŸèƒ½çš„ hook äº¤ äº’æ¥å®Œæˆå·¥ä½œã€‚è¿™äº›å†…æ ¸ hook æž„æˆäº† netfilter æ¡†æž¶ã€‚ æ¯ä¸ªè¿›å…¥ç½‘ç»œç³»ç»Ÿçš„åŒ…ï¼ˆæŽ¥æ”¶æˆ–å‘é€ï¼‰åœ¨ç»è¿‡åè®®æ ˆæ—¶éƒ½ä¼šè§¦å‘è¿™äº› hookï¼Œç¨‹åº å¯ä»¥é€šè¿‡æ³¨å†Œ hook å‡½æ•°çš„æ–¹å¼åœ¨ä¸€äº›å…³é”®è·¯å¾„ä¸Šå¤„ç†ç½‘ç»œæµé‡ã€‚iptables ç›¸å…³çš„å†…æ ¸æ¨¡ å—åœ¨è¿™äº› hook ç‚¹æ³¨å†Œäº†å¤„ç†å‡½æ•°ï¼Œå› æ­¤å¯ä»¥é€šè¿‡é…ç½® iptables è§„åˆ™æ¥ä½¿å¾—ç½‘ç»œæµé‡ç¬¦åˆ é˜²ç«å¢™è§„åˆ™ã€‚ GRPCæ•°æ®æµ https://ilily.site/grpc-06/ Epollï¼šæ°´å¹³è§¦å‘ä¸Žè¾¹ç¼˜è§¦å‘ https://www.jianshu.com/p/7eaa0224d797 https://segmentfault.com/a/1190000021369433 Pingcapå·¥ç¨‹ä½“ç³» https://pingcap.com/zh/blog/behind-tidb-5.0-engineering-system-of-pingcap-1 æ´»é”é—®é¢˜ https://www.zhihu.com/question/20566246 æ­»é”å¦‚æžœæ˜¯ä¸¤ä¸ªä¸åŠ¨çš„é½¿è½®ï¼Œæ´»é”å¤§æ¦‚å°±æ˜¯ä½ ä½Žå¤´èµ°åœ¨è·¯ä¸Šï¼Œæ­£å¥½å¿«è¦ç¢°ä¸Šä¸€ä¸ªç¾Žå¥³ï¼Œä½ é©¬ä¸Šå¾€å·¦è¾¹åž®äº†ä¸€æ­¥ï¼Œä½†ç¾Žå¥³ä¹Ÿæ­£å¥½å¾€å³è¾¹è·¨äº†ä¸€æ­¥ï¼Œä¸æ–­å¾ªçŽ¯ï¼Œæœ€åŽè°éƒ½è¿‡ä¸åŽ»ã€‚ [LockFreeä¹‹ç¾Ž] å…±äº«å˜é‡çš„å¹¶å‘è¯»å†™ http://oceanbase.org.cn/?p=82 http://oceanbase.org.cn/?cat=14 è§„èŒƒGit Commit https://zhuanlan.zhihu.com/p/182553920 ä¸€å¥—å¯è¡Œçš„git commit messageéªŒè¯å·¥å…·ï¼Œ é€šè¿‡git hookæ¥æ£€æŸ¥commit message https://github.com/typicode/husky https://github.com/conventional-changelog/commitlint ç¾Žå›¢å¤–å–æ•°ä»“å»ºè®¾å®žè·µ https://tech.meituan.com/2021/08/26/data-warehouse-in-meituan-waimai.html å¤§æ•°æ®å®žæ—¶ç³»ç»Ÿæž¶æž„ï¼š Lambaæž¶æž„ ç¦»çº¿å’Œå®žæ—¶åŒè·¯ç”Ÿäº§ï¼Œåœ¨åº”ç”¨å±‚é¢æ•´åˆã€‚ Kappa æž¶æž„ ä¸€å¥—é€»è¾‘åŒæ—¶ç”Ÿäº§ç¦»çº¿å’Œå®žæ—¶ã€‚]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GoogleæŠ€æœ¯å†™ä½œè¯¾â€”â€”ç¬”è®°]]></title>
    <url>%2F2021%2F07%2F22%2FGoogle%E6%8A%80%E6%9C%AF%E5%86%99%E4%BD%9C%E8%AF%BE%E2%80%94%E2%80%94%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯é˜…è¯»å­¦ä¹ google è‹±æ–‡æŠ€æœ¯å†™ä½œ è¯¾ç¨‹çš„ç¬”è®°ã€‚ Courses One Introduction Learning objectives å‰åŽä¸€è‡´çš„ä½¿ç”¨æœ¯è¯­ï¼ˆåŒ…æ‹¬ç¼©å†™å½¢å¼ï¼‰ èƒ½å¤ŸåŒºåˆ†å¹¶æ¶ˆé™¤ä»£è¯çš„æ­§ä¹‰ èƒ½å¤Ÿè¯†åˆ«è¢«åŠ¨è¯­æ€å’Œä¸»åŠ¨è¯­æ€ï¼Œå¹¶èƒ½å°†è¢«åŠ¨è¯­æ€è½¬æ¢ä¸ºä¸»åŠ¨è¯­æ€ æŽŒæ¡è®©å¥å­æ›´åŠ ç®€çŸ­ã€è¡¨è¾¾æ›´åŠ æ¸…æ™°æ›´åŠ å¸å¼•äººçš„å‡ ç§æ–¹æ³•ã€‚ ç†è§£é¡¹ç›®ç¬¦å·åˆ—è¡¨å’Œæ•°å­—ç¬¦å·åˆ—è¡¨çš„åŒºåˆ«ï¼Œèƒ½å¤Ÿæ­£ç¡®çš„é€‰ç”¨ æ®µè½å’Œæ–‡æ¡£ç»“æž„ä¸Šï¼šèƒ½åœ¨æ–‡æ¡£å¼€å¤´è¯´æ˜Žå…³é”®ç‚¹ï¼Œå­¦ä¼šå†™æœ‰æ•ˆçš„æ®µé¦–å¥ï¼Œæ¯ä¸ªæ®µè½åªè®²ä¸€ä¸ªä¸»é¢˜ã€‚ èƒ½å¤Ÿæ˜Žç™½ç›®æ ‡è¯»è€…å·²ç»çŸ¥é“çš„å’Œä½ æƒ³è®©ä»–ä»¬çŸ¥é“çš„ï¼Œé¿å…çŸ¥è¯†è¯…å’’ é¿å…ä¹ è¯­ï¼ˆé»‘è¯ï¼‰ èƒ½å¤Ÿå°†å¤§çš„è¯é¢˜æ‹†æˆåˆé€‚çš„æ®µè½åˆ†åˆ«è¯´æ˜Ž æ­£ç¡®çš„ä½¿ç”¨æ ‡ç‚¹ç¬¦å· ä½¿ç”¨Markdown Word Define new or unfamiliar terms å¯¹äºŽç›®æ ‡è¯»è€…ä¸ç†Ÿæ‚‰çš„æœ¯è¯­ï¼š å¦‚æžœæ˜¯å·²ç»æœ‰çš„æœ¯è¯­ï¼Œç»™ä¸€ä¸ªå¥½çš„å·²æœ‰çš„è§£é‡Šçš„è¿žæŽ¥ï¼ˆä¸è¦é‡å¤é€ è½®å­ï¼‰ å¦‚æžœæ˜¯ä½ çš„æ–‡æ¡£çš„æ–°æœ¯è¯­ï¼Œç»™ä¸€ä¸ªæ¸…æ™°çš„å®šä¹‰ã€‚å¦‚æžœå¾ˆå¤šï¼Œç»™ä¸€ä¸ªæœ¯è¯­è¡¨ Use tems consistently å‰åŽä¸€è‡´çš„ä½¿ç”¨æœ¯è¯­ï¼Œå¦‚ï¼šä¸è¦å‰è¾¹ç”¨ Protocol Buffers åŽè¾¹ç”¨ protobufsã€‚ è‹¥è¦ä½¿ç”¨ç¼©å†™åº”å½“åœ¨æœ¯è¯­ç¬¬ä¸€æ¬¡å‡ºçŽ°æ—¶åœ¨æ‹¬å·å†…è¯´æ˜Žï¼Œä¹‹åŽä¿æŒä¸€è‡´ã€‚å¦‚ï¼š Protocol Buffers (or protobufs for short) Use acronyms properly æœ¯è¯­ç¬¬ä¸€æ¬¡å‡ºçŽ°æ—¶è¦å†™å…¨ç§°ï¼Œä½†ä¹‹åŽå¯ä»¥é€šè¿‡ä½¿ç”¨æ‰€å†™æ¥ç®€åŒ–æ®µè½ã€‚ ä½†æ˜¯ä¸è¦å‡ºçŽ°å…¨ç§°å’Œç¼©å†™å†æ¬¡æ··ç”¨ã€‚ Use the acronym or the full term å¤ªå¤šçš„ç®€å†™è¯»è€…çš„è„‘å­é‡Œå¯èƒ½è¦ç»´æŠ¤ä¸€ä¸ªå¤§çš„mapæ¥å­˜å¯¹åº”å…³ç³»ï¼Œå› æ­¤å¯¹äºŽä¸€äº›æœ¯è¯­æˆ‘ä»¬å¯èƒ½ä¸è¦ç”¨ç®€å†™ä¼šå¥½ä¸€ç‚¹ã€‚ å¯¹äºŽåªå‡ºçŽ°å‡ æ¬¡çš„æœ¯è¯­ä¸éœ€è¦å®šä¹‰ç®€å†™ å¯¹åŒæ—¶æ»¡è¶³ä¸€ä¸‹æƒ…å†µçš„æœ¯è¯­å®šä¹‰ç®€å†™ ç®€å†™è¦æ¯”å…¨ç§°çŸ­çš„å¤š ç®€å†™ä¼šåœ¨æ–‡æ¡£é‡Œå‡ºçŽ°å¾ˆå¤šæ¬¡ï¼ˆè¯»è€…ç†Ÿæ‚‰çš„ç¼©å†™å¯ä»¥å°½æƒ…ä½¿ç”¨ï¼Œå¦‚HTMLï¼‰ Disambiguate pronouns ä»£è¯å¾ˆå®¹æ˜“å‡ºçŽ°æ­§ä¹‰ï¼Œåœ¨æ°å½“æ—¶å€™ä½¿ç”¨ï¼Œå°½é‡é‡å¤ä½¿ç”¨åè¯æ¥è¡¨è¾¾ã€‚ æ°¸è¿œä¸è¦åœ¨ä½ å¼•å…¥ä¸€ä¸ªåè¯å‰å°±ä½¿ç”¨ä»£è¯æŒ‡ä»£ å°†ä»£è¯å’Œå®ƒæŒ‡ä»£çš„åè¯æ”¾ä¸€èµ·ï¼ˆ5ä¸ªå•è¯ä¸¾ä¾‹ä»¥å†…â€”â€”è‹±æ–‡æ ‡å‡†ï¼‰ å¦‚æžœåœ¨ä»£è¯å’ŒæŒ‡å®šä»£çš„åè¯ä¹‹é—´æœ‰ç¬¬äºŒä¸ªåè¯ï¼Œå»ºè®®ç›´æŽ¥é‡å¤ä½¿ç”¨åè¯ã€‚= This and That å¯¹äºŽthiså’Œ thatæœ‰å‡ ç§æŠ€å·§èƒ½å¤Ÿæ¶ˆé™¤æ­§ä¹‰ ç›´æŽ¥å°† thiså’Œthatæ¢æˆå¯¹åº”çš„åè¯ åœ¨this å’Œ that åŽè¾¹ç´§è·Ÿä¸€ä¸ªåè¯ Active voice Distinguish active voice from passive voice in simple sentences Prefer active voice to passive voice è¢«åŠ¨æ—¶æ€å¾€å¾€çœç•¥äº†è¡Œä¸ºäººï¼Œè¯»è€…éœ€è¦çŒœæµ‹è¡Œä¸ºäºº ä¸»åŠ¨æ—¶æ€è¾ƒè¢«åŠ¨æ—¶æ€è¦æ¯”è¢«åŠ¨æ—¶æ€ç›´æŽ¥ ä¸»åŠ¨æ—¶æ€çš„å¥å­ä¸€èˆ¬æ¯”è¢«åŠ¨æ—¶æ€çŸ­ Clear sentences Choose strong verbs æŠ€æœ¯å†™ä½œä¸­ï¼ŒåŠ¨è¯ï¼ˆverbï¼‰æ˜¯å¥å­çš„æœ€é‡è¦ç»„æˆéƒ¨åˆ†ã€‚åŠ¨è¯ç”¨çš„å¥½ï¼Œå¥å­å°±æ— éœ€é¢å¤–è§£é‡Šã€‚ é€‰ç”¨æ¸…æ™°ã€æœ‰åŠ›å’Œå…·ä½“çš„åŠ¨è¯å¯ä»¥æœ‰æ•ˆåœ°å¸å¼•å’Œæ•™è‚²è¯»è€…ã€‚ Weak Verb Strong Verb The error occurs when clicking the Submit button. Clicking the Submit button triggers the error. This error message happens whenâ€¦ The system generates this error message whenâ€¦ We are very careful to ensureâ€¦ We carefully ensureâ€¦ å…¶ä»–çš„å¥å­é—®é¢˜ï¼š å¥å­ä¸­æ²¡æœ‰æ¸…æ™°çš„ä¸»è¯­ è¢«åŠ¨æ—¶æ€å¥å­ hava a xxx æˆ–è€… be xxx Reduce there is/there are ä»¥There is æˆ–è€…There areå¼€å¤´çš„å¥å­å¼€å¾ˆåƒç¯‡ä¸€å¾‹ã€‚ ç›´æŽ¥ç”¨å…·ä½“çš„ä¸»è¯­æ¥ä»£æ›¿ã€‚ ç”¨ youæ¥ä»£æ›¿ Minimize certain adjectives and adverbs å½¢å®¹è¯å’Œå‰¯è¯å¯¹äºŽç§‘æŠ€å†™ä½œæ¥è¯´æ²¡æœ‰è¶³å¤Ÿçš„å®¢è§‚æ€§å’Œç²¾ç¡®æ€§ã€‚ åœ¨ç§‘æŠ€å†™ä½œä¸­åº”å½“ä½¿ç”¨çœŸå®žç²¾ç¡®çš„æ•°æ®æ›¿ä»£è¿™äº›ã€‚ Short sentences Focus each sentence on a single idea æ¯ä¸ªå¥å­åº”å½“åªè¡¨è¾¾ä¸€ä¸ªæ„æ€ Convert some long sentences to lists å½“å‡ºçŽ°ç”¨åˆ°è¿žè¯æˆ–è€…åˆ†å·çš„é•¿å¥å­æ—¶ï¼Œæ¢ç”¨åˆ—è¡¨çš„å½¢å¼æ›´åŠ ç›´è§‚ã€‚ Eliminate or reduce extraneous words å¥å­ä¸­å¾€å¾€ä¼šæœ‰å¾ˆå¤šåºŸè¯ï¼ˆé«˜çº§è¡¨è¾¾ ï¼Œè¦ç²¾ç®€è¿™æ ·çš„è¯è¯­ã€‚ Wordy Concise at this point in time now determine the location of find is able to can Reduce subordinate clauses å­å¥æˆ–è€…ä»Žå¥ä¼šæ‰“ç ´ä¸€ä¸ªå¥å­åªè¡¨è¾¾ä¸€ä¸ªæ„æ€çš„åŽŸåˆ™ï¼Œå¯¼è‡´è¯»è€…ç†è§£å›°éš¾ï¼Œæ‰€ä»¥è¦å°½é‡å‡å°‘è„±ç¦»ä¸»å¥æ ¸å¿ƒæ„æ€çš„ä»Žå¥ã€‚ Distinguish that from which that å’Œ which ä»Žå¥åˆ†åˆ«ä½•æ—¶ä½¿ç”¨ï¼Œæœ‰ä¸€ä¸ªç»éªŒæ³•åˆ™ï¼š which ä»Žå¥åŽ»æŽ‰åŽä¸å½±å“ä¸»å¥çš„æ„æ€ that åŽ»æŽ‰åŽä¸»å¥çš„æ„æ€ä¸å®Œæ•´ Python is an interpreted language, which means the processor runs the program directly. FORTRAN is perfect for mathematical calculations that donâ€™t involve linear algebra. æˆ–è€…ï¼šå°è¯•è¯»å¥å­ï¼Œå¦‚æžœå‘çŽ°è¯»åˆ°ä»Žå¥æ—¶éœ€è¦åœé¡¿ï¼Œé‚£é€‚åˆä½¿ç”¨ whichï¼›å¦åˆ™ä½¿ç”¨ thatã€‚ List and table Choose the correct type of list é¡¹ç›®ç¬¦å·åˆ—è¡¨ æ— åºçš„é¡¹ç›®ï¼ˆæ¢é¡ºåºä¸å½±å“è¡¨è¾¾çš„æ„æ€ï¼‰ æ•°å­—åºå·åˆ—è¡¨ æœ‰åºçš„é¡¹ç›® åµŒå…¥åˆ—è¡¨ï¼ˆåœ¨å¥å­ä¸­ç½—åˆ—ï¼‰ ä¸€èˆ¬ä¸æ˜¯ä¸€ç§å¥½çš„æ–¹å¼ï¼Œåº”è¯¥ç”¨å…¶ä»–ä¸¤ç§ä»£æ›¿ Keep list items parallel å¥½çš„åˆ—è¡¨åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢åº”è¯¥ä¿æŒä¸€è‡´ï¼š è¯­æ³• é€»è¾‘ç±»åž‹ å¤§å°å†™ æ ‡ç‚¹ç¬¦å· Start numbered list items with imperative verbs åœ¨æœ‰åºåˆ—è¡¨ä¸­ï¼Œä½¿ç”¨ç¥ˆä½¿å¥æ¥è¡¨è¾¾æµç¨‹ã€‚ Punctuate items appropriately åªåœ¨åˆ—è¡¨é¡¹æ˜¯ä¸€ä¸ªå¥å­æ—¶ï¼Œé¦–å­—æ¯å¤§å†™å’Œä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚å…¶ä»–æƒ…å†µä¸‹ä¸ä½¿ç”¨ã€‚ Create useful tables åŠ å…¥è¡¨æ ¼åº”å½“éµå®ˆä»¥ä¸‹åŽŸåˆ™ï¼š æ¯ä¸€åˆ—éƒ½è¦æœ‰ä¸€ä¸ªæ˜Žç¡®çš„åˆ—å¤´ã€‚ é¿å…ä¸€ä¸ªå•å…ƒæ ¼å†…æœ‰å¤ªå¤šæ–‡æœ¬(ä¸è¦è¶…è¿‡ä¸¤å¥è¯)ã€‚ è¡¨æ ¼å†…çš„æ•°æ®åº”å½“å°½é‡ä¿æŒå…³è”ï¼Œä¸è¦å°†æ¯«ä¸ç›¸å…³çš„ä¸œè¥¿æ”¾åˆ°ä¸€èµ·ã€‚ Introduce each list and table åœ¨å¼•å…¥è¡¨æ ¼å’Œåˆ—æ ‡ç­¾éƒ½ç”¨ä¸€å¥è¯ä»‹ç»ä¸€ä¸‹ã€‚ Paragraphs Write a great opening sentence æ¯æ®µçš„ç¬¬ä¸€å¥æ˜¯æœ€é‡è¦çš„ã€‚è®¸å¤šæ¯”è¾ƒå¿™çš„è¯»è€…å¯èƒ½åªä¼šè·³ç€è¯»æ¯æ®µçš„ç¬¬ä¸€å¥ Focus each paragraph on a single topic æ¯æ®µéƒ½åº”è¯¥åªæœ‰ä¸€ä¸ªä¸»é¢˜æ€æƒ³ã€‚å½“æ®µè½å†…æœ‰æè¿°å…¶ä»–æ®µçš„å†…å®¹æ—¶ï¼Œåº”è¯¥ç›´æŽ¥åˆ æŽ‰ã€‚ Dontâ€™t make paragraphs too long or too short å¤ªé•¿çš„æ®µè½ä¼šçœ‹èµ·æ¥å¾ˆå“äººï¼Œå®¹æ˜“è¢«è¯»è€…è·³è¿‡ã€‚ï¼ˆ3-5å¥ä¸ºä½³ï¼Œè¶…è¿‡7å¥å°±å¤ªé•¿äº†ï¼‰ ç›¸åº”çš„ï¼Œä¹Ÿä¸è¦è®©æ®µè½å¤ªçŸ­äº†ï¼Œè¿™æ ·ä¼šä½¿è¯»è€…èšå¾·ä½ çš„æ–‡ç« ç»„ç»‡ä¸é è°±ã€‚ Anser what, why, and how ä¸€ä¸ªæ®µè½åº”è¯¥èƒ½å›žç­”ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š What are you trying to tell your reader? Why is it important for the reader to know this? How should the reader use this knowledge? Alternatively, how should the reader know your point to be true? Audience good documentation = knowledge and skills your audience needs to do a task âˆ’ your audienceâ€™s current knowledge and skills Define your audience ä¸¥è‚ƒçš„æ–‡æ¡£å¯èƒ½ä¼šåšå¾ˆå¤šçš„è°ƒç ”å·¥ä½œæ¥ç¡®å®šè¯»è€…ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›æ¯”è¾ƒç®€å•çš„æ–¹æ³•ï¼š ç¡®è®¤è¯»è€…è§’è‰² æ˜Žç¡®è§’è‰²çš„knowledge baseï¼ˆç›¸åŒè§’è‰²çš„è¯»è€…ä¼šæœ‰å·®ä¸å¤šçš„knowledge baseï¼‰ æ‰¾å‡ºå¯¹åŒä¸€ä¸ªè§’è‰²çš„è¯»è€…çš„å·®å¼‚ å¯¹äºŽåŒä¸€ä¸ªè§’è‰²çš„è¯»è€…æœ‰äº›å†…å®¹æ˜¯æœ‰äº›äººçŸ¥é“ï¼Œæœ‰äº›äººä¸çŸ¥é“çš„ã€‚å¦‚C++å·¥ç¨‹å¸ˆå¯èƒ½æ¯”Pythonå·¥ç¨‹å¸ˆæ›´åŠ ç†Ÿæ‚‰æ“ä½œç³»ç»Ÿ ç¡®è®¤è§’è‰²çš„æ—¥å¸¸ç»éªŒ è½¯ä»¶å·¥ç¨‹å¸ˆè™½ç„¶ä¸€èˆ¬å­¦è¿‡å¾®ç§¯åˆ†ï¼Œä½†å¯èƒ½ä»–ä»¬é•¿æ—¶é—´ä¸ç”¨ï¼Œå·²ç»ä¸ä¼šäº†ï¼Œä½†å¯èƒ½å¯¹é¡¹ç›®ä¸­çš„çŸ¥è¯†å¾ˆäº†è§£ã€‚ Sample audience analysis è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š The target audience for Project Zylmon falls into the following roles: software engineers technical product managers The target audience has the following proximity to the knowledge: My target audience already knows the Zyljeune APIs, which are somewhat similar to the Zylmon APIs. My target audience knows C++, but has not typically built C++ programs in the new Winged Victory development environment. My target audience took linear algebra in university, but many members of the team need a refresher on matrix multiplication. Determine what your audience needs to learn ç”¨ä¸€ä¸ªåˆ—è¡¨å†™ä¸‹æ‰€æœ‰ä½ è¯»è€…è¯»å®Œä½ çš„æ–‡æ¡£éœ€è¦èƒ½å¤Ÿå­¦åˆ°çš„ä¸œè¥¿ã€‚æœ‰æ—¶ä½ åˆ—è¿™äº›ç›®æ ‡ä¼šæœ‰ä¸€ä¸ªé¡ºåºï¼Œéœ€è¦å…ˆçŸ¥é“xxxå†å­¦åˆ°jjj,ä¹Ÿè¦åˆ—å‡ºæ¥ã€‚å¦‚æžœä½ æ˜¯åœ¨å†™ä¸€ä¸ªä»½è®¾è®¡è§„çº¦ï¼Œæœ€å¥½å…³æ³¨åœ¨è®©ä½ çš„è¯»è€…äº†è§£æ•´ä¸ªè®¾è®¡ï¼Œè€Œä¸æ˜¯ä¸“ç²¾äºŽæŸä¸ªç»†èŠ‚ã€‚ Fit documentation to your audience ä½ å¿…é¡»è¦ç”¨è¯»è€…æ„Ÿå…´è¶£çš„è¯­è¨€è¯´æ˜Žé—®é¢˜ï¼Œè€Œä¸æ˜¯ä½ è‡ªå·±ä¹ æƒ¯çš„è¡¨çš„æ–¹å¼ã€‚ Vovabulary and concepts ç”¨è¯»è€…èƒ½å¬æ‡‚çš„å•è¯å’Œæ¦‚å¿µã€‚å½“ç›®æ ‡è¯»è€…æ¯”è¾ƒå¹¿æ³›çš„æ—¶å€™ï¼Œå¿…é¡»è¦è¿›è¡Œæ›´å¤šçš„åè¯å’Œæ¦‚å¿µçš„è§£é‡Šã€‚ Curse of knowledge ä¸€ä¸ªä¸“å®¶å¯èƒ½æ„è¯†ä¸åˆ°è¯»è€…ä¸çŸ¥é“ä»–å·²ç»çŸ¥é“çš„çŸ¥è¯† Simple words å°½é‡ä½¿ç”¨ç®€å•çš„å•è¯ï¼Œé¿å…ç»™éžæ¯è¯­è€…é€ æˆå›°æ‰°ã€‚ Cultural neutrality and idioms å°½é‡ä¿æŒæ–‡ç« æ–‡åŒ–ä¸­ç«‹ã€‚ä¸è¦ä½¿ç”¨ä¸€äº›ç‰¹å®šæ–‡åŒ–å†…çš„ä¿—è¯­æˆ–è€…ç¼©å†™ã€‚ Documents State your documentâ€™s scope ä¸€ç¯‡å¥½çš„æ–‡æ¡£åœ¨å¼€å¤´å°±åº”å½“æè¿°æ¸…æ¥šæ–‡æ¡£çš„å†…å®¹ã€‚æ›´å¥½çš„æ–‡æ¡£è¿˜ä¼šæŒ‡æ˜Žä¸ä¼šä¸åŒ…æ‹¬çš„å†…å®¹ï¼ˆå¯èƒ½æ˜¯è¯»è€…é¢„æœŸèƒ½å¤Ÿç‹¬åˆ°çš„ï¼‰ã€‚ State your audience åœ¨å¼€å¤´æ˜Žç¡®ç›®æ ‡è¯»è€…ï¼Œé™¤äº†æ˜Žç¡®ç›®æ ‡è¯»è€…çš„è§’è‰²ï¼Œå¯èƒ½è¿˜éœ€è¦æ˜Žç¡®è¯»è€…éœ€è¦å…·å¤‡çš„çŸ¥è¯†æˆ–ç»éªŒã€‚åœ¨ä¸€äº›æ–‡æ¡£ä¸­ï¼Œå¯èƒ½è¿˜è¦æ˜Žç¡®éœ€è¦æå‰é˜…è¯»çš„å…¶ä»–æ–‡æ¡£ã€‚ Establish your key points up front åœ¨ç¬¬ä¸€æ®µå°±è¡¨æ˜Žè§‚ç‚¹ã€‚ä¿è¯ä½ çš„ç¬¬ä¸€æ®µèƒ½å¤Ÿè®©è¯»è€…ç†è§£ã€‚ åœ¨ç¬¬ä¸€é¡µå¤šä¸‹åŠŸå¤«ï¼Œä»¥èƒ½å¤Ÿå¸å¼•è¯»è€…è¯»åˆ°åŽè¾¹åŽ»ã€‚ é•¿æ–‡æ¡£ä¸€å®šè¦å†™ä¸€ä¸ªæ‰§è¡Œæ‘˜è¦ï¼ˆTL; DRï¼‰ï¼›åŒæ—¶TLDRåº”å½“ç®€çŸ­æœ‰è¶£ï¼Œå¦åˆ™ä¼šå“é€€è¯»è€…ã€‚ Write for your audience Define the audience Who is your target audience? What do your readers already know before they read your document? What should your readers know or be able to do after they read your document? Organize for your audienceâ€™s needs ä»¥æ¸…æ™°çš„æ–¹å¼ç»„ç»‡æ–‡æ¡£ï¼Œä»¥ä¾¿è¯»è€…èƒ½å¤Ÿæœ‰æ•ˆåœ°æŽŒæ¡æˆ–å­¦ä¹ ã€‚ Break your topic into sections æœ‰ç»“æž„çš„åˆ‡åˆ†ä½ çš„è¯é¢˜ ç»„ç»‡æ–‡ç« å°±åƒæŠŠç½å­å¡«æ»¡ï¼š å…ˆä»¥å¤§çš„ä¸»é¢˜å†…å®¹æ­å»ºæ–‡ç« æ¡†æž¶ã€‚ å†åˆ—ä¸¾æ¯ä¸€éƒ¨åˆ†çš„ä¸»é¢˜ã€‚ æœ€åŽç”¨ç»†èŠ‚å¡«å……ã€‚ Courses Two Introduction Learning objectives å†™è‰ç¨¿çš„æ–¹æ³•å’Œä¿®æ­£çš„æ–¹æ³•ã€‚ å‡ ç§æ£€æµ‹æ–‡ç« ä¸­é”™è¯¯çš„æ–¹æ³• å¤§åž‹æ–‡æ¡£çš„ç»„ç»‡æ–¹æ³• ä»‹ç»æ–‡ç« å†…å®¹å’Œå‰ç½®çŸ¥è¯† æ¸…æ¥šçš„æ•°å­—è¯´æ˜Ž æ­£ç¡®ä½¿ç”¨æŠ€æœ¯æ’å›¾ åˆ›å»ºæœ‰ç”¨çš„ã€å‡†ç¡®çš„ã€ç®€æ´çš„ã€æ¸…æ™°çš„ã€å¯é‡ç”¨çš„ã€æ³¨é‡Šè‰¯å¥½çš„ç¤ºä¾‹ä»£ç  åŒºåˆ†ä¸åŒçš„æ–‡æ¡£ç±»åž‹ æè¿°ä»»ä½•äº‹æƒ… ä¸ºåˆå­¦è€…è¯»è€…æä¾›æŒ‡å— Self-editing Adopt a style guide åœ¨ç»„å†…æˆ–å…¬å¸å†…ä½¿ç”¨ç»Ÿä¸€çš„æ–‡æ¡£é£Žæ ¼ style-guide highlightsã€‚ Think like your audience åœ¨è¯»è€…è§’åº¦çœ‹ä½ çš„æ–‡ç« ï¼Œä¿è¯ä½ çš„æ–‡æ¡£æ˜¯æ¸…æ™°çš„ï¼ŒåŒæ—¶æœ‰å¿…è¦çš„åè¯è§£é‡Šã€‚ Read it out loud é€šè¿‡å¤§å£°è¯»å‡ºæ¥å¯ä»¥æ‰¾å‡ºæ–‡ç« ä¸­ä¸è‡ªç„¶çš„åœ°æ–¹ã€‚åŒæ—¶ï¼Œè¯»å‡ºæ¥ä¹Ÿèƒ½å¸®åŠ©ä½ åˆ¤æ–­ä½ çš„è¡Œæ–‡é£Žæ ¼æ˜¯å¦ç¬¦åˆæ–‡æ¡£çš„åœºæ™¯ï¼Œå¦‚ï¼š getting started guide éœ€è¦åå£è¯­åŒ–ï¼Œè½»æ¾ä¸€äº›ï¼› å¼€å‘è€…æ–‡æ¡£è¿½æ±‚ä¸¥è°¨ï¼Œå‡†ç¡®ã€‚ Come back to it later åœ¨å†™å®Œè‰ç¨¿åŽå…ˆæ”¾åˆ°ä¸€è¾¹ï¼Œè¿‡1-2å°æ—¶åŽå†æ¥çœ‹ä¸€éï¼Œå¾€å¾€ä¼šæ³¨æ„åˆ°æ–°çš„ä¸œè¥¿ã€‚ Change the context å°†ä½ çš„æ–‡æ¡£å¤åˆ¶ï¼Œç”¨æ›´æ¢å­—ä½“å­—å·ä»¥åŠé¢œè‰²ç­‰æ¥è¿›è¡Œä¿®æ”¹ã€‚ï¼ˆç±»ä¼¼äºŽæ”¹ä½œæ–‡æ—¶ç”¨çº¢ç¬”ï¼‰ Find a peer editor å’Œä»£ç ä¸€æ ·ï¼Œæ–‡æ¡£ä¹Ÿéœ€è¦reviewã€‚æ³¨æ„revieweråº”å½“ç†Ÿæ‚‰ä½ ä»¬è§„å®šçš„æ–‡æ¡£é£Žæ ¼ã€‚ Organizing large documents When to write large documents ä¸åŒçš„è¯»è€…çš„é˜…è¯»å–œå¥½ä¸ä¸€æ ·ï¼Œ å› æ­¤è¦åŒºåˆ†å¼€æ¥ã€‚æœ‰ä»¥ä¸‹å‡ ä¸ªæŒ‡å¯¼åŽŸåˆ™ï¼š æ“ä½œæŒ‡å—ã€ä»‹ç»æ€§æ¦‚è¿°å’Œæ¦‚å¿µä»‹ç»è¿™ç±»çš„æ–‡æ¡£ï¼Œç®€çŸ­æœ€å¥½ã€‚ æ·±å…¥çš„æ•™ç¨‹ã€æœ€ä½³å®žè·µæŒ‡å—å’Œå‘½ä»¤è¡Œå‚è€ƒé¡µé¢è¿™ç±»çš„æ–‡æ¡£ï¼Œå¯ä»¥é•¿ä¸€ç‚¹ã€‚ ä¼˜ç§€çš„é•¿æ–‡æ¡£åº”å½“èƒ½å¤Ÿå¼•å¯¼è¯»è€…ä¸€éƒ¨åˆ†ä¸€éƒ¨åˆ†çš„è¯»å®Œæ•´ä¸ªæ•™ç¨‹ã€‚ è®¸å¤šé•¿æ–‡æ¡£çš„ç¼–å†™ç›®çš„å°±ä¸æ˜¯è¢«ä¸€æ¬¡è¯»å®Œçš„ï¼Œå¯èƒ½æ˜¯ä¾›éœ€è¦æ—¶æŸ¥è¯¢ã€‚ Organize a document Outline a document åœ¨å†™æ–‡ç« å‰è¦çŽ°æœ‰ä¸€ä»½ç»“æž„åŒ–çš„ï¼Œé«˜å±‚æ¬¡çš„å¤§çº²ã€‚ä¸€ä»½å¥½çš„å¤§çº²æœ‰ä»¥ä¸‹æŒ‡å¯¼åŽŸåˆ™ï¼š åœ¨å‘Šè¯‰è¯»è€…è¦åšä»€ä¹ˆä¹‹å‰ï¼Œå…ˆå‘Šè¯‰ä»–ä»¬ä¸ºä»€ä¹ˆ å¤§çº²é‡Œçš„ä¸€é¡¹æ¶‰åŠçš„èŒƒå›´åº”å½“é™åˆ¶åœ¨æè¿°ä¸€ä¸ªæ¦‚å¿µæˆ–æ‰§è¡Œä¸€ä¸ªå…·ä½“çš„åŠ¨ä½œçš„èŒƒå›´å†…ã€‚ æŠŠä½ çš„å¤§çº²ç»„ç»‡æ›¾æœ€èƒ½å¤Ÿæ–¹ä¾¿è¯»è€…ç†è§£çš„å½¢å¼ã€‚ ä»‹ç»æ¦‚å¿µå’Œå®žè·µäº¤æ›¿ä»‹ç»ï¼Œå¸®åŠ©è¯»è€…æœ€æœ‰å½±å“çš„æ—¶å€™å®žè·µã€‚ åœ¨å¼€å§‹è‰ç¨¿å‰åº”è¯¥æŠŠå¤§çº²åˆ†äº«ç»™ä½ çš„ä¼™ä¼´ã€‚ Introduce a document å¦‚æžœè¯»è€…ä¸èƒ½çŸ¥é“ä½ çš„æ–‡æ¡£æ˜¯ä¸æ˜¯å’Œä»–å…³å¿ƒçš„ä¸»é¢˜æœ‰å…³ï¼Œä»–å¯èƒ½å°±ä¸ä¼šè¯»äº†ï¼Œæ‰€ä»¥æ–‡æ¡£ä¸­åº”è¯¥åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š What the document covers What prior knowledge you expect readers to have. What the document doesnâ€™t cover Add navigation æ·»åŠ å¯¼èˆªæ ï¼Œå¯¼èˆªæ åº”è¯¥åŒ…æ‹¬ï¼š ä»‹ç»å’Œæ€»ç»“æ®µ é€»è¾‘æ¸…æ™°çš„ä¸»é¢˜ èƒ½å¸®åŠ©è¯»è€…ç†è§£ä¸»é¢˜çš„ä¸»å‰¯æ ‡é¢˜ èƒ½å¤Ÿæ˜¾ç¤ºå½“å‰ä½ç½®çš„èœå•æ  é“¾æŽ¥åˆ°ç›¸å…³çš„èµ„æºå’Œæ›´æ·±å±‚æ¬¡çš„ä¿¡æ¯ é“¾æŽ¥åˆ°ä¸‹ä¸€æ­¥è¯¥å­¦ä¹ çš„å†…å®¹ Prefer task-based headings ç”¨è¯»è€…æ­£åœ¨å¤„ç†çš„ä»»åŠ¡ä½œä¸ºæ ‡é¢˜ï¼ˆå¦‚ç”¨Cå†™æœåŠ¡å™¨ï¼‰ï¼Œé¿å…å‡ºçŽ°è¯»è€…ç›®å‰è¿˜ä¸ç†Ÿæ‚‰çš„æœ¯è¯­å’Œå·¥å…·ï¼ˆå¦‚ä¸è¦å‡ºçŽ°å…·ä½“çš„Cæ¡†æž¶åï¼‰ã€‚ Provide text under each heading åœ¨æ¯æ®µæ ‡é¢˜ä¸‹æœ€å°‘è¦æœ‰ä¸€æ®µç®€çŸ­çš„ä»‹ç»ã€‚ä¸è¦æ ‡é¢˜æŒ¨ç€è¿™æ ‡é¢˜ Disclose information progressively å¤ªå¤šçš„æ–°æœ¯è¯­å’Œæ–°åè¯ä¼šè®©è¯»è€…éš¾ä»¥è¯»ä¸‹åŽ»ï¼Œåº”å½“åœ¨éœ€è¦æ—¶æ‰å¾ªåºæ¸è¿›çš„å‘è¯»è€…æä¾›ä¿¡æ¯ã€‚ ä»¥ä¸‹å°æŠ€å·§å¯ä»¥å¸®åŠ©ä½ æ›´å¥½çš„å¹³è¡¡ï¼š å°½é‡åœ¨éœ€è¦ç”¨åˆ°çš„åœ°æ–¹é™„è¿‘ä»‹ç»æ–°æœ¯è¯­æˆ–æ¦‚å¿µ é¿å…å·¨å¤§çš„ä¸€æ®µå‡ºçŽ°åœ¨æ–‡æœ¬ä¸Šï¼Œ åŠ å…¥ä¸€äº›è¡¨æ ¼ã€æ’å›¾æˆ–è€…æ ‡é¢˜ã€‚ å°†å¤§çš„æµç¨‹åˆ†æˆå¤šæ­¥ ã€‚ ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹ï¼Œé€æ­¥çš„æ·»åŠ æ›´å¤šå¤æ‚çš„ã€æœ‰æ„æ€çš„æŠ€å·§ã€‚ Illustrating æ·»åŠ æ’å›¾åŽï¼Œä¸ç®¡æ˜¯å¥½æ˜¯åï¼Œä¼šè®©è¯»è€…æ›´æ„¿æ„é˜…è¯»æ–‡æ¡£ Write the caption first å¥½çš„æ ‡é¢˜ï¼š åº”è¯¥æ˜¯ç®€æ´çš„ã€‚ åº”è¯¥èƒ½å¤Ÿå‘ŠçŸ¥è¯»è€…è¦ç‚¹ã€‚ åº”è¯¥èƒ½å¤Ÿå¼•å¯¼è¯»è€…æ³¨æ„åŠ›åœ¨æŸä¸€ç‚¹ä¸Šã€‚ Constrain the amount of information in a single drawing å°±åƒé¿å…å†—é•¿å¤æ‚çš„å¥å­ä¸€æ ·ï¼Œä¸€ä¸ªå›¾ä¾‹ä¸­ä¹Ÿä¸è¦æ”¾å¤ªå¤šä¿¡æ¯ï¼ˆä¸€ä¸ªç»éªŒå€¼ï¼šéœ€è¦è§£é‡Šçš„å†…å®¹ä¸è¦è¶…è¿‡5ä¸ªé¡¹ç›®ç¬¦å·ï¼‰ã€‚ Focus the readerâ€™s attention ä½¿ç”¨ä¸€äº›è§†è§‰æ ‡è®°ï¼Œæ¯”å¦‚è¯´ç®­å¤´æˆ–è€…åœˆï¼Œè®©è¯»è€…èƒ½å¤Ÿæ³¨æ„åˆ°é‡è¦çš„éƒ¨åˆ†ã€‚ Illustrating is re-illustrating ç¬¬ä¸€ç‰ˆçš„å›¾æˆ–æ ‡é¢˜å¾ˆéš¾æ˜¯æœ€ä¼˜çš„ï¼Œå› æ­¤éœ€è¦åå¤è¿­ä»£ã€‚ Creating sample code å¥½çš„ç¤ºä¾‹ä»£ç å°±æ˜¯æœ€å¥½çš„æ–‡æ¡£ã€‚ Correct ç¤ºä¾‹ä»£ç ç›´æŽ¥å½±å“ä½ çš„ç”¨æˆ·å†™çš„ä»£ç æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œç¤ºä¾‹ä»£ç éœ€è¦ç¬¦åˆä»¥ä¸‹æ ‡å‡†ï¼š Build without errors. Perform the task it claims to perform. Be as production-ready as possible. For example, the code shouldnâ€™t contain any security vulnerabilities. Follow language-specific conventions. Running sample code å¥½çš„æ–‡æ¡£ä¼šè§£é‡Šæ€Žä¹ˆè·‘ç¤ºä¾‹ä»£ç ï¼š Install a certain library. Adjust the values assigned to certain environment variables. Adjust something in the integrated development environment (IDE). Concise ç¤ºä¾‹ä»£ç åº”è¯¥æ˜¯ç®€çŸ­çš„ï¼ŒåªåŒ…å«å¿…è¦çš„ç»„ä»¶ã€‚ Understandable æœ‰ä»¥ä¸‹å»ºè®®ï¼š Pick descriptive class, method, and variable names. Avoid confusing your readers with hard-to-decipher programming tricks. Avoid deeply nested code. Optional: Use bold or colored font to draw the readerâ€™s attention to a specific section of your sample code. However, use highlighting judiciouslyâ€”too much highlighting means the reader wonâ€™t focus on anything in particular. Commented Keep comments short, but always prefer clarity over brevity. Avoid writing comments about obvious code, but remember that what is obvious to you (the expert) might not be obvious to newcomers. Focus your commenting energy on anything non-intuitive in the code. When your readers are very experienced with a technology, donâ€™t explain what the code is doing, explain why the code is doing it. Reusable å¥½çš„ç¤ºä¾‹ä»£ç ï¼Œåº”å½“æä¾›ä»¥ä¸‹å†…å®¹ï¼š All information necessary to run the sample code, including any dependencies and setup. Code that can be extended or customized in useful ways. The example and the anti-example åŒæ—¶å±•ç¤ºæ­£ç¡®ç¤ºä¾‹å’Œé”™è¯¯ç¤ºä¾‹ï¼Œæœ‰åˆ©äºŽè¯»è€…ç†è§£ã€‚ Sequenced ç¤ºä¾‹ä»£ç åªå±•ç¤ºäº†ä¸€éƒ¨åˆ†çš„å¤æ‚æ€§ã€‚å¤ªå¤æ‚çš„åŠŸèƒ½è¯»è€…å¯èƒ½ä¹Ÿç†è§£ä¸äº†ã€‚]]></content>
      <categories>
        <category>è½¯æŠ€èƒ½</category>
      </categories>
      <tags>
        <tag>å†™ä½œ</tag>
        <tag>è‹±æ–‡å†™ä½œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2021-07-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F07%2F06%2FTechnicalDigest%2F2021-07-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[Socketç¼“å­˜ç©¶ç«Ÿå¦‚ä½•å½±å“TCPçš„æ€§èƒ½ï¼Ÿ https://zorrozou.github.io/docs/Socketç¼“å­˜ç©¶ç«Ÿå¦‚ä½•å½±å“TCPçš„æ€§èƒ½.html æ‰€ä»¥ï¼Œé€‰æ‹©ä¸åŒçš„æ‹¥å¡žæŽ§åˆ¶ç®—æ³•ï¼Œæ›´å¤šå½±å“çš„æ˜¯ä¸¢åŒ…ä¹‹åŽçš„å¿«é€Ÿæ¢å¤è¿‡ç¨‹å’Œæ…¢å¯åŠ¨è¿‡ç¨‹çš„æ•ˆæžœã€‚æ¯”å¦‚ï¼Œbbrè¿™ç§å¯¹ä¸¢åŒ…ä¸æ•æ„Ÿçš„æ‹¥å¡žæŽ§åˆ¶ç®—æ³•ï¼Œåœ¨æœ‰ä¸¢åŒ…çš„æƒ…å†µä¸‹ï¼Œå¯¹çª—å£çš„å½±å“æ¯”å…¶ä»–æ‹¥å¡žæŽ§åˆ¶ç®—æ³•æ›´å°ã€‚è€Œå¦‚æžœç½‘ç»œä»…ä»…æ˜¯å»¶æ—¶å¤§ï¼Œä¸¢åŒ…å¾ˆå°‘çš„è¯ï¼Œé€‰ä»€ä¹ˆæ‹¥å¡žæŽ§åˆ¶ç®—æ³•å¯¹å¸¦å®½åˆ©ç”¨çŽ‡å½±å“å¹¶ä¸å¤§ï¼Œç¼“å­˜å½±å“ä¼šæ›´å¤§ã€‚ è¿ç»´å¹³å°å»ºè®¾ https://segmentfault.com/a/1190000014088336 è¿ç»´ä¸‰ä¸ªé˜¶æ®µ ç¬¬ä¸€é˜¶æ®µï¼šé»‘å±ï¼Œä¸‰è§’å½¢æ˜¯ä»£è¡¨æ•´ä¸ªè¿ç»´ç»™ç”¨æˆ·çš„ä¸€äº›ä½“æ„Ÿæˆ–è€…ç»™ç ”å‘çš„ä½“æ„Ÿï¼Œäººå·¥è¿ç»´ï¼Œç›®å‰å¾ˆå¤šä¼ä¸šå¯èƒ½è¿˜æ˜¯è¿™æ ·ã€‚ ç¬¬äºŒé˜¶æ®µï¼šç™½å±ï¼Œè‡ªåŠ¨åŒ–è¿ç»´ï¼Œä»¥å‰æŠŠè„šæœ¬åšæˆå·¥å…·åŽ»å¼„ï¼Œæœ‰ä»€ä¹ˆç‰¹å¾ï¼Œäººpushæœºå™¨åŽ»å¹²æ´»ï¼Œè‡ªåŠ©è¿ç»´ã€‚ ç¬¬ä¸‰é˜¶æ®µï¼šç”¨æˆ·å¯¹è¿ç»´ä½“æ„Ÿå¾ˆå°‘ï¼Œä½†æ˜¯è¿ç»´è¿™ä¸ªé¢†åŸŸæ˜¯ä¸å˜çš„ã€‚æœ€é‡è¦çš„æ˜¯äººæœºäº¤äº’å˜å°‘äº†ï¼Œæ— å±è™½è¯´æ˜¯ä¸å¯èƒ½çš„ï¼Œéžå¸¸æžç«¯ï¼Œä½†æ˜¯ä¸ªè¶‹åŠ¿ï¼Œå°‘é‡çš„äººæœºäº¤äº’ï¼Œå®ƒæœ‰è‡ªå†³ç­–ã€è‡ªé©±åŠ¨ã€‚ ä¸ºä»€ä¹ˆWebAssemblyä¸­çš„å†…å­˜æ˜¯å®‰å…¨çš„ https://segmentfault.com/a/1190000025183711 å†…å­˜æ³„æ¼ å½“é™„åŠ äº†å†…å­˜å¯¹è±¡çš„WebAssemblyå®žä¾‹è¶…å‡ºèŒƒå›´æ—¶ï¼Œå¯ä»¥å¯¹æ•´ä¸ªå†…å­˜æ•°ç»„è¿›è¡Œåžƒåœ¾å›žæ”¶ã€‚ å†…å­˜éš”ç¦» æ¯å½“WebAssemblyä¸­æœ‰è´Ÿè½½æˆ–å­˜å‚¨æ—¶ï¼Œå¼•æ“Žéƒ½ä¼šè¿›è¡Œæ•°ç»„è¾¹ç•Œæ£€æŸ¥ï¼Œä»¥ç¡®ä¿åœ°å€ä½äºŽWebAssemblyå®žä¾‹çš„å†…å­˜ä¸­ã€‚ å¦‚æžœä»£ç å°è¯•è®¿é—®è¶Šç•Œåœ°å€ï¼Œåˆ™å¼•æ“Žå°†å¼•å‘å¼‚å¸¸ã€‚è¿™æ ·å¯ä»¥ä¿æŠ¤å…¶ä½™çš„å†…å­˜ã€‚ å•å…ƒæµ‹è¯•æˆç¥žä¹‹è·¯â€”â€”c++ https://zhangyuyu.github.io/cpp-unit-test/ æ¯”è¾ƒæ¸…æ™°ï¼Œå€¼å¾—ç¿»é˜…ã€‚]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€ ðŸ’©è§„èŒƒ]]></title>
    <url>%2F2021%2F06%2F02%2F%E9%80%A0%F0%9F%92%A9%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[ç±»å‘½åï¼š çˆ¶ç±» BaseShi å­ç±» Shi1 Shi2]]></content>
  </entry>
  <entry>
    <title><![CDATA[2021-06-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F06%2F01%2FTechnicalDigest%2F2021-06-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[åŽ‹ç¼©ç®—æ³• https://tech.meituan.com/2021/01/07/pack-gzip-zstd-lz4.html ä»¥æž„å»ºéƒ¨ç½²çš„æƒ…æ™¯ä¸‹ï¼Œä»‹ç»äº†å¤šç§åŽ‹ç¼©ç®—æ³•çš„æ•ˆçŽ‡å’ŒåŽ‹ç¼©æ¯”ã€‚å…¶ä¸­ISA-L Acceleration Version çš„åŠ é€Ÿæ–¹æ³•ï¼ŒæŒ‡ä»¤çº§çš„ä¼˜åŒ–æ¯”è¾ƒæ–°é¢– è‡ªé€‚åº”ç®—æ³•å’Œå­¦ä¹ ç®—æ³• https://zhuanlan.zhihu.com/p/24893109 è‡ªé€‚åº”ç®—æ³•è™½ç„¶è€ƒè™‘äº†é”…å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å¹¶ä¸åŽ»ä¸»åŠ¨äº†è§£å½“å‰çš„åˆ°åº•æ˜¯ç”¨äº†ä»€ä¹ˆé”…ï¼Œè€Œå­¦ä¹ ç®—æ³•åˆ™éžå¸¸å…³æ³¨å½“å‰ä½¿ç”¨çš„ æ˜¯å“ªä¸€ç§é”…ï¼Œä»Žè€Œå¯ä»¥å»ºç«‹å¯¹åº”çš„èµ„æ–™åº“ã€‚åœ¨ä¸¤ç§ç®—æ³•éƒ½æ”¶æ•›åŽï¼Œå¯¹äºŽè‡ªé€‚åº”ç®—æ³•ï¼Œå¦‚æžœæ¢æŽ‰é”…ï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥åˆæ˜¯ä¸€ç³»åˆ—è°ƒæ•´ï¼Œç›´åˆ°ç”¨æ°´é‡åˆé€‚ã€‚è€Œå¯¹äºŽå­¦ä¹ ç®—æ³•ï¼Œä¸€æŸ¥èµ„æ–™åº“ï¼Œå°±èƒ½å¾—åˆ°æœ€ä½³çš„ç”¨æ°´é‡ã€‚ ä½è¿ç®—æŠ€å·§ ä½è¿ç®—ç®€ä»‹åŠæŠ€å·§ç³»åˆ— ä½è¿ç®—ç®€ä»‹åŠå®žç”¨æŠ€å·§ï¼ˆä¸€ï¼‰ï¼šåŸºç¡€ç¯‡ ä½è¿ç®—ç®€ä»‹åŠå®žç”¨æŠ€å·§ï¼ˆäºŒï¼‰ï¼šè¿›é˜¶ç¯‡(1) ä½è¿ç®—ç®€ä»‹åŠå®žç”¨æŠ€å·§ï¼ˆä¸‰ï¼‰ï¼šè¿›é˜¶ç¯‡(2) ä½è¿ç®—ç®€ä»‹åŠå®žç”¨æŠ€å·§ï¼ˆå››ï¼‰ï¼šå®žæˆ˜ç¯‡ 20ä¸ªä½è¿ç®—å®žç”¨æŠ€å·§ https://blog.csdn.net/zmazon/article/details/8262185 é«˜æ€§èƒ½çŽ¯å½¢é˜Ÿåˆ—å®žçŽ° https://hedzr.com/algorithm/golang/ringbuf-01-intro/ RDMAæŠ€æœ¯è¯¦è§£ éžå¸¸è¯¦ç»†çš„ç³»åˆ— èƒ½å¤Ÿä»ŽåŽŸç†ä¸Šç†è§£RDMAçš„å·¥ä½œæ–¹å¼ https://zhuanlan.zhihu.com/p/55142557 https://zhuanlan.zhihu.com/p/55142547 https://zhuanlan.zhihu.com/p/55142568 ä½¿ç”¨RDMAçš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š é›¶æ‹·è´(Zero-copy) - åº”ç”¨ç¨‹åºèƒ½å¤Ÿç›´æŽ¥æ‰§è¡Œæ•°æ®ä¼ è¾“ï¼Œåœ¨ä¸æ¶‰åŠåˆ°ç½‘ç»œè½¯ä»¶æ ˆçš„æƒ…å†µä¸‹ã€‚æ•°æ®èƒ½å¤Ÿè¢«ç›´æŽ¥å‘é€åˆ°ç¼“å†²åŒºæˆ–è€…èƒ½å¤Ÿç›´æŽ¥ä»Žç¼“å†²åŒºé‡ŒæŽ¥æ”¶ï¼Œè€Œä¸éœ€è¦è¢«å¤åˆ¶åˆ°ç½‘ç»œå±‚ã€‚ å†…æ ¸æ—è·¯(Kernel bypass) - åº”ç”¨ç¨‹åºå¯ä»¥ç›´æŽ¥åœ¨ç”¨æˆ·æ€æ‰§è¡Œæ•°æ®ä¼ è¾“ï¼Œä¸éœ€è¦åœ¨å†…æ ¸æ€ä¸Žç”¨æˆ·æ€ä¹‹é—´åšä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ ä¸éœ€è¦CPUå¹²é¢„(No CPU involvement) - åº”ç”¨ç¨‹åºå¯ä»¥è®¿é—®è¿œç¨‹ä¸»æœºå†…å­˜è€Œä¸æ¶ˆè€—è¿œç¨‹ä¸»æœºä¸­çš„ä»»ä½•CPUã€‚è¿œç¨‹ä¸»æœºå†…å­˜èƒ½å¤Ÿè¢«è¯»å–è€Œä¸éœ€è¦è¿œç¨‹ä¸»æœºä¸Šçš„è¿›ç¨‹ï¼ˆæˆ–CPU)å‚ä¸Žã€‚è¿œç¨‹ä¸»æœºçš„CPUçš„ç¼“å­˜(cache)ä¸ä¼šè¢«è®¿é—®çš„å†…å­˜å†…å®¹æ‰€å¡«å……ã€‚ æ¶ˆæ¯åŸºäºŽäº‹åŠ¡(Message based transactions) - æ•°æ®è¢«å¤„ç†ä¸ºç¦»æ•£æ¶ˆæ¯è€Œä¸æ˜¯æµï¼Œæ¶ˆé™¤äº†åº”ç”¨ç¨‹åºå°†æµåˆ‡å‰²ä¸ºä¸åŒæ¶ˆæ¯/äº‹åŠ¡çš„éœ€æ±‚ã€‚ æ”¯æŒåˆ†æ•£/èšåˆæ¡ç›®(Scatter/gather entries support) - RDMAåŽŸç”Ÿæ€æ”¯æŒåˆ†æ•£/èšåˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯»å–å¤šä¸ªå†…å­˜ç¼“å†²åŒºç„¶åŽä½œä¸ºä¸€ä¸ªæµå‘å‡ºåŽ»æˆ–è€…æŽ¥æ”¶ä¸€ä¸ªæµç„¶åŽå†™å…¥åˆ°å¤šä¸ªå†…å­˜ç¼“å†²åŒºé‡ŒåŽ»ã€‚ è¯»å–é…ç½®ä¼˜å…ˆçº§æºç è®¾è®¡ https://www.cnblogs.com/wucy/p/13586003.html ä»‹ç»äº†.Netè¯»å–é…ç½®çš„ä¼˜å…ˆçº§é¡ºåºï¼Œä»Žæºç å±‚é¢æŽ¢ç©¶äº†è¿™æ ·çš„ä¸åŒé…ç½®æºçš„ä¼˜å…ˆçº§çš„å®žçŽ°æ–¹å¼ï¼Œå¾ˆæœ‰å€Ÿé‰´æ„ä¹‰ã€‚ ç¨‹åºå‘˜ä¹‹è·¯ https://icyfenix.cn/tricks/2021/geekbang.html äººç”Ÿè‹¦çŸ­ï¼Œå…‰é˜´æ˜“é€ï¼ŒæŠŠæœ‰é™çš„æ—¶é—´å’Œç²¾åŠ›æŠ•å…¥åˆ°å¯¹è‡ªå·±æœ€æœ‰ä»·å€¼çš„æ–¹å‘ä¸Šæ˜¾å¾—å°¤ä¸ºå…³é”®ï¼Œå¤šæ•°äººéƒ½èƒ½æŽ¥å—â€œé€‰æ‹©æ°¸è¿œæ¯”åŠªåŠ›æ›´é‡è¦â€çš„è§‚ç‚¹ï¼Œä½†è¿›ä¸€æ­¥é—®ä»€ä¹ˆæ‰æ˜¯å¥½çš„é€‰æ‹©æ—¶ï¼Œå°±åªæœ‰å°‘æ•°äººèƒ½å¯¹è‡ªå·±å­¦ä¹ çš„çŸ¥è¯†æŠ€èƒ½ã€ä»Žäº‹çš„å·¥ä½œæ–¹å‘åšå‡ºå®šé‡çš„ä»·å€¼åˆ¤æ–­ã€‚è¿™é‡Œæˆ‘ä»¥ä¸Šé¢æé—®ä¸ºä¾‹ï¼Œæ‹¿å‡ºè‡ªå·±çš„åˆ¤æ–­æ¨¡åž‹ï¼Œä¾›ä½ å‚è€ƒï¼š ä»·å€¼ = (æŠ€èƒ½æ”¶ç›Š + çŸ¥è¯†æ”¶ç›Š) Ã— æå‡ç©ºé—´ / æŠ•å…¥æˆæœ¬ æŠ€èƒ½æ”¶ç›Šï¼šé—®é¢˜é‡Œâ€œæ¯å¤©éƒ½æ˜¯å¯¹ç€åè®®ç ”ç©¶ä¸šåŠ¡å®žçŽ°â€å°±å±žäºŽå…¸åž‹çš„æŠ€èƒ½ï¼Œå®ƒå¾€å¾€ä»£è¡¨ç€ç›´æŽ¥æ”¶ç›Šã€‚ä¸€é¡¹æ¯å¤©å·¥ä½œéƒ½è¦ç”¨åˆ°çš„æŠ€èƒ½ï¼Œæ— è®ºä½ æ˜¯å¦æ„Ÿæœ‰è¶£ï¼Œéƒ½å€¼å¾—èŠ±ä¸€äº›æ—¶é—´ç²¾åŠ›åŽ»æŽŒæ¡ï¼Œå®ƒè‡³å°‘å¯¹çŸ­æœŸåˆ©ç›Šèµ·åˆ°äº†æ˜Žç¡®çš„æ”¯æ’‘ä½œç”¨ï¼›åä¹‹ï¼Œæ°¸è¿œéƒ½ä¸ä¼šæ´¾ä¸Šç”¨åœºçš„å± é¾™æœ¯ï¼Œå†é«˜å¤§ä¸Šä¹Ÿæ˜¯æ°´æœˆé•œèŠ±ã€‚ æ­£è§†æŠ€èƒ½æ”¶ç›Šçš„æ„ä¹‰åœ¨äºŽé¿å…è‡ªå·±å˜å¾—è¿‡åº¦æµ®èºï¼Œä»¥â€œå…´è¶£ä¸åˆâ€ã€â€œå‘å±•ä¸ç¬¦â€ä¸ºå€Ÿå£åŽ»è¿‡åº¦æŒ‘å‰”ã€‚æˆ‘ä¹Ÿæå€¡å…´è¶£é©±åŠ¨ï¼Œæå€¡å¿«ä¹å·¥ä½œï¼Œä½†ä¸è®¾å‰ææ¡ä»¶çš„å…´è¶£é©±åŠ¨å°±æœªå…å¤ªè¿‡â€œå‡¡å°”èµ›â€äº†ï¼Œé¦–å…ˆåœ¨ç¤¾ä¼šä¸­åŠ¡å®žåœ°ç”Ÿå­˜ï¼Œä¸æ¶‰åŠæ˜¯å¦å¿«ä¹ï¼Œå…ˆæŠŠæœ¬åˆ†å·¥ä½œåšå¯¹åšå¥½ï¼Œå†è¿½æ±‚å…´è¶£é€‰æ‹©å’Œæœºé‡å‘å±•ï¼Œè¿™æ‰æ˜¯å¯¹å¤šæ•°äººçš„æœ€å¤§çš„å…¬å¹³ã€‚ çŸ¥è¯†æ”¶ç›Šï¼šé—®é¢˜é‡Œâ€œæž¶æž„æ–¹é¢çš„è¯¾ç¨‹â€æœ‰ä¸å°‘éƒ½å±žäºŽçŸ¥è¯†ï¼ŒçŸ¥è¯†çš„æ”¶ç›Šå¾€å¾€æ˜¯é—´æŽ¥çš„ï¼Œæœ€ç»ˆä¼šä½“çŽ°åœ¨ç¼©å‡æ¨¡åž‹ä¸­çš„â€œæŠ•å…¥æˆæœ¬â€å› ç´ ï¼Œå³é™ä½Žè®¤çŸ¥è´Ÿè·ï¼ˆCognitive Loadï¼‰ä¸Šã€‚ä¸–ç•Œä¸Šé²œæœ‰â€œçƒŸå›±å¼â€çš„ä¸“ä¸šäººæ‰ï¼Œä¸“æ‰çš„çŸ¥è¯†ä½“ç³»åŸºæœ¬è¿˜æ˜¯â€œé‡‘å­—å¡”å¼â€çš„ï¼Œåœ¨é¢†åŸŸé‡Œèƒ½å¤Ÿæ˜¾è‘—è¶…è¿‡ä»–äººé«˜åº¦çš„å‰ææ¡ä»¶ï¼Œå¾€å¾€ä¾¿æ˜¯æ‹¥æœ‰ç€è¶…è¿‡ä»–äººçš„çŸ¥è¯†å¹¿åº¦ã€‚å…·ä½“åˆ°è½¯ä»¶å¼€å‘ä¸­ï¼Œåƒè®¡ç®—æœºä½“ç³»ç»“æž„ã€ç¼–è¯‘åŽŸç†ã€æ“ä½œç³»ç»ŸåŽŸç†ç­‰åŽŸç†æ€§çš„çŸ¥è¯†ï¼Œå¯¹äºŽä¸å†™ç¼–è¯‘å™¨ã€ä¸å¼€å‘æ“ä½œç³»ç»Ÿçš„ç¨‹åºå‘˜ï¼Œåœ¨å®žè·µä¸­å‡ ä¹Žæ‰¾ä¸åˆ°ç›´æŽ¥çš„åº”ç”¨åœºæ™¯çš„ï¼Œä½†å®ƒä»¬æ¯«æ— ç–‘é—®æ˜¯ç¨‹åºå‘˜çŸ¥è¯†ä½“ç³»çš„åŸºçŸ³ï¼Œæ˜¯è®¸å¤šå®žç”¨æŠ€èƒ½å’Œå¸¸è§å·¥å…·æº¯æºçš„å½’å®¿ã€‚ èŠ±è´¹ä¸€å®šæˆæœ¬åŽ»å­¦ä¹ è¿™ç±»çŸ¥è¯†ï¼Œç›®çš„æ˜¯è¦å°†è‡ªå·±çš„çŸ¥è¯†ç‚¹ç­‘æˆä½“ç³»ï¼Œå°†å¤§é‡çš„ä¸åŒçš„é›¶æ•£çš„çŸ¥è¯†ç‚¹ã€é€šè¿‡å†…åŒ–ã€å­˜å‚¨ã€æ•´ç†ã€å½’æ¡£ã€è¾“å‡ºç­‰æ–¹å¼ç»„åˆèµ·æ¥ï¼Œä»¥ç‚¹æˆçº¿ã€ä»¥çº¿æˆé¢ï¼Œæœ€ç»ˆå½¢æˆç³»ç»Ÿçš„ã€æœ‰åºçš„ã€æ¸…æ™°çš„è„‰ç»œç»“æž„ï¼Œè¿™å°±æ˜¯çŸ¥è¯†ä½“ç³»ã€‚ç¨‹åºå‘˜æ˜¯éœ€è¦ç»ˆèº«å­¦ä¹ çš„ç¾¤ä½“ï¼Œå½“æ–°çš„ä¿¡æ¯è¾“å…¥æ—¶ï¼Œå¦‚æžœèƒ½åœ¨çŸ¥è¯†ä½“ç³»ä¸­å¿«é€Ÿæ‰¾åˆ°å®ƒåº”è¯¥å®‰æ”¾çš„ä½ç½®ï¼Œå®šä½å®ƒçš„é—®é¢˜ä¸Žè§£é¢˜ç©ºé—´ï¼Œæ‰¾åˆ°å®ƒä¸Žå…¶ä»–çŸ¥è¯†ç‚¹çš„å…³è”å…³ç³»ï¼Œé‚£ä½ æŽ¥å—æ–°ä¿¡æ¯çš„è®¤çŸ¥è´Ÿè·å°±é™ä½Žäº†ï¼Œé€šä¿—åœ°è®²ï¼Œä½ å°±æœ‰äº†æ¯”åˆ«äººæ›´é«˜çš„å­¦ä¹ æ•ˆçŽ‡ï¼Œæ›´æ•é”çš„æŠ€æœ¯è§¦è§‰ã€‚ æå‡ç©ºé—´ï¼šå¦‚æžœä¸€é¡¹å·¥ä½œå¯¹ä½ æ¥è¯´æ˜¯ä¸ªå…¨æ–°çš„é¢†åŸŸï¼Œç”šè‡³èƒ½ç§°ä¸ºæ˜¯ä¸€é¡¹æŒ‘æˆ˜ï¼Œé‚£é£Žé™©çš„èƒŒåŽå¾€å¾€ä¹Ÿè•´å«æœ‰æ›´é«˜çš„æ”¶ç›Šã€‚ä½†æˆ‘å°†æå‡ç©ºé—´å½’å…¥åˆ°ä»·å€¼åˆ¤æ–­çš„å› ç´ ä¹‹ä¸­ï¼Œæ›´é‡è¦çš„ç›®çš„æ˜¯ä¸ºäº†è§„é¿èˆ’é€‚åŒºçš„é™·é˜±ã€‚äººæ€§ä¼šåœ¨æŒç»­çš„é¢“åºŸæ—¶å‘å‡ºç¤ºè­¦ï¼Œå´å®¹æ˜“è¢«æ— æ•ˆçš„åŠªåŠ›æ‰€æ¬ºéª—ã€‚åŽ»åšå·²ç»å®Œå…¨å¾—å¿ƒåº”æ‰‹çš„äº‹æƒ…ï¼Œä¸è€—è´¹ä»€ä¹ˆç²¾åŠ›ï¼Œä¸ä¼šè§‰å¾—ç—›è‹¦å›°éš¾ï¼Œå¦‚æžœæŠŠå®ƒå½“ä½œæ‰“æ¸¸æˆçœ‹ç”µå½±èˆ¬çš„å¨±ä¹æ¶ˆé£ï¼Œæ”¾æ¾è‡ªå·±æ˜¯åˆé€‚çš„ï¼Œä½†ä¸åº”è¯¥å†æŒ‡æœ›ä»Žä¸­è¿½æ±‚ä»€ä¹ˆä»·å€¼ã€‚ æ²¡æœ‰ä»·å€¼ï¼Œæ˜¯å› ä¸ºæå‡ç©ºé—´æ˜¯å¯ä»¥ä¸‹é™è‡³é›¶ï¼Œä½†æŠ•å…¥æˆæœ¬ä¸å¯èƒ½ä¸ºé›¶ï¼Œå› ä¸ºæˆæœ¬ä¸­ä¸ä»…åŒ…æ‹¬ç²¾åŠ›ï¼Œè¿˜åŒ…æ‹¬æœ‰æ—¶é—´ï¼ŒèŠ±æ—¶é—´é‡å¤åŽ»åšå·²ç»å®Œå…¨ç†Ÿç»ƒçš„äº‹æƒ…ï¼Œç›¸å½“äºŽè®¡ç®—åˆ†å­ä¸ºé›¶çš„ç®—å¼ï¼Œç»“æžœå¿…ç„¶æ˜¯æ²¡æœ‰ä»·å€¼çš„ã€‚ æŠ•å…¥æˆæœ¬ï¼šåœ¨è¿™é—¨æž¶æž„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ç»å¸¸è®²çš„ä¸€ä¸ªè¯æ˜¯â€œæƒè¡¡â€ï¼Œç»å¸¸è¯´çš„ä¸€å¥è¯æ˜¯â€œå‡¡äº‹ä¸èƒ½åªè®²æ”¶ç›Šä¸è°ˆæˆæœ¬â€ï¼Œåœ¨æˆ‘çš„ä»·å€¼æ¨¡åž‹é‡Œï¼Œæ”¶ç›Šå¤§å°ä¹Ÿæ˜¯å¿…é¡»åœ¨ç¡®å®šçš„æˆæœ¬ä¸‹æ‰æœ‰è¡¡é‡æ¯”è¾ƒçš„æ„ä¹‰ã€‚è¿™é‡Œçš„æˆæœ¬ï¼Œæ—¢åŒ…æ‹¬ä½ èŠ±è´¹çš„æ—¶é—´ã€é‡‘é’±ä¸Žæœºä¼šï¼Œä¹ŸåŒ…æ‹¬ä½ æŠ•å…¥çš„çŸ¥è¯†ã€ç²¾ç¥žä¸Žæ¯…åŠ›ã€‚ å¼ºè°ƒæŠ•å…¥æˆæœ¬ï¼Œæ˜¯å¸Œæœ›ä½ ä¸è¦åŽ»é’»ç‰›è§’å°–ï¼Œå¦‚æžœä¸€é¡¹çŸ¥è¯†æˆ–æŠ€èƒ½ï¼Œä½ å­¦ä¹ èµ·æ¥éžå¸¸åƒåŠ›ï¼ŒèŠ±è´¹å¤§åŠ›æ°”å¼„æ‡‚ä¹‹åŽè¿‡ä¸€æ®µæ—¶é—´å´åˆä¼šè¿…é€Ÿé—å¿˜æŽ‰ï¼Œè¿™å¾ˆå¯èƒ½æ˜¯å› ä¸ºä½ æ—¢æ²¡æœ‰å®žé™…åº”ç”¨å®ƒçš„åœºæ™¯ï¼ŒçŸ¥è¯†ä½“ç³»ä¸­ä¹Ÿæ²¡æœ‰å»ºç«‹å¥½æŽŒæ¡å®ƒçš„ç¨³å›ºçš„å‰ç½®åŸºç¡€ã€‚è¿™ç§å°±å±žäºŽä½ ç›®å‰è¿˜æ‹¿ä¸åŠ¨çš„ä¸œè¥¿ï¼Œä¸å¦¨è¶æ—©æ”¾æ‰‹ï¼Œå…ˆåšå¥½å‡æ³•ï¼Œæ‰èƒ½åšå¥½åŠ æ³•ï¼›ä¹Ÿä¸å¿…è§‰å¾—å¯æƒœï¼Œå¦‚æžœå®ƒå¯¹ä½ æ¥è¯´æ˜¯å¿…è¦çš„ï¼Œä¸€å®šè¿˜ä¼šå†æ¬¡å‡ºçŽ°ï¼Œæƒ³èº²ä¹Ÿèº²ä¸æŽ‰ã€‚ eBPF + Kubernetes https://arthurchiao.art/blog/ebpf-and-k8s-zh/ æœ¬æ–‡å†…å®¹çš„æ—¶é—´è·¨åº¦æœ‰ 8 å¹´ï¼Œè¦†ç›–äº† eBPF å‘å±•çš„æ•´ä¸ªåŽ†å²ï¼Œéžå¸¸å€¼å¾—ä¸€è¯»ã€‚ ç½‘å¡ä¸­TXå’ŒRXçš„æ„æ€ https://blog.csdn.net/myweishanli/article/details/25506745?utm_source=blogxgwz0 å…¶å®žæ­£å¸¸æ¥è§£é‡Šï¼š txæ˜¯å‘é€ï¼ˆtransportï¼‰ï¼Œrxæ˜¯æŽ¥æ”¶(receive)ã€‚ åº·å¨å®šå¾‹ https://zh.wikipedia.org/wiki/åº·å¨å®šå¾‹ http://www.woshipm.com/it/4290947.html From å‡¤å‡°æž¶æž„ï¼š åº·å¨å®šå¾‹å°è¯•ä½¿ç”¨ç¤¾ä¼šå­¦çš„æ–¹æ³•åŽ»è§£é‡Šè½¯ä»¶ç ”å‘ä¸­çš„é—®é¢˜ï¼Œå…¶æ ¸å¿ƒè§‚ç‚¹æ˜¯â€œæ²Ÿé€šå†³å®šè®¾è®¡â€ï¼ˆCommunication Dictates Designï¼‰ï¼Œå¦‚æžœæŠ€æœ¯å±‚é¢ç´§å¯†è”ç³»åœ¨ä¸€èµ·ç‰¹æ€§ï¼Œåœ¨ç»„ç»‡å±‚é¢ä¸Šå¼ºè¡Œåˆ†ç¦»å¼€æ¥ï¼Œé‚£ç»“æžœä¼šæ˜¯æ²Ÿé€šæˆæœ¬çš„ä¸Šå‡ï¼Œå› ä¸ºä¼šäº§ç”Ÿå¤§é‡çš„è·¨ç»„ç»‡çš„æ²Ÿé€šï¼›å¦‚æžœæŠ€æœ¯å±‚é¢æœ¬èº«æ²¡ä»€ä¹ˆè”ç³»çš„ç‰¹æ€§ï¼Œåœ¨ç»„ç»‡å±‚é¢ä¸Šå¼ºè¡Œå®‰æ”¾ä¸€å—ï¼Œé‚£ç»“æžœä¼šæ˜¯ç®¡ç†æˆæœ¬çš„ä¸Šå‡ï¼Œå› ä¸ºæˆå‘˜è¶Šå¤šè¶Šä¸åˆ©äºŽä¸€è‡´å†³ç­–çš„å½¢æˆã€‚ BDDè¡Œä¸ºé©±åŠ¨æµ‹è¯• pytest-bddç”¨æ³•ä»‹ç» Python behaveä»‹ç» Nebula BDDå®žè·µ Neo4j Cypher çš„å¥—ä»¶]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2021-05-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F05%2F13%2FTechnicalDigest%2F2021-05-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[12è¦ç´  https://12factor.net/zh_cn/ https://zhuanlan.zhihu.com/p/243404169 I. åŸºå‡†ä»£ç  ä¸€ä»½åŸºå‡†ä»£ç ï¼Œå¤šä»½éƒ¨ç½² II. ä¾èµ– æ˜¾å¼å£°æ˜Žä¾èµ–å…³ç³» III. é…ç½® åœ¨çŽ¯å¢ƒä¸­å­˜å‚¨é…ç½® IV. åŽç«¯æœåŠ¡ æŠŠåŽç«¯æœåŠ¡å½“ä½œé™„åŠ èµ„æº V. æž„å»ºï¼Œå‘å¸ƒï¼Œè¿è¡Œ ä¸¥æ ¼åˆ†ç¦»æž„å»ºå’Œè¿è¡Œ VI. è¿›ç¨‹ ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªæ— çŠ¶æ€è¿›ç¨‹è¿è¡Œåº”ç”¨ VII. ç«¯å£ç»‘å®š é€šè¿‡ç«¯å£ç»‘å®šæä¾›æœåŠ¡ VIII. å¹¶å‘ é€šè¿‡è¿›ç¨‹æ¨¡åž‹è¿›è¡Œæ‰©å±• IX. æ˜“å¤„ç† å¿«é€Ÿå¯åŠ¨å’Œä¼˜é›…ç»ˆæ­¢å¯æœ€å¤§åŒ–å¥å£®æ€§ X. å¼€å‘çŽ¯å¢ƒä¸Žçº¿ä¸ŠçŽ¯å¢ƒç­‰ä»· å°½å¯èƒ½çš„ä¿æŒå¼€å‘ï¼Œé¢„å‘å¸ƒï¼Œçº¿ä¸ŠçŽ¯å¢ƒç›¸åŒ XI. æ—¥å¿— æŠŠæ—¥å¿—å½“ä½œäº‹ä»¶æµ XII. ç®¡ç†è¿›ç¨‹ åŽå°ç®¡ç†ä»»åŠ¡å½“ä½œä¸€æ¬¡æ€§è¿›ç¨‹è¿è¡Œ é•¿å°¾è¯·æ±‚ é•¿å°¾è¯·æ±‚ä¸€èˆ¬æ˜¯æŒ‡æ˜Žæ˜¾é«˜äºŽå‡å€¼çš„é‚£éƒ¨åˆ†å æ¯”è¾ƒå°çš„è¯·æ±‚ http://accelazh.github.io/storage/Tail-Latency-Study ä¸€ç§Google çš„ç­–ç•¥ï¼š æ ‘å½¢è¯·æ±‚åˆ†å‘ http://highscalability.com/blog/2011/2/1/google-strategy-tree-distribution-of-requests-and-responses.html å¤§æ¦‚æ€æƒ³æ˜¯ä¸­é—´åŠ ä¸€å±‚proxyï¼Œé™ä½Žä¸­å¿ƒåŽ‹åŠ›ã€‚ æœ€åŽçš„ç»“æž„ä¼šåƒCDNä¸€æ · é˜Ÿå¤´é˜»å¡ž https://juejin.cn/post/6844903853985366023 HTTP3çš„è§£å†³æ–¹å¼ https://calendar.perfplanet.com/2020/head-of-line-blocking-in-quic-and-http-3-the-details/ åŠ¨æ€å¯†ç ç®—æ³• https://blog.csdn.net/LVXIANGAN/article/details/79926112]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çµå…‰ä¸€é—ª]]></title>
    <url>%2F2021%2F04%2F21%2F%E7%81%B5%E5%85%89%E4%B8%80%E9%97%AA%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€ä¸‹å¹³æ—¶çªç„¶æƒ³åˆ°çš„ä¸€äº›å¥½çš„ ideaã€‚ è®¡ç®—æœº æž¶æž„åº”å½“è§£è€¦ï¼Œä½†æž¶æž„è®¾è®¡çš„æ€è€ƒè¿‡ç¨‹ä¸èƒ½è§£è€¦ã€‚ ä»£ç å¤ç”¨æ€§è¶Šé«˜ï¼ŒåŠŸèƒ½å¯ç”¨æ€§å°±è¶Šä½Žï¼ˆè§‚æŸéš¾äº§é¡¹ç›®åŽæœ‰æ„Ÿ 80%çš„bugå‡ºçŽ°åœ¨è®¾è®¡é˜¶æ®µï¼Œ å•æµ‹æ˜¯æ¨ªå¥½çš„æ£€éªŒæ–¹æ³• é«˜å¹¶å‘æƒ…å¢ƒä¸‹ï¼ŒCPUä»¥å¤–çš„å†…å­˜ã€ç£ç›˜éƒ½å¯èƒ½æˆä¸ºå¹¶å‘ç“¶é¢ˆ æµ‹è¯•å’Œéœ€æ±‚æ˜¯ä¸€è‡´çš„ï¼Œ æœ‰ä»€ä¹ˆæ ·çš„éœ€æ±‚å°±ä¼šæœ‰ä»€ä¹ˆæ ·çš„æµ‹è¯•ã€‚ ä»£ç çš„ä¼ æŸ“æ€§ï¼šCodeBaseå†…çš„ä»£ç ä¼šè¢«å„å¤„copy äº‘ä½œä¸ºåŸºç¡€è®¾æ–½ï¼Œæœªæ¥åº”å½“åƒè‡ªæ¥æ°´ä¸€æ ·éšç”¨å¯å–ã€‚åŒæ ·çš„äº‘åŽŸç”Ÿåº”ç”¨ä¹Ÿåº”å½“æ˜¯éšç”¨å¯å–çš„ã€‚ åŠŸèƒ½æ–¹é¢éœ€æ±‚ä¸è¦ä¾èµ–ç”¨æˆ·ç†è§£æŽ¥å£å®žçŽ°ï¼Œæ€§èƒ½æ–¹é¢éœ€æ±‚å¯ä»¥ä¾èµ–ç†è§£æŽ¥å£å®žçŽ° å•†ä¸š&amp;&amp;ç»æµŽå­¦ äº§å“çš„ç¬¬ä¸€æ­¥æˆ–å†·å¢žé•¿åº”å½“æ˜¯ç¤¾äº¤(çˆ†æ¬¾æˆ–è£‚å˜)ä¸ºä½³ï¼Œæœºå™¨æŽ¨èæä¾›çš„æ˜¯äº§å“é»æ€§ã€‚ æœåŠ¡ä¸šçš„æœåŠ¡ä»·æ ¼å–å†³äºŽå½“åœ°æ¶ˆè´¹è€…çš„æ”¶å…¥æ°´å¹³ï¼ˆæœºä¼šæˆæœ¬ï¼‰ï¼Œå³ä½ çš„æ”¶å…¥å®žé™…ä¸Šå–å†³äºŽä¸Žä½ åˆ†å·¥çš„äººçš„æ”¶å…¥æ°´å¹³ã€‚å¦‚ï¼šå‰ªå‘ã€æŒ‰æ‘©ã€ä¸­ä»‹ç­‰ã€‚ ä¼˜è´¨èµ„äº§æ˜¯ç›¸å¯¹æ¦‚å¿µåœ¨åŒä¸€èµ„äº§ç±»ç›®ä¸­æŽ’åé å‰çš„èµ„äº§å³ä¸ºä¼˜è´¨èµ„äº§ã€‚è€ŒæŽ’åè€ƒè™‘çš„æ˜¯ä¸¤ç‚¹ï¼šÎ±ï¼ˆè¶…é¢æ”¶ç›Šï¼‰å’ŒÎ²ï¼ˆç³»ç»Ÿé£Žé™©ç³»æ•°ï¼‰ æ–°æŠ€æœ¯æä¾›çš„æ˜¯æ›´å¤šçš„å¯é€‰é¡¹ï¼Œè€Œä¸æ˜¯åº”è¯¥è¦ä½¿ç”¨ã€‚æŠ€æœ¯å‘å±•å¸¦æ¥çš„æ˜¯è‡ªç”±è€Œä¸æ˜¯â€œæœ€æ–°æ–¹æ¡ˆâ€œçš„çº¦æŸã€‚ ç”±äºŽç‰©è´¨å’Œèƒ½é‡å®ˆæ’ï¼Œæ‰€ä»¥ç‰©è´¨è´¢å¯Œæ˜¯å–ä¹‹ä¸ç«­çš„ã€‚å…¶åŒºåˆ«åœ¨äºŽå¤šå°‘èƒ½å¤Ÿè¢«äººç±»æ‰€åˆ©ç”¨ã€‚ åˆ©æ¶¦æ¥æºäºŽç³»ç»Ÿä¸ç¡®å®šæ€§ã€‚ ç¡®å®šæ¦‚çŽ‡çš„ä¸ç¡®å®šæ€§â€”â€”å¶ç„¶ä¸ç¡®å®šæ€§ã€‚ ä¸ç¡®å®šæ¦‚çŽ‡çš„ä¸ç¡®å®šæ€§â€”â€”è®¤çŸ¥ï¼ˆç³»ç»Ÿï¼‰ä¸ç¡®å®šæ€§ã€‚ é£Žå£ä¸å±žäºŽæŠ•æœºè€…ï¼Œè€Œæ˜¯å±žäºŽé‚£äº›åŽŸæœ¬å°±åœ¨è¡Œä¸šä¸­æ·±è€•çš„äººã€‚ 2020å¹´ä¸­å›½é›¶å”®æ¶ˆè´¹å¸‚åœº 39ä¸‡äº¿å…ƒ ç›ˆäºåŒæº æŠ•èµ„çš„æœ€é‡è¦çš„äº‹ -&gt; é¿é™© -&gt;æŽ§åˆ¶é£Žé™© -&gt; æŽ§åˆ¶ä¸ç¡®å®šæ€§ ç‰¹åˆ«æ˜¯ç³»ç»Ÿä¸ç¡®å®šæ€§ åŽšé›ª é•¿å¡ æŠ¤åŸŽæ²³ é¢„åˆ¶èœçš„æˆç†Ÿå‘å±•æˆä¸ºäº†çº¿ä¸‹é¤é¥®å“ç‰ŒåŒ–çš„é‡è¦ä¸€çŽ¯ï¼Œè¿™ä½¿å¾—ä¸­å¼é¤åŽ…ç¬¬ä¸€æ¬¡åœ¨æ ‡å‡†åŒ–æ–¹é¢èµ¶ä¸Šäº†è¥¿å¼é¤åŽ…ï¼Œä¹Ÿè®©ä¸­å¼è¿žé”é¤é¥®èµ°å…¥äº†è§„æ¨¡åŒ–å‘å±•çš„æ—¶ä»£ã€‚ å¯è½¬å€ºæ˜¯ä¸Šå¸‚å…¬å¸çš„ä½Žæ¯èžèµ„æ–¹å¼ï¼Œç›®æ ‡æ˜¯å€ºä¸»å˜è‚¡ä¸œï¼Œä¸ç”¨è¿˜é’±ã€‚å¯¹äºŽæŠ•èµ„è€…æ¥è¯´æ˜¯ä¸€ä¸ªæœ‰è¾ƒå¼ºä¿åº•çš„çœ‹æ¶¨æœŸæƒï¼ŒæœŸæƒæˆæœ¬æ˜¯åˆ©æ¯å·®ã€‚ é è°±æ–¹æ³•è®º åŠžäº‹åˆ©ç´¢ï¼ˆæŒ‡æ€è·¯æ¸…æ™°ï¼Œè¡ŒåŠ¨åšå®šï¼‰å¯ä»¥å‡å°‘åå¤æ²Ÿé€šé€ æˆçš„æ³¨æ„åŠ›æŸè€—ï¼Œä»Žè€Œæ›´æœ‰åˆ©äºŽé«˜è´¨é‡çš„å®Œæˆä»»åŠ¡ã€‚ å¯è¡Œæ€§éªŒè¯åº”å½“ä»Žæœ€éš¾çš„éƒ¨åˆ†å¼€å§‹ï¼Œè€Œä¸æ˜¯ä»Žç®€å•å¯å®žçŽ°çš„éƒ¨åˆ†å¼€å§‹ä¸‹æ‰‹ã€‚ æ—è§‚è€…åœ¨ç ”ç©¶æˆåŠŸè€…çš„æˆåŠŸè·¯å¾„æ—¶ï¼Œçœ‹åˆ°çš„æ˜¯ä¸€æ¡åˆç†çš„ç¡®å®šè·¯å¾„ã€‚è€ŒæˆåŠŸè€…åœ¨å½“ä¸‹ï¼Œé‡åˆ°çš„éƒ½æ˜¯ä¸ç¡®å®šæ€§ã€‚ æ‰€ä»¥å…³é”®åœ¨äºŽå°†è‡ªå·±ä»£å…¥æƒ…æ™¯ï¼Œè®¤è¯†å¹¶å­¦ä¹ æˆåŠŸè€…é¢å¯¹ä¸ç¡®å®šæ€§çš„æ–¹æ³•ã€‚ é‚“å®å…‹é²æ ¼æ•ˆåº” å…ˆéªŒæ¦‚çŽ‡åº”å½“è¢«è§†ä¸ºæ˜¯å…ˆå‰ç»éªŒçš„ç»“æžœï¼Œè€Œä¸æ˜¯è¶…è¶Šç»éªŒçš„ï¼Œå› ä¸ºäººçš„è®¤è¯†æ˜¯æœ‰é™ä¸»è§‚çš„ã€‚ æœºå™¨å­¦ä¹ ä¸­ï¼Œä¹‹å‰æ•°æ®çš„è®­ç»ƒç»“æžœå³å¯è§†ä¸ºä¸€ä¸ªå…ˆéªŒæ¦‚çŽ‡ï¼Œç»“åˆæ–°çš„æµ‹è¯•æ•°æ®ï¼Œè¿›è¡Œæœ€å¤§ä¼¼ç„¶æ¦‚çŽ‡çš„ä¼°è®¡ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ•°å­¦æ–‡æ‘˜]]></title>
    <url>%2F2021%2F04%2F13%2F%E6%95%B0%E5%AD%A6%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[è´å¶æ–¯æ–¹æ³• http://mindhacks.cn/2008/09/21/the-magical-bayesian-method/ ä½†ä¹Ÿç»å¯¹ä¸æ˜¯ä¸¤çœ¼ä¸€æŠ¹é»‘çžŽè’™â€”â€”å…·ä½“åœ°è¯´ï¼Œæˆ‘ä»¬éœ€è¦åšä¸¤ä»¶äº‹æƒ…ï¼š1. ç®—å‡ºå„ç§ä¸åŒçŒœæµ‹çš„å¯èƒ½æ€§å¤§å°ã€‚2. ç®—å‡ºæœ€é è°±çš„çŒœæµ‹æ˜¯ä»€ä¹ˆã€‚ç¬¬ä¸€ä¸ªå°±æ˜¯è®¡ç®—ç‰¹å®šçŒœæµ‹çš„åŽéªŒæ¦‚çŽ‡ï¼Œå¯¹äºŽè¿žç»­çš„çŒœæµ‹ç©ºé—´åˆ™æ˜¯è®¡ç®—çŒœæµ‹çš„æ¦‚çŽ‡å¯†åº¦å‡½æ•°ã€‚ç¬¬äºŒä¸ªåˆ™æ˜¯æ‰€è°“çš„æ¨¡åž‹æ¯”è¾ƒï¼Œæ¨¡åž‹æ¯”è¾ƒå¦‚æžœä¸è€ƒè™‘å…ˆéªŒæ¦‚çŽ‡çš„è¯å°±æ˜¯æœ€å¤§ä¼¼ç„¶æ–¹æ³•ã€‚]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2021-04-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F04%2F11%2FTechnicalDigest%2F2021-04-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[GDBä¿å­˜æ–­ç‚¹ https://blog.csdn.net/weiwangchao_/article/details/45557971 æ‹œå åº­å°†å†›é—®é¢˜ https://zhuanlan.zhihu.com/p/217827966 ä¸¤å†›é—®é¢˜ https://zh.wikipedia.org/wiki/ä¸¤å†›é—®é¢˜ ä¸¤å†›é—®é¢˜ï¼ˆè‹±è¯­ï¼šTwo Generalsâ€™ Problemï¼‰æ˜¯è®¡ç®—æœºé¢†åŸŸä¸­çš„ä¸€ä¸ªæ€æƒ³å®žéªŒã€‚ä¸¤å†›é—®é¢˜æ˜¾ç¤ºï¼Œé€šè¿‡ä¸å¯é çš„é€šä¿¡é€šé“äº¤æ¢ä¿¡æ¯å¹¶è¾¾æˆå…±è¯†æ˜¯éš¾ä»¥å®žçŽ°çš„ã€‚åœ¨è¯¥é—®é¢˜ä¸­ï¼Œä¸¤æ”¯å†›é˜Ÿçš„å°†å†›åªèƒ½é€šè¿‡æ´¾é£ä¿¡ä½¿ç©¿è¶Šæ•Œæ–¹é¢†åœŸæ¥äº’ç›¸é€šä¿¡ï¼Œä»¥æ­¤çº¦å®šåœ¨åŒä¸€æ—¶é—´ç‚¹å…±åŒè¿›æ”»ã€‚è¯¥é—®é¢˜å¸Œæœ›æ±‚è§£å¦‚ä½•åœ¨ä¸¤ä½å°†å†›æ´¾å‡ºçš„ä»»ä½•ä¿¡ä½¿éƒ½å¯èƒ½è¢«ä¿˜è™çš„æƒ…å†µä¸‹ï¼Œå°±å‘åŠ¨æ”»å‡»çš„æ—¶é—´ç‚¹è¾¾æˆä¸€è‡´ã€‚ protobufä¹‹string bytesçš„åŒºåˆ« https://izualzhy.cn/protobuf-difference-between-string-and-bytes]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2021-03-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F03%2F25%2FTechnicalDigest%2F2021-03-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[FOQS ä¸€ç§å¯ä»¥æ°´å¹³æ‰©ç¼©å®¹ åˆ†å¸ƒå¼ priority queue https://engineering.fb.com/2021/02/22/production-engineering/foqs-scaling-a-distributed-priority-queue/ é”æ€§èƒ½ä¼˜åŒ– https://cloud.tencent.com/developer/article/1511694 ä»‹ç»äº†java jdkçš„ä¸€äº›é”ä¼˜åŒ–å·¥ä½œï¼Œå¯¹å…¶ä»–è¯­è¨€å¼€å‘æ€è·¯ä¹Ÿæœ‰å¯å‘]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2021-02-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F02%2F01%2FTechnicalDigest%2F2021-02-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[6wå­—æžå®šLinuxåŸºæœ¬æ“ä½œï¼Œå»ºè®®æ”¶è— https://juejin.cn/post/6917096816118857736 å¾ˆé½å…¨ å€¼å¾—ç¿»ä¸€ç¿» ç¨‹åºå‘˜èŒåœºç»éªŒ https://juejin.cn/post/6924205515191320589 çœŸæ­£æœ‰ä»·å€¼çš„ç¤¾äº¤å…¶å®žéƒ½æ˜¯å¼±ç¤¾äº¤ã€‚ä¹Ÿå°±æ˜¯é‚£äº›å’Œä½ ä¸å¤ªç†Ÿæ‚‰çš„äººï¼Œæ¯”å¦‚å‰åŒäº‹ï¼Œæ ¡å‹ï¼Œä¸æ€Žä¹ˆæ¥å¾€çš„åŒå­¦ç­‰ç­‰ã€‚ç»è¥äººè„‰å…¶å®žå¹¶æ²¡æœ‰å¤ªå¤šä¸œè¥¿ï¼Œå°±æ˜¯å°±åªæœ‰ä¸€ç‚¹ï¼Œå°±æ˜¯ç®¡ç†å¥½å¤–ç•Œå¯¹æˆ‘ä»¬çš„çœ‹æ³•å’Œè®¤çŸ¥ï¼Œç»´æŒä½â€œäººè®¾â€ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æˆ‘ä»¬è¦æ³¨æ„ç¾½æ¯›å’Œå£ç¢‘ï¼Œè¯´ä¸å®šä»€ä¹ˆæ—¶å€™å®ƒå°±èµ·åˆ°äº†ä½œç”¨ã€‚ åœ¨èŒåœºå½“ä¸­çœŸæ­£å¥½æœºä¼šæ˜¯å¾ˆç¨€ç¼ºçš„ï¼Œå¾ˆå¤šæœºä¼šåªæœ‰å±€å†…äººæ‰èƒ½æŽ¥è§¦åˆ°ã€‚ Linux å †å†…å­˜ç®¡ç† Linuxå †å†…å­˜ç®¡ç†æ·±å…¥åˆ†æžï¼ˆä¸Šï¼‰ Linuxå †å†…å­˜ç®¡ç†æ·±å…¥åˆ†æžï¼ˆä¸‹ï¼‰ brk å’Œ mmap è®¡ç®—å’Œå‚¨å­˜åˆ†ç¦» https://juejin.cn/post/6844904055840440333 https://juicefs.com/blog/cn/posts/why-disaggregated-compute-and-storage-is-future/ è¿™ä¸ªæ—¶å€™è°·æ­Œæ‘’å¼ƒäº†ä¹‹å‰çš„è§‚å¿µâ€œç§»åŠ¨å­˜å‚¨åˆ°è®¡ç®—â€ï¼Œé‡‡å–äº†â€œç§»åŠ¨è®¡ç®—åˆ°å­˜å‚¨çš„è§‚å¿µâ€ï¼Œå°†è®¡ç®—å’Œå­˜å‚¨è€¦åˆäº†ï¼Œå› ä¸ºå½“æ—¶çš„ç½‘ç»œé€Ÿåº¦å¯¹æ¯”çŽ°åœ¨æ¥è¯´æ…¢äº†å‡ ç™¾å€ï¼Œç½‘ç»œé€Ÿåº¦è·Ÿä¸ä¸Šæˆ‘ä»¬çš„éœ€è¦ã€‚åœ¨åœ¨å…¸åž‹çš„MapReduceéƒ¨ç½²ä¸­è®¡ç®—å’Œå­˜å‚¨éƒ½åœ¨åŒä¸€ä¸ªé›†ç¾¤ä¸­è¿›è¡Œï¼Œæ¯”å¦‚åŽç»­çš„hadoopã€‚è¿™é‡Œå…¶å®žä¹Ÿå°±æ˜¯ç”¨æœ¬åœ°IOé€Ÿåº¦æ¥æ›¿æ¢ç½‘ç»œä¼ è¾“é€Ÿåº¦ã€‚ éšç€æŠ€æœ¯çš„è¿›æ­¥ï¼Œæˆ‘ä»¬çš„ç½‘ç»œé€Ÿåº¦ä¹Ÿè¶Šæ¥è¶Šå¿«ï¼Œæˆ‘ä»¬çš„ç“¶é¢ˆä¸å†æ˜¯ç½‘ç»œé€Ÿåº¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç£ç›˜I/Oé€Ÿåº¦å´æ²¡æœ‰æ˜Žæ˜¾çš„é€Ÿåº¦å¢žé•¿ï¼Œè®¡ç®—å’Œå­˜å‚¨èžåˆçš„æž¶æž„ç¼ºç‚¹ä¹Ÿå†é€æ¸æš´éœ²ï¼š ä½œè€…ï¼šå’–å•¡æ‹¿é“ é“¾æŽ¥ï¼šhttps://juejin.cn/post/6844904055840440333 æ¥æºï¼šæŽ˜é‡‘ è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚ Swig å°è£…C++æŽ¥å£ https://www.cnblogs.com/terencezhou/p/10059156.html CPUåˆ†æ”¯é¢„æµ‹ http://djs66256.github.io/2019/01/29/2019-01-29-CPUåˆ†æ”¯é¢„æµ‹/ ä»‹ç»äº†å‡ ç§åˆ†æ”¯é¢„æµ‹çš„ç®—æ³• Varintç¼–ç  https://segmentfault.com/a/1190000020500985 Varintæ˜¯ä¸€ç§ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚åºåˆ—åŒ–æ•´æ•°çš„æ–¹æ³•ï¼Œä¼šæŠŠæ•´æ•°ç¼–ç ä¸ºå˜é•¿å­—èŠ‚ã€‚å¯¹äºŽ32ä½æ•´åž‹æ•°æ®ç»è¿‡Varintç¼–ç åŽéœ€è¦15ä¸ªå­—èŠ‚ï¼Œå°çš„æ•°å­—ä½¿ç”¨1ä¸ªbyteï¼Œå¤§çš„æ•°å­—ä½¿ç”¨5ä¸ªbytesã€‚64ä½æ•´åž‹æ•°æ®ç¼–ç åŽå ç”¨110ä¸ªå­—èŠ‚ã€‚åœ¨å®žé™…åœºæ™¯ä¸­å°æ•°å­—çš„ä½¿ç”¨çŽ‡è¿œè¿œå¤šäºŽå¤§æ•°å­—ï¼Œå› æ­¤é€šè¿‡Varintç¼–ç å¯¹äºŽå¤§éƒ¨åˆ†åœºæ™¯éƒ½å¯ä»¥èµ·åˆ°å¾ˆå¥½çš„åŽ‹ç¼©æ•ˆæžœã€‚ Perf â€“ Linuxä¸‹çš„ç³»ç»Ÿæ€§èƒ½è°ƒä¼˜å·¥å…· Perf æ˜¯ç”¨æ¥è¿›è¡Œè½¯ä»¶æ€§èƒ½åˆ†æžçš„å·¥å…·ã€‚ é€šè¿‡å®ƒï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åˆ©ç”¨ PMUï¼Œtracepoint å’Œå†…æ ¸ä¸­çš„ç‰¹æ®Šè®¡æ•°å™¨æ¥è¿›è¡Œæ€§èƒ½ç»Ÿè®¡ã€‚å®ƒä¸ä½†å¯ä»¥åˆ†æžæŒ‡å®šåº”ç”¨ç¨‹åºçš„æ€§èƒ½é—®é¢˜ (per thread)ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åˆ†æžå†…æ ¸çš„æ€§èƒ½é—®é¢˜ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŒæ—¶åˆ†æžåº”ç”¨ä»£ç å’Œå†…æ ¸ï¼Œä»Žè€Œå…¨é¢ç†è§£åº”ç”¨ç¨‹åºä¸­çš„æ€§èƒ½ç“¶é¢ˆã€‚ eBPFæŠ€æœ¯ https://blog.fleeto.us/post/what-is-ebpf/ æ¦‚å¿µå’ŒåŸºæœ¬åŽŸç†çš„ä»‹ç»æ–‡ç«  https://qmonnet.github.io/whirl-offload/2016/09/01/dive-into-bpf/ ä¸€ä¸ªå…¨é¢çš„ebpfå­¦ä¹ è·¯çº¿]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥å…·æ‚è®°]]></title>
    <url>%2F2021%2F01%2F07%2F%E5%B7%A5%E5%85%B7%E6%9D%82%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[VScode 21ä¸ªVscodeå¿«æ·é”® Expand Bracket Selection æ‰“å¼€é”®ç›˜å¿«æ·é”®(Ctrl + Shift + P æˆ– command + Shift + p)ï¼Œæœç´¢ Expand Bracket Selectionã€‚ VScodeæ•™ç¨‹ è¿™ä¸ªæ•™ç¨‹è¿˜æ˜¯å¾ˆå…¨çš„ï¼Œåªæ˜¯æ‰¾èµ·æ¥ä¸å¤ªæ–¹ä¾¿ CPP å·¥å…· ä½¿ç”¨cclsï¼šC++ language server ä½¿ç”¨Doxygenåˆ›å»ºC/C++æ–‡æ¡£ Git Git ä¸­å¤§æ–‡ä»¶æ¸…ç† ç”¨æ¥æ¸…ç†Gitä»“åº“ä¸­çš„å¤§çš„blob Learn Git Branching å¾ˆä¸é”™çš„Gitæ•™ç¨‹ã€‚ Docker Dockerå¤šé˜¶æ®µæž„å»ºï¼ˆå¤šä¸ª Fromï¼‰ Docker 17.05ç‰ˆæœ¬ä»¥åŽï¼Œæ–°å¢žäº†Dockerfileå¤šé˜¶æ®µæž„å»ºã€‚æ‰€è°“å¤šé˜¶æ®µæž„å»ºï¼Œå®žé™…ä¸Šæ˜¯å…è®¸ä¸€ä¸ªDockerfile ä¸­å‡ºçŽ°å¤šä¸ª FROM æŒ‡ä»¤ã€‚ GDB GDBä¿å­˜æ–­ç‚¹ ä½¿ç”¨save breakpointå‘½ä»¤ä¿å­˜åˆ°æŒ‡å®šçš„æ–‡ä»¶ å¿…é¡»åœ¨gdbåŠ è½½æ–‡ä»¶çš„å‘½ä»¤ä¸­æŒ‡å®šæ–­ç‚¹æ–‡ä»¶ï¼Œå…·ä½“å°±æ˜¯ä½¿ç”¨-xå‚æ•°ã€‚ä¾‹å¦‚ï¼Œæˆ‘éœ€è¦è°ƒè¯•fig8.3è¿™ä¸ªæ–‡ä»¶ï¼ŒæŒ‡å®šåˆšæ‰ä¿å­˜çš„æ–­ç‚¹æ–‡ä»¶fig8.3.bpã€‚ æˆ‘ä½¿ç”¨çš„æ˜¯gdb fig8.3 -x fig8.3.bp 100 ä¸ªGDBå°æŠ€å·§ GDBå‘½ä»¤å¡ç‰‡ GDB Dashborad GDB dashboard is a standalone .gdbinit file written using the Python API that enables a modular interface showing relevant information about the program being debugged. Its main goal is to reduce the number of GDB commands needed to inspect the status of current program thus allowing the developer to primarily focus on the control flow. æŒ‘é€‰å†…å®¹Merge https://stackoverflow.com/questions/449541/how-can-i-selectively-merge-or-pick-changes-from-another-branch-in-git You use the cherry-pick command to get individual commits from one branch. If the change(s) you want are not in individual commits, then use the method shown here to split the commit into individual commits. Roughly speaking, you use git rebase -i to get the original commit to edit, then git reset HEAD^ to selectively revert changes, then git commit to commit that bit as a new commit in the history. There is another nice method here in Red Hat Magazine, where they use git add --patch or possibly git add --interactive which allows you to add just parts of a hunk, if you want to split different changes to an individual file (search in that page for â€œsplitâ€). Having split the changes, you can now cherry-pick just the ones you want.]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2021-01-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2021%2F01%2F03%2FTechnicalDigest%2F2021-01-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[åˆ¨æ ¹é—®åº•ï¼Œkafka åˆ°åº•ä¼šä¸ä¼šä¸¢æ¶ˆæ¯ Kafkaæœ‰ä¸‰æ¬¡æ¶ˆæ¯ä¼ é€’çš„è¿‡ç¨‹ï¼š ç”Ÿäº§è€…å‘æ¶ˆæ¯ç»™Kafka Brokerã€‚ Kafka Broker æ¶ˆæ¯åŒæ­¥å’ŒæŒä¹…åŒ– Kafka Broker å°†æ¶ˆæ¯ä¼ é€’ç»™æ¶ˆè´¹è€…ã€‚ åœ¨è¿™ä¸‰æ­¥ä¸­æ¯ä¸€æ­¥éƒ½æœ‰å¯èƒ½ä¼šä¸¢å¤±æ¶ˆæ¯ï¼Œä¸‹é¢è¯¦ç»†åˆ†æžä¸ºä»€ä¹ˆä¼šä¸¢æ¶ˆæ¯ï¼Œå¦‚ä½•æœ€å¤§é™åº¦é¿å…ä¸¢å¤±æ¶ˆæ¯ã€‚ â€¦ Kafkaé€šè¿‡é…ç½®request.required.ackså±žæ€§æ¥ç¡®è®¤æ¶ˆæ¯çš„ç”Ÿäº§ï¼š 0è¡¨ç¤ºä¸è¿›è¡Œæ¶ˆæ¯æŽ¥æ”¶æ˜¯å¦æˆåŠŸçš„ç¡®è®¤ï¼›ä¸èƒ½ä¿è¯æ¶ˆæ¯æ˜¯å¦å‘é€æˆåŠŸï¼Œç”ŸæˆçŽ¯å¢ƒåŸºæœ¬ä¸ä¼šç”¨ã€‚ 1è¡¨ç¤ºå½“LeaderæŽ¥æ”¶æˆåŠŸæ—¶ç¡®è®¤ï¼›åªè¦Leaderå­˜æ´»å°±å¯ä»¥ä¿è¯ä¸ä¸¢å¤±ï¼Œä¿è¯äº†åžåé‡ã€‚ -1æˆ–è€…allè¡¨ç¤ºLeaderå’ŒFolloweréƒ½æŽ¥æ”¶æˆåŠŸæ—¶ç¡®è®¤ï¼›å¯ä»¥æœ€å¤§é™åº¦ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œä½†æ˜¯åžåé‡ä½Žã€‚ kafka producer çš„å‚æ•°acks çš„é»˜è®¤å€¼ä¸º1ï¼Œæ‰€ä»¥é»˜è®¤çš„producerçº§åˆ«æ˜¯at least onceï¼Œå¹¶ä¸èƒ½exactly onceã€‚ â€¦ Kafkaé€šè¿‡å¤šåˆ†åŒºå¤šå‰¯æœ¬æœºåˆ¶ä¸­å·²ç»èƒ½æœ€å¤§é™åº¦ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œå¦‚æžœæ•°æ®å·²ç»å†™å…¥ç³»ç»Ÿ cache ä¸­ä½†æ˜¯è¿˜æ²¡æ¥å¾—åŠåˆ·å…¥ç£ç›˜ï¼Œæ­¤æ—¶çªç„¶æœºå™¨å®•æœºæˆ–è€…æŽ‰ç”µé‚£å°±ä¸¢äº†ï¼Œå½“ç„¶è¿™ç§æƒ…å†µå¾ˆæžç«¯ã€‚ â€¦ åœºæ™¯ä¸€ï¼šå…ˆcommitå†å¤„ç†æ¶ˆæ¯ã€‚å¦‚æžœåœ¨å¤„ç†æ¶ˆæ¯çš„æ—¶å€™å¼‚å¸¸äº†ï¼Œä½†æ˜¯offset å·²ç»æäº¤äº†ï¼Œè¿™æ¡æ¶ˆæ¯å¯¹äºŽè¯¥æ¶ˆè´¹è€…æ¥è¯´å°±æ˜¯ä¸¢å¤±äº†ï¼Œå†ä¹Ÿä¸ä¼šæ¶ˆè´¹åˆ°äº†ã€‚ åœºæ™¯äºŒï¼šå…ˆå¤„ç†æ¶ˆæ¯å†commitã€‚å¦‚æžœåœ¨commitä¹‹å‰å‘ç”Ÿå¼‚å¸¸ï¼Œä¸‹æ¬¡è¿˜ä¼šæ¶ˆè´¹åˆ°è¯¥æ¶ˆæ¯ï¼Œé‡å¤æ¶ˆè´¹çš„é—®é¢˜å¯ä»¥é€šè¿‡ä¸šåŠ¡ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§æ¥è§£å†³ã€‚ â€¦ æ•°æ®åº“MVCC https://juejin.cn/post/6871046354018238472 åˆ»æ„ç»ƒä¹  https://zhuanlan.zhihu.com/p/39785609 5åˆ†é’Ÿäº†è§£MPPæ•°æ®åº“ https://zhuanlan.zhihu.com/p/148621151 PIMPLæŠ€å·§ PIMPL(Pointer to Implementation)è¿™ä¸ªæ‰‹æ³•å¯ä»¥è§£æ±º/æ”¹å–„C++ç¼–ç æ—¶å¸¸ç¢°åˆ°çš„2å¤§é—®é¢˜ã€‚ 1.classå¢žåŠ private/protectedæˆå‘˜æ—¶ï¼Œä½¿ç”¨æ­¤classçš„ç›¸å…³ .cpp(s) éœ€è¦é‡æ–°ç¼–è¯‘ã€‚ 2.å®šä¹‰å†²çªä¸Žè·¨å¹³å°ç¼–è¯‘ https://blog.csdn.net/pp5576155/article/details/6895608?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.control https://blog.csdn.net/caoshangpa/article/details/78590826?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.control ç¼–è¯‘åŽŸç†çŸ¥è¯† https://juejin.cn/post/6844903482454081549 è¿™ç¯‡æ¯”è¾ƒæ¸…æ¥šçš„è®²æ˜Žç™½äº†Rumtimeå’Œè¯­è¨€çš„åŒºåˆ«ä»¥åŠå…³ç³»ã€‚ https://www.infoq.cn/article/qvvkrri0io6u0qwai1qg è¿™ç¯‡åŸºç¡€æ¦‚å¿µè®²çš„æ¯”è¾ƒç›´ç™½ Hash ç›¸å…³ç®—æ³• ä»‹ç»äº†å„ç§Hashç›¸å…³çš„æ•°æ®ç»“æž„å’Œç®—æ³•ï¼šhttps://zhuanlan.zhihu.com/p/133711073 æ•°æ®æ‘˜è¦æŠ€æœ¯ https://cacm.acm.org/magazines/2017/9/220427-data-sketching/fulltext ä¸€ç¯‡ç§‘æ™®æ–‡ç« ï¼Œä»‹ç»äº†å¤šç§æ•°æ®æ‘˜è¦æŠ€æœ¯ã€‚ https://www.sketchingbigdata.org/ https://www.sketchingbigdata.org/fall20/lec/notes.pdf ä¸€ç³»åˆ—æ•°æ®æ‘˜è¦ç®—æ³•çš„è¯¾ç¨‹ https://www.jianshu.com/p/55defda6dcd2 https://zhuanlan.zhihu.com/p/77289303 https://zhuanlan.zhihu.com/p/58519480 HyperHyperLog ç®—æ³•å®žçŽ° åŸºäºŽSSDçš„Kafkaåº”ç”¨å±‚ç¼“å­˜æž¶æž„è®¾è®¡ä¸Žå®žçŽ° å†·çƒ­åˆ†å±‚å­˜å‚¨åšç¼“å­˜ å’ŒPravegaæ€è·¯å·®ä¸å¤š æ—¶é—´åºåˆ—ç‰¹å¾åˆ†æž https://blog.csdn.net/dQCFKyQDXYm3F8rB0/article/details/95400860 è¯»æºç  https://juejin.cn/post/6918976731042807821 ç„¶åŽè¦è‡ªé¡¶å‘ä¸‹çš„çœ‹æºç ï¼Œä¸è¦ä¸€å¤´å°±é’»è¿›ç»†èŠ‚ï¼Œå…ˆä»Žå®˜ç½‘ç­‰æ¸ é“å¯¹å¼€æºæ¡†æž¶æœ‰ä¸ªå…¨é¢çš„äº†è§£ï¼Œç„¶åŽçœ‹æºç ç†æ¸…ä¸»æµç¨‹ã€‚ ä¸Šä¸‹æ–‡åˆ‡æ¢Cost https://blog.tsunanet.net/2010/11/how-long-does-it-take-to-make-context.html å¾ˆä¸é”™çš„ä¸€ä¸ªå®žéªŒï¼Œæµ‹è¯•äº†å„ä»£Intel CPUä¸Šä¸‹æ–‡åˆ‡æ¢çš„è€—æ—¶ã€‚ CPU Memeory è¯¦è§£ https://akkadia.org/drepper/cpumemory.pdf 07å¹´çš„æ–‡ç«  çŽ°åœ¨çš„ä½“ç³»ç»“æž„æœ‰å°çš„åŒºåˆ« Netem æµé‡æ¨¡æ‹Ÿå·¥å…· https://wiki.linuxfoundation.org/networking/netem Linux 2.6 åŠä»¥ä¸Šå†…æ ¸ç‰ˆæœ¬æä¾›çš„ä¸€ä¸ªç½‘ç»œæ¨¡æ‹ŸåŠŸèƒ½æ¨¡å—ã€‚è¯¥åŠŸèƒ½æ¨¡å—å¯ä»¥ç”¨æ¥åœ¨æ€§èƒ½è‰¯å¥½çš„å±€åŸŸç½‘ä¸­ï¼Œæ¨¡æ‹Ÿå‡ºå¤æ‚çš„äº’è”ç½‘ä¼ è¾“æ€§èƒ½ï¼Œè¯¸å¦‚ä½Žå¸¦å®½ã€ä¼ è¾“å»¶è¿Ÿã€ä¸¢åŒ…ç­‰ç­‰æƒ…å†µ Dockeré‡Œè·‘Docker https://cloud.tencent.com/developer/news/300876 Trieæ ‘|å‰ç¼€æ ‘çš„ä»‹ç»ä¸Žå®žçŽ° https://songlee24.github.io/2015/05/09/prefix-tree/]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-12-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2020%2F12%2F15%2FTechnicalDigest%2F2020-12-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[è½¯ä»¶ç ”å‘ä¸­çš„ä¿¡ä»»é“¾é—®é¢˜ å½“ç³»ç»Ÿè¢«åˆ’åˆ†ä¸ºå¤šå±‚æ—¶ï¼Œä¸åŒå±‚é¢çš„äººæ€è€ƒå…³æ³¨çš„é—®é¢˜ä¸ä¸€æ ·ï¼Œå¹¶ä¸”è¿™ç§ä¸åŒæœ‰æ—¶ç”šè‡³é€ æˆè¯¯è§£ã€‚ æŠ¥è­¦çš„å“²å­¦ æŠ¥è­¦çš„ï¼ˆç”µè¯ï¼ŒçŸ­ä¿¡ï¼‰è§¦è¾¾åº”å½“æ˜¯ç´§æ€¥çš„ï¼Œé‡è¦çš„ï¼Œå¯è¡ŒåŠ¨çš„ï¼ŒçœŸå®žçš„ã€‚ è§„åˆ™åº”å½“è¡¨ç¤ºæ˜¯ä½ çš„æœåŠ¡å¤„äºŽè¿‡ç¨‹ä¸­æˆ–è€…å³å°†å‘ç”Ÿçš„é—®é¢˜ã€‚ ä¸ºäº†ä¿æŒæŠ¥è­¦é¡¹çš„ç²¾ç¡®ï¼Œæœ‰æ•ˆï¼›å®å¯è¿‡åº¦ç§»é™¤æŠ¥è­¦å™ªéŸ³ã€‚å› ä¸ºè¿‡åº¦ç›‘æŽ§æ¯”ç›‘æŽ§ä¸è¶³æ›´éš¾è§£å†³ ä½ åº”è¯¥æ€»æ˜¯èƒ½å¤Ÿå°†é—®é¢˜åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼šåŸºæœ¬åŠŸèƒ½çš„å¯ç”¨æ€§é—®é¢˜ï¼›å»¶è¿Ÿï¼›æ­£ç¡®æ€§ï¼ˆæ•°æ®çš„å®Œæ•´æ€§ã€æ–°é²œæ€§å’ŒæŒä¹…æ€§ï¼‰ï¼›ä»¥åŠç‰¹å®šåŠŸèƒ½é—®é¢˜ã€‚ è§„åˆ™æè¿°ç—‡ç‹€æ˜¯æ›´å¥½çš„æ–¹æ³•ï¼Œå¯ä»¥æ›´è½»æ¾ï¼Œæ›´å…¨é¢ï¼Œæ›´å¯é åœ°æ•èŽ·æ›´å¤šçš„é—®é¢˜ã€‚ åœ¨åŸºäºŽç—‡çŠ¶çš„é¡µé¢æˆ–ä»ªè¡¨æ¿ä¸­åŒ…å«åŸºäºŽåŽŸå› çš„ä¿¡æ¯ï¼Œä½†è¦é¿å…ç›´æŽ¥é’ˆå¯¹åŽŸå› å‘å‡ºè­¦æŠ¥ã€‚ æŠ¥è­¦è¶Šå¾€ä¸Šå±‚çš„æœåŠ¡èµ°ï¼Œåœ¨ä¸€ä¸ªæŠ¥è­¦è§„åˆ™ä¸­å¯ä»¥æŠ“ä½çš„æ˜Žæ˜¾é—®é¢˜å°±è¶Šå¤šã€‚ä½†ä¸è¦èµ°å¾—å¤ªè¿œï¼Œä½ æ— æ³•å……åˆ†åŒºåˆ†å‘ç”Ÿäº†ä»€ä¹ˆã€‚ å¦‚æžœä½ æƒ³åœ¨å€¼ç­æ—¶ï¼ŒæŠ¥è­¦ç³»ç»Ÿä¿æŒå®‰é™, é‚£ä¹ˆéœ€è¦æœ‰ä¸€å¥—ç³»ç»Ÿå’Œæ ‡å‡†åŒ–çš„æµç¨‹èƒ½å¤Ÿè‡ªåŠ¨å¤„ç†é‚£äº›éœ€è¦è¢«å°½å¿«å¤„ç†ï¼Œä½†ä¸è‡³äºŽè®©ä½ åŠå¤œä¸‰ç‚¹é’Ÿçˆ¬èµ·æ¥ä¸Šçº¿çš„äº‹ä»¶ã€‚ åŸºäºŽç—‡çŠ¶çš„æŠ¥è­¦ï¼š åŸºæœ¬çš„å¯ç”¨æ€§å’Œæ­£ç¡®æ€§ã€‚ å»¶è¿Ÿï¼Œç³»ç»Ÿå“åº”è¦è¶³å¤Ÿå¿«ã€‚ å®Œæ•´æ€§/æ–°é²œåº¦/æŒä¹…æ€§ã€‚ä½ çš„ç”¨æˆ·æ•°æ®åº”è¯¥æ˜¯å®‰å…¨çš„ï¼Œåº”è¯¥åœ¨ä½ è¦æ±‚çš„æ—¶å€™å›žæ¥ï¼Œæœç´¢ç´¢å¼•åº”è¯¥æ˜¯æœ€æ–°çš„ã€‚ åŠŸèƒ½ã€‚ä½ çš„ç”¨æˆ·å…³å¿ƒçš„æ˜¯æœåŠ¡çš„æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œâ€“ä½ åº”è¯¥ç›‘æŽ§ä»»ä½•å¯¹ä½ çš„æœåŠ¡å¾ˆé‡è¦çš„æ–¹é¢ï¼Œå³ä½¿å®ƒä¸æ˜¯æ ¸å¿ƒåŠŸèƒ½/å¯ç”¨æ€§ï¼ˆä¾‹å¦‚ï¼Œè®¡ç®—å™¨å’Œè‚¡ç¥¨è¡Œæƒ…æ˜¾ç¤ºåœ¨æœç´¢ç»“æžœä¸­ï¼‰ã€‚ è°ˆè°ˆOPS ä¸ºæ­¤æˆ‘å†™äº†å¾ˆå¤š shell è„šæœ¬ï¼Œæ¥å¸®åŠ©æé«˜å·¥ä½œæ•ˆçŽ‡ï¼Œå½“æ—¶è§‰å¾—å¾ˆè‡ªè±ªã€‚å¯æ˜¯åŽæ¥æ‰æ…¢æ…¢æ„Ÿå—åˆ°ï¼ŒçœŸæ­£ä¼˜ç§€çš„ Ops æµç¨‹ï¼Œæ˜¯ä¸éœ€è¦è‡ªå·±çŽ°åœºåŽ»æ‰‹å†™è¿™äº›è„šæœ¬çš„ï¼Œå·¥å…·åº”è¯¥å¸®æˆ‘ä»¬å¹²äº†å‡ ä¹Žæ‰€æœ‰çš„äº‹æƒ…ã€‚æ‰‹åŠ¨è„šæœ¬æ˜¯ä»‹äºŽæ‰‹åŠ¨å‘½ä»¤å’Œå·¥å…·ä¹‹é—´çš„æ‰‹æ®µï¼Œä½†æ€»ä½“æ¥è¯´ä¾ç„¶æ˜¯ä¸€ä¸ªå®¹æ˜“çŠ¯é”™è€Œä¸”ç¼ºä¹å»¶ç»­æ€§çš„åšæ³•ã€‚ä¸€ä¸ªæˆç†Ÿçš„è¿ç»´æµç¨‹ï¼Œåº”è¯¥æŠŠè¿™äº›çŠ¯é”™çš„å¯èƒ½å‡åˆ°æœ€å°ã€‚ å…¶åŽŸå› ä¹‹ä¸€å°±æ˜¯ï¼Œå·¥ç¨‹å¸ˆçš„æˆæœ¬ã€‚æ‹›è˜è¿ç»´å›¢é˜Ÿçš„å·¥ç¨‹å¸ˆï¼Œå…¶å®žå¹¶ä¸å®¹æ˜“ï¼Œè€Œå¦‚æžœèƒ½å¤Ÿç”¨å°½é‡å°‘çš„ç ”å‘å·¥ç¨‹å¸ˆå›¢é˜Ÿï¼Œâ€œé¡ºä¾¿â€ åŽ»æŠŠè¿ç»´çš„äº‹æƒ…åšäº†ï¼Œè¿™æ— ç–‘æ˜¯å¾ˆèŠ‚çº¦æˆæœ¬çš„äº‹æƒ…ã€‚ä»Žè¿™ä¸ªè§’åº¦è¯´ï¼Œèµ„æºçš„é™åˆ¶æ‰èƒ½ä¿ƒè¿›åˆ›æ–°å’Œå‘å±• è®©ç ”å‘å·¥ç¨‹å¸ˆåŽ»åšè¿ç»´ï¼Œèƒ½åšå¥½å—ï¼Ÿä¸æ˜¯åº”è¯¥è®©ä¸“ä¸šçš„äººåŽ»åšä¸“é—¨çš„äº‹æƒ…å—ï¼Ÿè¿™ä¸ªè§‚ç‚¹æ˜¯ä¸¤è¯´çš„ï¼Œå¦‚æžœä¸å…·å¤‡åˆé€‚çš„å·¥å…·ï¼Œé‚£ä¸€å®šæ˜¯ä¸ªç¾éš¾ï¼Œä½†å¦‚æžœå…·å¤‡ï¼Œæƒ…å†µå°±ä¸åŒäº†ã€‚è¿ç»´æŠ€èƒ½çš„ç¼ºä¹å¯ä»¥é€šè¿‡ä¼˜ç§€çš„è¿ç»´å·¥å…·æ¥ç¼“è§£ï¼›è€Œå¦ä¸€æ–¹é¢ï¼Œæ¯å¤šä¸€ç§ â€œä¸“ä¸šçš„äººâ€ï¼Œå°±æ„å‘³ç€æ•´ä¸ªå·¥ä½œç³»ç»Ÿä¸­ï¼Œå¤šäº†ä¸€ä¸ªè§’è‰²ï¼Œå°±å¤šäº†å¤šä¸ªéœ€è¦æ²Ÿé€šçš„çŽ¯èŠ‚ï¼Œè¿™äº›éƒ½æ˜¯å†…è€— åœ¨æˆ‘æ›¾ç»çš„ä¸€ä¸ªå›¢é˜Ÿä¸­ï¼Œåœ¨é¡¹ç›®å‘å¸ƒä»¥å‰çš„æœ€åŽé˜¶æ®µï¼Œæœ‰é™çš„æ—¶é—´é‡Œé¢ï¼ˆä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸ªæ™šä¸Šï¼‰ï¼Œéœ€è¦æŠŠæœ€é‡è¦å’Œæœ€æ ¸å¿ƒåŠŸèƒ½è¿‡ä¸€éï¼Œè¿™ä¸ªåŠŸèƒ½æ¸…å•å«åš checklistã€‚ä¸ºä»€ä¹ˆä¸æŠŠæ‰€æœ‰çš„æµ‹è¯•æ¡ˆä¾‹éƒ½è¦†ç›–äº†ï¼Ÿå› ä¸ºæ—¶é—´æœ‰é™ã€‚è¿™å°±æ˜¯ä¸€ä¸ªå¾ˆç®€å•ä¹Ÿå¾ˆå®¹æ˜“æ‰§è¡Œçš„æµç¨‹ã€‚ä½†æ˜¯ï¼Œéšç€æ—¶é—´æŽ¨æ¼”ï¼Œé—®é¢˜å˜å¾—å¾ˆå¤šã€‚æ¯”å¦‚äº§å“å‘å¸ƒäº†ä»¥åŽï¼Œå‘çŽ°æœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜ï¼ŒäºŽæ˜¯ç ”å‘å›¢é˜Ÿå°±è¦å›žæº¯é—®é¢˜ï¼Œå‘çŽ°é—®é¢˜ä»¥åŽï¼Œä¸ºäº†æœç»é—®é¢˜çš„å†æ¬¡å‘ç”Ÿï¼Œå°±æ‰“ç®—é‡‡å–æŸäº›æŽªæ–½ã€‚ï¼ˆåˆ°ç›®å‰ä¸ºæ­¢åšæ³•ä¸Šé¢éƒ½æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¯æŽ¥ä¸‹åŽ»å°±æœ‰äº‰è®®äº†ã€‚ï¼‰äºŽæ˜¯ä¸€æ¡ç”¨äºŽæ£€æµ‹è¿™ä¸ªé—®é¢˜çš„è¯†åˆ«é¡¹è¢«åŠ åˆ°è¿™ä¸ª checklist å½“ä¸­ã€‚è¿™é‡Œé¢æœ‰å¾ˆå¤šæ£€æŸ¥é¡¹äº‹å®žä¸Šåœ¨é—®é¢˜ä¿®å¤ä»¥åŽæ˜¯ä¸ä¼šå†å‡ºçŽ°çš„äº†ï¼Œä¹Ÿæœ‰ä¸€äº›æ£€æŸ¥é¡¹æ˜Žæ˜¾æ˜¯ç”¨äºŽè¦†ç›–ä½äºŽè¾¹è§’çš„ corner caseï¼Œè€Œä¸æ˜¯ä¸»è¦çš„ caseï¼Œä½†æ˜¯æ—¢ç„¶å‡ºè¿‡é—®é¢˜ï¼Œä¸ºäº†ä¿é™©èµ·è§ï¼Œè¿˜æ˜¯éƒ½åŠ è¿›åŽ»äº†ã€‚å°±è¿™æ ·ï¼Œéšç€æ—¶é—´å’Œç‰ˆæœ¬çš„æ¼”è¿›ï¼Œè¿™ä¸ª checklist å˜å¾—è¶Šæ¥è¶Šé•¿ï¼ŒæŸäº›éªŒè¯é¡¹çš„æ‰§è¡Œéš¾åº¦é¢‡ä¸ºå¤æ‚ï¼Œåœ¨å‡ å¹´ä»¥åŽï¼Œå·²ç»åˆ°äº†å‡ ä¸ªå°æ—¶éƒ½æ— æ³•è¿‡å®Œè¿™ä¸ª checklist çš„åœ°æ­¥ï¼ŒäºŽæ˜¯è¿™ä¸ªæµç¨‹å°±å˜æˆäº†ä¸€ä¸ªè¶Šæ¥è¶Šéš¾ä»¥æ‰§è¡Œçš„ç´¯èµ˜ã€‚ é€ æˆè¿™ä¸€é—®é¢˜çš„åŽŸå› æ˜¯ä»€ä¹ˆï¼Œå°±æ˜¯æµç¨‹å¤ªç®€ä¾¿äº†ï¼Œå¤ªæœ‰æ•ˆäº†ï¼Œä»¥è‡³äºŽè¿™äº›èªæ˜Žäººä¸å†æ€è€ƒåº”è¯¥é‡‡ç”¨ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥ä»Žæ ¹æœ¬ä¸Šå½»åº•åœ°è§£å†³é—®é¢˜ã€‚ æµç¨‹æ›´å¤šåœ°ï¼Œæ˜¯ç”¨æ¥åœ¨æ•ˆçŽ‡æŸå¤±å¯ä»¥æŽ¥å—çš„æƒ…å†µä¸‹ï¼ŒæŽ§åˆ¶é£Žé™©ï¼Œä»Žè€Œå¯¼å‘æ­£å‘çš„å½±å“åŠ›ã€‚å¯¹äºŽä¸€äº›æœåŠ¡æ›´ critical çš„å›¢é˜Ÿæ¥è¯´ï¼Œé£Žé™©æŽ§åˆ¶ç›¸å¯¹åœ°ï¼Œæ›´ä¸ºé‡è¦ï¼Œå› è€Œæµç¨‹çš„æ¯”é‡å¯ä»¥é€‚å½“å¢žåŠ ï¼›åä¹‹ï¼Œæµç¨‹éœ€è¦ç®€åŒ–ï¼Œä¿è¯æ•ˆçŽ‡åœ¨ä¸€ä¸ªé«˜æ ‡å‡†ä¹‹ä¸Šã€‚ ä¸€ä¸ªå¥åº·çš„ç ”å‘ä½“ç³»ï¼Œç»å¤§å¤šæ•° Ops çš„å·¥ä½œï¼Œå°±åº”è¯¥äº¤ç»™æ™®é€šçš„è½¯ä»¶å·¥ç¨‹å¸ˆæ¥å®Œæˆã€‚ è€Œè¿™ä¸€ç±»çœŸæ­£å¯ä»¥å§”æ‰˜ç»™ Ops å›¢é˜Ÿåšçš„äº‹æƒ…ï¼Œæ°æ°æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹â€”â€”éƒ½æ˜¯ç®€å•åŠ³åŠ¨ï¼Œè€Œä¸”å¯ä»¥è‡ªåŠ¨åŒ–ã€‚æ¢è¨€ä¹‹ï¼Œç¼ºå°‘çš„æ˜¯å……åˆ†å’Œæœ‰æ•ˆçš„å·¥å…·ã€‚ é•¿è¿œæ¥è¯´ï¼Œå¤šæ•°æƒ…å†µä¸‹ï¼ŒæŠ•å…¥åˆ°å·¥å…·å¼€å‘çš„æˆæœ¬ï¼Œå’Œè®©å¼€å‘äººå‘˜æ¥åš Ops çš„æˆæœ¬ï¼Œæœ€ç»ˆä¼šå°äºŽè˜ç”¨ Ops å›¢é˜Ÿçš„æˆæœ¬ã€‚ é™¤äº†å¼€å‘äººå‘˜è‡ªå·±åš Opsï¼Œæ²¡æœ‰ä»»ä½•ä¸€ç§ç»„ç»‡ç»“æž„èƒ½å¤Ÿæä¾›è¿™æ ·æ²¡æœ‰å›žé¦ˆæŸè€—çš„åå“ºæœºåˆ¶ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ç§æ–¹å¼èƒ½è®©å¼€å‘äººå‘˜ â€œåƒè‡ªå·±çš„ç‹—é£Ÿâ€ å’Œå…¶å®ƒè½¯ä»¶å·¥ç¨‹çš„é—®é¢˜ä¸€æ ·ï¼ŒOps æ²¡æœ‰é“¶å¼¹ã€‚ å•å…ƒæµ‹è¯•è¦æ±‚æ˜“äºŽæ‰§è¡Œï¼Œç”±äºŽéœ€è¦åå¤æ‰§è¡Œå’Œæ ¹æ®ç»“æžœä¿®æ”¹ä»£ç ï¼Œå¿«é€Ÿçš„åé¦ˆæ˜¯éžå¸¸é‡è¦çš„ï¼Œå‡ åç§’å†…å¿…é¡»å¾—åˆ°ç»“æžœã€‚æˆ‘è§è¿‡æœ‰ä¸€äº›å›¢é˜Ÿçš„å•å…ƒæµ‹è¯•è·‘ä¸€éè¦ååˆ†é’Ÿä»¥ä¸Šï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µå°±è¦ä¿è¯èƒ½å¤Ÿè·‘å¢žé‡çš„æµ‹è¯•ï¼Œæ¢è¨€ä¹‹ï¼Œæ”¹åŠ¨äº†ä»€ä¹ˆå†…å®¹ï¼Œèƒ½å¤Ÿé‡è·‘æ”¹åŠ¨çš„é‚£ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„æµ‹è¯•é›†åˆã€‚ æœ‰ä¸€äº›å®žè·µåœ¨æˆ‘çœ‹æ¥ï¼Œæ˜¯éžå¸¸ç³Ÿç³•çš„ï¼Œå®ƒä»¬åŒ…æ‹¬ï¼š SSH+å‘½ä»¤/è„šæœ¬ã€‚è¿™å¤§æ¦‚æ˜¯æœ€ç³Ÿç³•çš„äº†ï¼Œå°¤å…¶æ˜¯çº¿ä¸Šçš„è¿ç»´ï¼Œåœ¨å®žé™…æ“ä½œä¸­ï¼Œä¸€å®šæ˜¯æœ€å¥½æ›´ç›¸ä¿¡å·¥å…·ï¼Œè€Œä¸æ˜¯äººã€‚å¦‚æžœæ²¡æœ‰å·¥å…·ï¼Œåªèƒ½æ‰‹å·¥æ“ä½œï¼Œåªèƒ½ä½¿ç”¨å‘½ä»¤+è„šæœ¬æ¥è§£å†³é—®é¢˜ï¼ŒäºŽæ˜¯å„ç§å“äººçš„è¯¯æ“ä½œå°±æˆäº†å‚¬å‘½ç¬¦ã€‚ä½ å¯ä»¥çœ‹çœ‹ ã€Šæ‰‹æ»‘çš„æ•…äº‹ã€‹ï¼Œæˆ‘ç›¸ä¿¡å¾ˆå¤šäººéƒ½ç»åŽ†è¿‡ã€‚æœ€å¥½çš„é¿å…è¿™æ ·äº‹æƒ…å‘ç”Ÿçš„æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿé™åˆ¶æƒé™ï¼Ÿå±‚å±‚å®¡æ‰¹ï¼Ÿéƒ½ä¸æ˜¯ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯è‡ªåŠ¨åŒ–ã€‚äººå·¥å‘½ä»¤å’Œè„šæœ¬çš„ä¾èµ–ç¨‹åº¦å’Œ Ops çš„æˆç†Ÿåº¦æˆé€†ç›¸å…³ã€‚ æµç¨‹è‡³ä¸Šã€‚è¿™é‡Œæˆ‘ä¸æ˜¯å¦è®¤æµç¨‹çš„ä½œç”¨ï¼Œæˆ‘çš„è§‚ç‚¹åœ¨è¿™ç¯‡æ–‡ç« ä¸­å·²ç»è¯´è¿‡äº†ã€‚å…¶ä¸­ä¸€ä¸ªæœ€å…¸åž‹çš„æ“ä½œå°±æ˜¯å †äººï¼Œå‘çŽ°é—®é¢˜äº†ï¼Œå°±é åŠ äººï¼Œå¢žåŠ ä¸€çŽ¯å®¡æ‰¹æ¥ä¼å›¾é¿å…é—®é¢˜ã€‚ è‹±é›„ä¸»ä¹‰ã€‚è¿™æ˜¯å¾ˆå¤šå…¬å¸çš„é€šç—…ï¼Œä¸€ä¸ªå†™ä¼˜è´¨ä»£ç çš„å·¥ç¨‹å¸ˆä¸ä¼šèµ·çœ¼ï¼Œåªæœ‰åŸ‹ bug é€ ç¾éš¾ï¼Œå†æŒºèº«è€Œå‡ºåŠ›æŒ½ç‹‚æ¾œï¼Œä»Žè€Œæ‹¯æ•‘çº¿ä¸Šäº§å“çš„ â€œè‹±é›„â€ æ‰å—äººæ™¯ä»°ã€‚æ­£æ‰€è°“ï¼Œæ²¡æœ‰å›°éš¾åˆ¶é€ å›°éš¾ä¹Ÿè¦ä¸Šã€‚ èƒŒé”…ä¾ ã€‚è¿™å’Œä¸Šé¢çš„è‹±é›„ä¸»ä¹‰æ­£å¥½ç›¸åï¼Œå´åˆç›¸è¾…ç›¸æˆã€‚æ‰¾è¿ç»´ä¸è§„èŒƒæ“ä½œèƒŒé”…ï¼ˆå¯äº‹å®žå‘¢ï¼Œè€ƒè™‘åˆ°å¤æ‚æ€§ã€æž¯ç‡¥æ€§ç­‰åŽŸå› ï¼Œå‡ ä¹Žæ²¡æ³• â€œè§„èŒƒâ€ æ“ä½œï¼Œäººéƒ½æ˜¯æœ‰å·æ‡’å’Œèµ°æ·å¾„çš„æœ¬æ€§çš„ï¼‰ï¼Œæ‰¾å¼€å‘åŸ‹åœ°é›·ï¼Œæµ‹è¯•æ¼è¦†ç›–èƒŒé”…ã€‚å½“åœºæ‰¹è¯„ï¼Œäº‹åŽè¿½è´£ã€‚ ç”¨æˆ·æŠ•è¯‰é©±åŠ¨å¼€å‘ï¼Œçº¿ä¸Šäº‹æ•…é©±åŠ¨å¼€å‘ã€‚è¿™ä¸€ç³»åˆ—é€šè¿‡ç³Ÿç³•çš„ç»“æžœæ¥åå‘æŽ¨åŠ¨çš„è¿ç»´åé¦ˆå¼€å‘çš„æ–¹å¼ï¼ˆå…¶å®ƒå„ç§å¥‡è‘©çš„é©±åŠ¨å¼€å‘æ–¹å¼ï¼Œçœ‹è¿™é‡Œï¼‰ã€‚ æŠŠç ”å‘çš„æ—¶é—´ç²¾åŠ›æŠ•å…¥ opsã€‚è¿™æ˜¯æ¶æ€§å¾ªçŽ¯æœ€æœ¬è´¨çš„ä¸€æ¡ï¼Œæ²¡æ—¶é—´åšå¥½éœ€æ±‚åˆ†æžï¼Œæ²¡æ—¶é—´åšå¥½è®¾è®¡ï¼Œæ²¡æ—¶é—´åšå¥½æµ‹è¯•ï¼Œæ²¡æ—¶é—´å†™å¥½ä»£ç ï¼Œä»€ä¹ˆéƒ½æ²¡æ—¶é—´ï¼Œå› ä¸ºå…¨éƒ½åŽ» Ops è§£çº¿ä¸Šé—®é¢˜åŽ»äº†ã€‚ç»“æžœå‘¢ï¼Œç³Ÿç³•çš„ä¸Šæ¸¸é€ å°±äº†æ›´ç³Ÿç³•çš„ä¸‹æ¸¸ï¼Œé—®é¢˜é¢‘å‡ºï¼ŒäºŽæ˜¯æ›´å¤šçš„äººèŠ±æ›´å¤šçš„äººåŽ» opsã€‚å¦‚æ­¤æ¶æ€§å¾ªçŽ¯â€¦â€¦ Rust åŠå°æ—¶æ•™ç¨‹ https://colobu.com/2020/03/05/A-half-hour-to-learn-Rust/ C++æœåŠ¡ç¼–è¯‘è€—æ—¶ä¼˜åŒ–åŽŸç†åŠå®žè·µ 2.2 C++ç¼–è¯‘ç‰¹ç‚¹ ï¼ˆ1ï¼‰æ¯ä¸ªæºæ–‡ä»¶ç‹¬ç«‹ç¼–è¯‘ C/Cçš„ç¼–è¯‘ç³»ç»Ÿå’Œå…¶ä»–é«˜çº§è¯­è¨€å­˜åœ¨å¾ˆå¤§çš„å·®å¼‚ï¼Œå…¶ä»–é«˜çº§è¯­è¨€ä¸­ï¼Œç¼–è¯‘å•å…ƒæ˜¯æ•´ä¸ªModuleï¼Œå³Moduleä¸‹æ‰€æœ‰æºç ï¼Œä¼šåœ¨åŒä¸€ä¸ªç¼–è¯‘ä»»åŠ¡ä¸­æ‰§è¡Œã€‚è€Œåœ¨C/Cä¸­ï¼Œç¼–è¯‘å•å…ƒæ˜¯ä»¥æ–‡ä»¶ä¸ºå•ä½ã€‚æ¯ä¸ª.c/.cc/.cxx/.cppæºæ–‡ä»¶æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¼–è¯‘å•å…ƒï¼Œå¯¼è‡´ç¼–è¯‘ä¼˜åŒ–æ—¶åªèƒ½åŸºäºŽæœ¬æ–‡ä»¶å†…å®¹è¿›è¡Œä¼˜åŒ–ï¼Œå¾ˆéš¾è·¨ç¼–è¯‘å•å…ƒæä¾›ä»£ç ä¼˜åŒ–ã€‚ ï¼ˆ2ï¼‰æ¯ä¸ªç¼–è¯‘å•å…ƒï¼Œéƒ½éœ€è¦ç‹¬ç«‹è§£æžæ‰€æœ‰åŒ…å«çš„å¤´æ–‡ä»¶ å¦‚æžœNä¸ªæºæ–‡ä»¶å¼•ç”¨åˆ°äº†åŒä¸€ä¸ªå¤´æ–‡ä»¶ï¼Œåˆ™è¿™ä¸ªå¤´æ–‡ä»¶éœ€è¦è§£æžNæ¬¡ï¼ˆå¯¹äºŽThriftæ–‡ä»¶æˆ–è€…Boostå¤´æ–‡ä»¶è¿™ç±»åŠ¨è¾„å‡ åƒä¸Šä¸‡è¡Œçš„å¤´æ–‡ä»¶æ¥è¯´ï¼Œç®€ç›´å°±æ˜¯â€œé¬¼æ•…äº‹â€ï¼‰ã€‚ å¦‚æžœå¤´æ–‡ä»¶ä¸­æœ‰æ¨¡æ¿ï¼ˆSTL/Boostï¼‰ï¼Œåˆ™è¯¥æ¨¡æ¿åœ¨æ¯ä¸ªcppæ–‡ä»¶ä¸­ä½¿ç”¨æ—¶éƒ½ä¼šåšä¸€æ¬¡å®žä¾‹åŒ–ï¼ŒNä¸ªæºæ–‡ä»¶ä¸­çš„std::vectorä¼šå®žä¾‹åŒ–Næ¬¡ã€‚ ï¼ˆ3ï¼‰æ¨¡æ¿å‡½æ•°å®žä¾‹åŒ– åœ¨C++ 98è¯­è¨€æ ‡å‡†ä¸­ï¼Œå¯¹äºŽæºä»£ç ä¸­å‡ºçŽ°çš„æ¯ä¸€å¤„æ¨¡æ¿å®žä¾‹åŒ–ï¼Œç¼–è¯‘å™¨éƒ½éœ€è¦åŽ»åšå®žä¾‹åŒ–çš„å·¥ä½œï¼›è€Œåœ¨é“¾æŽ¥æ—¶ï¼Œé“¾æŽ¥å™¨è¿˜éœ€è¦ç§»é™¤é‡å¤çš„å®žä¾‹åŒ–ä»£ç ã€‚æ˜¾ç„¶ç¼–è¯‘å™¨é‡åˆ°ä¸€ä¸ªæ¨¡æ¿å®šä¹‰æ—¶ï¼Œæ¯æ¬¡éƒ½åŽ»è¿›è¡Œé‡å¤çš„å®žä¾‹åŒ–å·¥ä½œï¼Œè¿›è¡Œé‡å¤çš„ç¼–è¯‘å·¥ä½œã€‚æ­¤æ—¶ï¼Œå¦‚æžœèƒ½å¤Ÿè®©ç¼–è¯‘å™¨é¿å…æ­¤ç±»é‡å¤çš„å®žä¾‹åŒ–å·¥ä½œï¼Œé‚£ä¹ˆå¯ä»¥å¤§å¤§æé«˜ç¼–è¯‘å™¨çš„å·¥ä½œæ•ˆçŽ‡ã€‚åœ¨C++ 0xæ ‡å‡†ä¸­ä¸€ä¸ªæ–°çš„è¯­è¨€ç‰¹æ€§ â€“ å¤–éƒ¨æ¨¡æ¿çš„å¼•å…¥è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ åœ¨C++ 98ä¸­ï¼Œå·²ç»æœ‰ä¸€ä¸ªå«åšæ˜¾å¼å®žä¾‹åŒ–ï¼ˆExplicit Instantiationï¼‰çš„è¯­è¨€ç‰¹æ€§ï¼Œå®ƒçš„ç›®çš„æ˜¯æŒ‡ç¤ºç¼–è¯‘å™¨ç«‹å³è¿›è¡Œæ¨¡æ¿å®žä¾‹åŒ–æ“ä½œï¼ˆå³å¼ºåˆ¶å®žä¾‹åŒ–ï¼‰ã€‚è€Œå¤–éƒ¨æ¨¡æ¿è¯­æ³•å°±æ˜¯åœ¨æ˜¾å¼å®žä¾‹åŒ–æŒ‡ä»¤çš„è¯­æ³•åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹å¾—åˆ°çš„ï¼Œé€šè¿‡åœ¨æ˜¾å¼å®žä¾‹åŒ–æŒ‡ä»¤å‰æ·»åŠ å‰ç¼€externï¼Œä»Žè€Œå¾—åˆ°å¤–éƒ¨æ¨¡æ¿çš„è¯­æ³•ã€‚ â‘  æ˜¾å¼å®žä¾‹åŒ–è¯­æ³•ï¼štemplate class vectorã€‚ â‘¡ å¤–éƒ¨æ¨¡æ¿è¯­æ³•ï¼šextern template class vectorã€‚ ä¸€æ—¦åœ¨ä¸€ä¸ªç¼–è¯‘å•å…ƒä¸­ä½¿ç”¨äº†å¤–éƒ¨æ¨¡æ¿å£°æ˜Žï¼Œé‚£ä¹ˆç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¯¥ç¼–è¯‘å•å…ƒæ—¶ï¼Œä¼šè·³è¿‡ä¸Žè¯¥å¤–éƒ¨æ¨¡æ¿å£°æ˜ŽåŒ¹é…çš„æ¨¡æ¿å®žä¾‹åŒ–ã€‚ ï¼ˆ4ï¼‰è™šå‡½æ•° ç¼–è¯‘å™¨å¤„ç†è™šå‡½æ•°çš„æ–¹æ³•æ˜¯ï¼šç»™æ¯ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªæŒ‡é’ˆï¼Œå­˜æ”¾äº†æŒ‡å‘è™šå‡½æ•°è¡¨çš„åœ°å€ï¼Œè™šå‡½æ•°è¡¨å­˜å‚¨äº†è¯¥ç±»ï¼ˆåŒ…æ‹¬ç»§æ‰¿è‡ªåŸºç±»ï¼‰çš„è™šå‡½æ•°åœ°å€ã€‚å¦‚æžœæ´¾ç”Ÿç±»é‡å†™äº†è™šå‡½æ•°çš„æ–°å®šä¹‰ï¼Œè¯¥è™šå‡½æ•°è¡¨å°†ä¿å­˜æ–°å‡½æ•°çš„åœ°å€ï¼Œå¦‚æžœæ´¾ç”Ÿç±»æ²¡æœ‰é‡æ–°å®šä¹‰è™šå‡½æ•°ï¼Œè¯¥è™šå‡½æ•°è¡¨å°†ä¿å­˜å‡½æ•°åŽŸå§‹ç‰ˆæœ¬çš„åœ°å€ã€‚å¦‚æžœæ´¾ç”Ÿç±»å®šä¹‰äº†æ–°çš„è™šå‡½æ•°ï¼Œåˆ™è¯¥å‡½æ•°çš„åœ°å€å°†è¢«æ·»åŠ åˆ°è™šå‡½æ•°è¡¨ä¸­ã€‚ è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œç¨‹åºå°†æŸ¥çœ‹å­˜å‚¨åœ¨å¯¹è±¡ä¸­çš„è™šå‡½æ•°è¡¨åœ°å€ï¼Œè½¬å‘ç›¸åº”çš„è™šå‡½æ•°è¡¨ï¼Œä½¿ç”¨ç±»å£°æ˜Žä¸­å®šä¹‰çš„ç¬¬å‡ ä¸ªè™šå‡½æ•°ï¼Œç¨‹åºå°±ä½¿ç”¨æ•°ç»„çš„ç¬¬å‡ ä¸ªå‡½æ•°åœ°å€ï¼Œå¹¶æ‰§è¡Œè¯¥å‡½æ•°ã€‚ ä½¿ç”¨è™šå‡½æ•°åŽçš„å˜åŒ–ï¼š â‘  å¯¹è±¡å°†å¢žåŠ ä¸€ä¸ªå­˜å‚¨åœ°å€çš„ç©ºé—´ï¼ˆ32ä½ç³»ç»Ÿä¸º4å­—èŠ‚ï¼Œ64ä½ä¸º8å­—èŠ‚ï¼‰ã€‚ â‘¡ æ¯ä¸ªç±»ç¼–è¯‘å™¨éƒ½åˆ›å»ºä¸€ä¸ªè™šå‡½æ•°åœ°å€è¡¨ã€‚ â‘¢ å¯¹æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½éœ€è¦å¢žåŠ åœ¨è¡¨ä¸­æŸ¥æ‰¾åœ°å€çš„æ“ä½œã€‚ ï¼ˆ5ï¼‰ç¼–è¯‘ä¼˜åŒ– GCCæä¾›äº†ä¸ºäº†æ»¡è¶³ç”¨æˆ·ä¸åŒç¨‹åº¦çš„çš„ä¼˜åŒ–éœ€è¦ï¼Œæä¾›äº†è¿‘ç™¾ç§ä¼˜åŒ–é€‰é¡¹ï¼Œç”¨æ¥å¯¹ç¼–è¯‘æ—¶é—´ï¼Œç›®æ ‡æ–‡ä»¶é•¿åº¦ï¼Œæ‰§è¡Œæ•ˆçŽ‡è¿™ä¸ªä¸‰ç»´æ¨¡åž‹è¿›è¡Œä¸åŒçš„å–èˆå’Œå¹³è¡¡ã€‚ä¼˜åŒ–çš„æ–¹æ³•ä¸ä¸€è€Œè¶³ï¼Œæ€»ä½“ä¸Šå°†æœ‰ä»¥ä¸‹å‡ ç±»ï¼š â‘  ç²¾ç®€æ“ä½œæŒ‡ä»¤ã€‚ â‘¡ å°½é‡æ»¡è¶³CPUçš„æµæ°´æ“ä½œã€‚ â‘¢ é€šè¿‡å¯¹ç¨‹åºè¡Œä¸ºåœ°çŒœæµ‹ï¼Œé‡æ–°è°ƒæ•´ä»£ç çš„æ‰§è¡Œé¡ºåºã€‚ â‘£ å……åˆ†ä½¿ç”¨å¯„å­˜å™¨ã€‚ â‘¤ å¯¹ç®€å•çš„è°ƒç”¨è¿›è¡Œå±•å¼€ç­‰ç­‰ã€‚ å¦‚æžœå…¨éƒ¨äº†è§£è¿™äº›ç¼–è¯‘é€‰é¡¹ï¼Œå¯¹ä»£ç é’ˆå¯¹æ€§çš„ä¼˜åŒ–è¿˜æ˜¯ä¸€é¡¹å¤æ‚çš„å·¥ä½œï¼Œå¹¸è¿çš„æ˜¯GCCæä¾›äº†ä»ŽO0-O3ä»¥åŠOsè¿™å‡ ç§ä¸åŒçš„ä¼˜åŒ–çº§åˆ«ä¾›å¤§å®¶é€‰æ‹©ï¼Œåœ¨è¿™äº›é€‰é¡¹ä¸­ï¼ŒåŒ…å«äº†å¤§éƒ¨åˆ†æœ‰æ•ˆçš„ç¼–è¯‘ä¼˜åŒ–é€‰é¡¹ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œå¯¹æŸäº›é€‰é¡¹è¿›è¡Œå±è”½æˆ–æ·»åŠ ï¼Œä»Žè€Œå¤§å¤§é™ä½Žäº†ä½¿ç”¨çš„éš¾åº¦ã€‚ O0ï¼šä¸åšä»»ä½•ä¼˜åŒ–ï¼Œè¿™æ˜¯é»˜è®¤çš„ç¼–è¯‘é€‰é¡¹ã€‚ Oå’ŒO1ï¼šå¯¹ç¨‹åºåšéƒ¨åˆ†ç¼–è¯‘ä¼˜åŒ–ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•å‡å°ç”Ÿæˆä»£ç çš„å°ºå¯¸ï¼Œä»¥åŠç¼©çŸ­æ‰§è¡Œæ—¶é—´ï¼Œä½†å¹¶ä¸æ‰§è¡Œéœ€è¦å ç”¨å¤§é‡ç¼–è¯‘æ—¶é—´çš„ä¼˜åŒ–ã€‚ O2ï¼šæ˜¯æ¯”O1æ›´é«˜çº§çš„é€‰é¡¹ï¼Œè¿›è¡Œæ›´å¤šçš„ä¼˜åŒ–ã€‚GCCå°†æ‰§è¡Œå‡ ä¹Žæ‰€æœ‰çš„ä¸åŒ…å«æ—¶é—´å’Œç©ºé—´æŠ˜ä¸­çš„ä¼˜åŒ–ã€‚å½“è®¾ç½®O2é€‰é¡¹æ—¶ï¼Œç¼–è¯‘å™¨å¹¶ä¸è¿›è¡Œå¾ªçŽ¯å±•å¼€ä»¥åŠå‡½æ•°å†…è”ä¼˜åŒ–ã€‚ä¸ŽO1æ¯”è¾ƒè€Œè¨€ï¼ŒO2ä¼˜åŒ–å¢žåŠ äº†ç¼–è¯‘æ—¶é—´çš„åŸºç¡€ä¸Šï¼Œæé«˜äº†ç”Ÿæˆä»£ç çš„æ‰§è¡Œæ•ˆçŽ‡ã€‚ O3ï¼šåœ¨O2çš„åŸºç¡€ä¸Šè¿›è¡Œæ›´å¤šçš„ä¼˜åŒ–ï¼Œä¾‹å¦‚ä½¿ç”¨ä¼ªå¯„å­˜å™¨ç½‘ç»œï¼Œæ™®é€šå‡½æ•°çš„å†…è”ï¼Œä»¥åŠé’ˆå¯¹å¾ªçŽ¯çš„æ›´å¤šä¼˜åŒ–ã€‚ Osï¼šä¸»è¦æ˜¯å¯¹ä»£ç å¤§å°çš„ä¼˜åŒ–ï¼Œ é€šå¸¸å„ç§ä¼˜åŒ–éƒ½ä¼šæ‰“ä¹±ç¨‹åºçš„ç»“æž„ï¼Œè®©è°ƒè¯•å·¥ä½œå˜å¾—æ— ä»Žç€æ‰‹ã€‚å¹¶ä¸”ä¼šæ‰“ä¹±æ‰§è¡Œé¡ºåºï¼Œä¾èµ–å†…å­˜æ“ä½œé¡ºåºçš„ç¨‹åºéœ€è¦åšç›¸å…³å¤„ç†æ‰èƒ½ç¡®ä¿ç¨‹åºçš„æ­£ç¡®æ€§ã€‚ ç¼–è¯‘ä¼˜åŒ–æœ‰å¯èƒ½å¸¦æ¥çš„é—®é¢˜ï¼š â‘  è°ƒè¯•é—®é¢˜ï¼šæ­£å¦‚ä¸Šé¢æ‰€æåˆ°çš„ï¼Œä»»ä½•çº§åˆ«çš„ä¼˜åŒ–éƒ½å°†å¸¦æ¥ä»£ç ç»“æž„çš„æ”¹å˜ã€‚ä¾‹å¦‚ï¼šå¯¹åˆ†æ”¯çš„åˆå¹¶å’Œæ¶ˆé™¤ï¼Œå¯¹å…¬ç”¨å­è¡¨è¾¾å¼çš„æ¶ˆé™¤ï¼Œå¯¹å¾ªçŽ¯å†…load/storeæ“ä½œçš„æ›¿æ¢å’Œæ›´æ”¹ç­‰ï¼Œéƒ½å°†ä¼šä½¿ç›®æ ‡ä»£ç çš„æ‰§è¡Œé¡ºåºå˜å¾—é¢ç›®å…¨éžï¼Œå¯¼è‡´è°ƒè¯•ä¿¡æ¯ä¸¥é‡ä¸è¶³ã€‚ â‘¡ å†…å­˜æ“ä½œé¡ºåºæ”¹å˜é—®é¢˜ï¼šåœ¨O2ä¼˜åŒ–åŽï¼Œç¼–è¯‘å™¨ä¼šå¯¹å½±å“å†…å­˜æ“ä½œçš„æ‰§è¡Œé¡ºåºã€‚ä¾‹å¦‚ï¼š-fschedule-insnså…è®¸æ•°æ®å¤„ç†æ—¶å…ˆå®Œæˆå…¶ä»–çš„æŒ‡ä»¤ï¼›-fforce-memæœ‰å¯èƒ½å¯¼è‡´å†…å­˜ä¸Žå¯„å­˜å™¨ä¹‹é—´çš„æ•°æ®äº§ç”Ÿç±»ä¼¼è„æ•°æ®çš„ä¸ä¸€è‡´ç­‰ã€‚å¯¹äºŽæŸäº›ä¾èµ–å†…å­˜æ“ä½œé¡ºåºè€Œè¿›è¡Œçš„é€»è¾‘ï¼Œéœ€è¦åšä¸¥æ ¼çš„å¤„ç†åŽæ‰èƒ½è¿›è¡Œä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œé‡‡ç”¨Volatileå…³é”®å­—é™åˆ¶å˜é‡çš„æ“ä½œæ–¹å¼ï¼Œæˆ–è€…åˆ©ç”¨Barrierè¿«ä½¿CPUä¸¥æ ¼æŒ‰ç…§æŒ‡ä»¤åºæ‰§è¡Œã€‚ (6)C/C++ è·¨ç¼–è¯‘å•å…ƒçš„ä¼˜åŒ–åªèƒ½äº¤ç»™é“¾æŽ¥å™¨ å½“é“¾æŽ¥å™¨è¿›è¡Œé“¾æŽ¥çš„æ—¶å€™ï¼Œé¦–å…ˆå†³å®šå„ä¸ªç›®æ ‡æ–‡ä»¶åœ¨æœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶é‡Œçš„ä½ç½®ã€‚ç„¶åŽè®¿é—®æ‰€æœ‰ç›®æ ‡æ–‡ä»¶çš„åœ°å€é‡å®šä¹‰è¡¨ï¼Œå¯¹å…¶ä¸­è®°å½•çš„åœ°å€è¿›è¡Œé‡å®šå‘ï¼ˆåŠ ä¸Šä¸€ä¸ªåç§»é‡ï¼Œå³è¯¥ç¼–è¯‘å•å…ƒåœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸Šçš„èµ·å§‹åœ°å€ï¼‰ã€‚ç„¶åŽéåŽ†æ‰€æœ‰ç›®æ ‡æ–‡ä»¶çš„æœªè§£å†³ç¬¦å·è¡¨ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰çš„å¯¼å‡ºç¬¦å·è¡¨é‡ŒæŸ¥æ‰¾åŒ¹é…çš„ç¬¦å·ï¼Œå¹¶åœ¨æœªè§£å†³ç¬¦å·è¡¨ä¸­æ‰€è®°å½•çš„ä½ç½®ä¸Šå¡«å†™å®žçŽ°åœ°å€ï¼Œæœ€åŽæŠŠæ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶çš„å†…å®¹å†™åœ¨å„è‡ªçš„ä½ç½®ä¸Šï¼Œå°±ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚é“¾æŽ¥çš„ç»†èŠ‚æ¯”è¾ƒå¤æ‚ï¼Œé“¾æŽ¥é˜¶æ®µæ˜¯å•è¿›ç¨‹ï¼Œæ— æ³•å¹¶è¡ŒåŠ é€Ÿï¼Œå¯¼è‡´å¤§é¡¹ç›®é“¾æŽ¥æžæ…¢ã€‚ ç¼–è¯‘è€—æ—¶åˆ†æ®µç»Ÿè®¡æ˜¯ä»Žç»“æžœä¸Šçœ‹å„ä¸ªæ–‡ä»¶çš„ç¼–è¯‘è€—æ—¶ä»¥åŠå„ä¸ªç¼–è¯‘é˜¶æ®µçš„è€—æ—¶æƒ…å†µï¼Œè¿™ä¸ªæ˜¯ç›´è§‚çš„ä¸€ä¸ªç»“æžœï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ˜¯å’Œæ–‡ä»¶å±•å¼€å¤§å°ä»¥åŠå¤´æ–‡ä»¶å¼•ç”¨ä¸ªæ•°æ˜¯æ­£ç›¸å…³çš„ï¼Œcmakeé€šè¿‡æŒ‡å®šçŽ¯å¢ƒå˜é‡èƒ½æ‰“å°å‡ºç¼–è¯‘å’Œé“¾æŽ¥é˜¶æ®µçš„è€—æ—¶æƒ…å†µï¼Œé€šè¿‡è¿™ä¸ªæ•°æ®èƒ½ç›´è§‚çš„åˆ†æžå‡ºè€—æ—¶æƒ…å†µã€‚ 123&gt; set_property(GLOBAL PROPERTY RULE_LAUNCH_COMPILE "$&#123;CMAKE_COMMAND&#125; -E time")&gt; set_property(GLOBAL PROPERTY RULE_LAUNCH_LINK "$&#123;CMAKE_COMMAND&#125; -E time")&gt; Git Change Log Some websites such as Keep A Changelog explain that you shouldnâ€™t make a changelog only by copying and pasting your git commits (refer to the simple way). Indeed, I recommend trying to avoid this way if you are working on a professional product.]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è½¬-å¦‚ä½•å†™ä»£ç æ³¨é‡Š]]></title>
    <url>%2F2020%2F12%2F12%2FPrograming%2F%E8%BD%AC-%E5%A6%82%E4%BD%95%E5%86%99%E4%BB%A3%E7%A0%81%E6%B3%A8%E9%87%8A%2F</url>
    <content type="text"><![CDATA[è®¸å¤šäººè®¤ä¸ºï¼Œå¦‚æžœä»£ç å†™å¾—è¶³å¤Ÿæ‰Žå®žï¼Œæ³¨é‡Šå°±æ²¡ä»€ä¹ˆç”¨äº†ã€‚åœ¨ä»–ä»¬çœ‹æ¥ï¼Œå½“ä¸€åˆ‡éƒ½è®¾è®¡å¦¥å½“æ—¶ï¼Œä»£ç æœ¬èº«ä¼šè®°å½•å…¶ä½œç”¨ï¼Œå› æ­¤ä»£ç æ³¨é‡Šæ˜¯å¤šä½™çš„ã€‚æˆ‘å¯¹æ­¤æŒä¸åŒæ„è§ï¼Œä¸»è¦å‡ºäºŽä¸¤ä¸ªåŽŸå› ï¼š \1. è®¸å¤šæ³¨é‡Šå¹¶æœªèµ·åˆ°è§£é‡Šä»£ç çš„ä½œç”¨ã€‚ \2. æ³¨é‡Šä½¿è¯»è€…ä¸å¿…å‡­ç©ºæƒ³è±¡å¤ªå¤šç»†æžæœ«èŠ‚ï¼Œå¸®åŠ©è¯»è€…é™ä½Žè®¤çŸ¥è´Ÿæ‹…ã€‚ æ³¨é‡Šçš„åˆ†ç±» æˆ‘çš„å·¥ä½œå§‹äºŽéšæœºåœ°é˜…è¯»Redisæºä»£ç ï¼Œä»¥æ£€æŸ¥æ³¨é‡Šæ˜¯å¦ä»¥åŠä¸ºä»€ä¹ˆåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­èµ·ä½œç”¨ã€‚æˆ‘å¾ˆå¿«å‘çŽ°ï¼Œæ³¨é‡Šçš„ä½œç”¨æ¥æºäºŽå¤šæ–¹é¢ï¼šå®ƒä»¬åœ¨åŠŸèƒ½ï¼Œç¼–ç¨‹é£Žæ ¼ï¼Œé•¿åº¦å’Œæ›´æ–°é¢‘çŽ‡æ–¹é¢å¾€å¾€éžå¸¸ä¸åŒã€‚æˆ‘æœ€ç»ˆè½¬å‘äº†æ³¨é‡Šåˆ†ç±»ã€‚ åœ¨ç ”ç©¶æœŸé—´ï¼Œæˆ‘ç¡®å®šäº†ä¹ç§æ³¨é‡Šç±»åˆ«ï¼š * å‡½æ•°æ³¨é‡Š Function comments * è®¾è®¡æ³¨é‡Š Design comments * åŽŸå› æ³¨é‡Š Why comments * æ•™å­¦æ³¨é‡Š Teacher comments * æ¸…å•æ³¨é‡Š Checklist comments * å¼•å¯¼æ³¨é‡Š Guide comments * çç¢Žæ³¨é‡Š Trivial comments * ï¼ˆä»£ç ï¼‰è´Ÿå€ºæ³¨é‡Š Debt comments * å¤‡ä»½æ³¨é‡Š Backup comments åœ¨æˆ‘çœ‹æ¥ï¼Œå‰å…­ä¸ªä¸»è¦æ˜¯éžå¸¸ç§¯æžçš„æ³¨é‡Šå½¢å¼ï¼Œè€Œæœ€åŽä¸‰ä¸ªæœ‰ç‚¹å€¼å¾—æ€€ç–‘ã€‚åœ¨æŽ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨Redisæºä»£ç ä¸­çš„ç¤ºä¾‹åˆ†æžæ¯ç§æ³¨é‡Šç±»åž‹ã€‚ å‡½æ•°æ³¨é‡Š å‡½æ•°æ³¨é‡Šçš„ç›®æ ‡æ˜¯é˜²æ­¢è¯»è€…ç›´æŽ¥é˜…è¯»ä»£ç ã€‚ åœ¨é˜…è¯»æ³¨é‡Šä¹‹åŽï¼Œè¯»è€…åº”è¯¥å¯ä»¥å°†ä¸€äº›ä»£ç è§†ä¸ºåº”éµå®ˆæŸäº›è§„åˆ™çš„é»‘ç®±å­ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå‡½æ•°æ³¨é‡Šä½äºŽå‡½æ•°å®šä¹‰çš„é¡¶éƒ¨ã€‚ rax.cï¼š C++æ”¶èµ· 1234/ * åœ¨å½“å‰èŠ‚ç‚¹çš„å­æ ‘ä¸­å¯»æ‰¾æœ€å¤§çš„keyã€‚ å¦‚æžœå†…å­˜ä¸è¶³è¿”å›ž0ï¼Œå¦åˆ™ è¿”å›ž1. * /int raxSeekGreatestï¼ˆraxIterator * itï¼‰&#123; ...&#125; å‡½æ•°æ³¨é‡Šå®žé™…ä¸Šæ˜¯ä¸€ç§å†…è”APIæ–‡æ¡£ã€‚å¦‚æžœå‡½æ•°æ³¨é‡Šç¼–å†™å¾—å¥½ï¼Œé‚£ä¹ˆç”¨æˆ·åœ¨å¤§å¤šæ•°æ—¶å€™èƒ½è·³å›žåˆ°å¥¹æ­£åœ¨é˜…è¯»çš„å†…å®¹ï¼ˆå¦‚é˜…è¯»è°ƒç”¨æ­¤ç±»APIçš„ä»£ç ï¼‰ï¼Œè€Œæ— éœ€é˜…è¯»å‡½æ•°ï¼ˆfunctionï¼‰ï¼Œç±»ï¼ˆclassï¼‰ï¼Œå®ï¼ˆmacroï¼‰ç­‰çš„å®žçŽ°è¿‡ç¨‹ã€‚ åœ¨æ‰€æœ‰æ³¨é‡Šç±»åž‹ä¸­ï¼Œå‡½æ•°æ³¨é‡Šè¢«æ•´ä¸ªç¼–ç¨‹ç•Œå¹¿æ³›æŽ¥å—å’Œéœ€è¦ã€‚è¦åˆ†æžçš„å”¯ä¸€ä¸€ç‚¹æ˜¯ï¼šåœ¨ä»£ç å†…éƒ¨æ”¾ç½®ä»¥APIå‚è€ƒæ–‡æ¡£ä¸ºä¸»çš„æ³¨é‡Šæ˜¯å¦æ˜¯ä»¶å¥½äº‹ã€‚ å¯¹æˆ‘æ¥è¯´ç­”æ¡ˆå¾ˆç®€å•ï¼šæˆ‘å¸Œæœ›APIæ–‡æ¡£ä¸Žä»£ç å®Œå…¨åŒ¹é…ã€‚éšç€ä»£ç çš„æ›´æ”¹ï¼Œæ–‡æ¡£ä¹Ÿå¾—åˆ°æ›´æ”¹ã€‚å‡ºäºŽè¿™ä¸ªåŽŸå› ï¼Œæˆ‘ä»¬å°†å‡½æ•°æ³¨é‡Šç”¨ä½œå‡½æ•°æˆ–å…¶ä»–å…ƒç´ çš„åºè¨€ï¼Œä½¿APIæ–‡æ¡£æŽ¥è¿‘ä»£ç ï¼Œå®Œæˆä¸‰ä¸ªä»»åŠ¡ï¼š * éšç€ä»£ç çš„æ›´æ”¹ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æ›´æ”¹æ–‡æ¡£ï¼ŒAPIå‚è€ƒä¹Ÿä¸ä¼šæœ‰è¿‡æ—¶çš„é£Žé™©ã€‚ * è¿™ç§æ–¹æ³•ä½¿å¾—æ›´æ”¹è€…ï¼ˆç†åº”æ˜¯æœ€æ¸…æ¥šæ›´æ”¹ç›®çš„çš„äººï¼‰åœ¨æœ€å¤§é™åº¦ä¸Šæˆä¸ºAPIæ–‡æ¡£çš„æ›´æ”¹è€…ã€‚ * è¯»è€…èƒ½é€šè¿‡é˜…è¯»ä»£ç ç›´æŽ¥æ‰¾åˆ°å‡½æ•°æˆ–æ–¹æ³•ï¼ˆmethodï¼‰çš„æ–‡æ¡£ï¼Œä»¥ä¾¿é˜…è¯»ä»£ç çš„è¯»è€…åªå…³æ³¨ä»£ç ï¼Œè€Œä¸æ˜¯ä»£ç å’Œæ–‡æ¡£ä¹‹é—´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ è®¾è®¡æ³¨é‡Š â€œå‡½æ•°æ³¨é‡Šâ€é€šå¸¸ä½äºŽå‡½æ•°çš„å¼€å¤´ï¼Œè€Œè®¾è®¡æ³¨é‡Šé€šå¸¸ä½äºŽæ–‡ä»¶çš„å¼€å¤´ã€‚ è®¾è®¡æ³¨é‡Šä¸€èˆ¬è¯´æ˜Žäº†ç»™å®šä»£ç ç‰‡æ®µä½¿ç”¨æŸäº›ç®—æ³•ã€æŠ€æœ¯ã€æŠ€å·§å’Œå…·ä½“å®žçŽ°çš„æ–¹å¼å’ŒåŽŸå› ï¼Œå¯¹ä»£ç ä¸­å®žçŽ°çš„å†…å®¹è¿›è¡Œäº†æ›´é«˜çº§åˆ«çš„æ¦‚è¿°ã€‚åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œé˜…è¯»ä»£ç ä¼šæ›´ç®€å•ä¸€äº›ã€‚ bio.c C++æ”¶èµ· 1234567*è®¾è®¡* ------**è®¾è®¡å¾ˆç®€å•ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç»“æž„ä»£è¡¨è¦æ‰§è¡Œçš„ä¸€é¡¹ Job*æ¯ç§Jobç±»åž‹æœ‰ä¸åŒçš„çº¿ç¨‹å’ŒJobé˜Ÿåˆ—ã€‚*æ¯ä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­çš„æ–°Jobï¼Œå¹¶æŒ‰ç…§é¡ºåºå¤„ç†*æ¯ä¸ªJobã€‚ ... åŽŸå› æ³¨é‡Š åŽŸå› æ³¨é‡Šè§£é‡Šäº†ä»£ç æ‰§è¡ŒæŸäº›æ“ä½œçš„åŽŸå› â€”â€”å³ä½¿ä»£ç æ‰§è¡Œçš„æ“ä½œéžå¸¸æ˜Žç¡®ã€‚è¯·çœ‹ä»¥ä¸‹æ¥è‡ªRedis replicationçš„ä»£ç  çš„ç¤ºä¾‹ã€‚ replication.cï¼š C++æ”¶èµ· 123456789101112131415161718192021222324ifï¼ˆidle&gt; server.repl_backlog_time_limitï¼‰&#123; /* å½“æˆ‘ä»¬é‡Šæ”¾ backlogæ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯ä½¿ç”¨æ–°çš„ * replication IDå¹¶æ¸…é™¤ID2ã€‚è¿™æ˜¯ * å› ä¸ºåœ¨æ²¡æœ‰backlogæ—¶ï¼Œmaster_repl_offset * æœªæ›´æ–°ï¼Œä½†æˆ‘ä»¬ä»ä¼šä¿ç•™æˆ‘ä»¬çš„ * replication IDï¼Œç”±æ­¤å¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š * * 1.æˆ‘ä»¬æ˜¯ä¸€ä¸ªä¸»å®žä¾‹ï¼ˆmaster instanceï¼‰ã€‚ * 2.æˆ‘ä»¬çš„å‰¯æœ¬æˆä¸ºä¸»æœåŠ¡å™¨ï¼ˆMasterï¼‰ã€‚repl-id-2å°†ä¼š * ä¸Žæˆ‘ä»¬çš„repl-idç›¸åŒã€‚ * 3.æˆ‘ä»¬ä½œä¸ºä¸»æœåŠ¡å™¨ï¼Œæ”¶åˆ°äº†ä¸€äº›æ›´æ–°å‘½ä»¤ï¼Œä½†ä¸ä¼š * å¢žåŠ master_repl_offsetã€‚ * 4.ç¨åŽæˆ‘ä»¬å°†å˜æˆå‰¯æœ¬ï¼Œè¿žæŽ¥åˆ°æ–°çš„ * ä¸»æœåŠ¡å™¨ï¼Œå®ƒå°†æŽ¥å—æˆ‘ä»¬ç¬¬äºŒä¸ªå‰¯æœ¬IDçš„ * PSYNCè¯·æ±‚ï¼Œä½†ä¼šæœ‰æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µ * å› ä¸ºæˆ‘ä»¬æŽ¥å—äº†å†™å‘½ä»¤ã€‚*/ changeReplicationIdï¼ˆï¼‰; clearReplicationId2ï¼ˆï¼‰; freeReplicationBacklogï¼ˆï¼‰; serverLog(LL_NOTICE, &quot;Replication backlog freed after %d seconds &quot; &quot;without connected replicas.&quot;, (int) server.repl_backlog_time_limit); &#125; å¦‚æžœæˆ‘åªæ£€æŸ¥å‡½æ•°è°ƒç”¨ï¼Œå°±æ²¡ä»€ä¹ˆéœ€è¦çº ç»“çš„ï¼šå¦‚æžœè¶…æ—¶äº†å°±æ›´æ”¹ä¸»replication IDï¼Œæ¸…é™¤è¾…åŠ©IDï¼Œæœ€åŽé‡Šæ”¾replication backlogã€‚ æ•™å­¦æ³¨é‡Š æ•™å­¦æ³¨é‡Šä¸ä¼šè¯•å›¾è§£é‡Šä»£ç æœ¬èº«æˆ–æˆ‘ä»¬åº”è¯¥æ³¨æ„çš„æŸäº›å‰¯ä½œç”¨ã€‚æ•™å­¦æ³¨é‡Šæ•™æŽˆçš„æ˜¯ä»£ç è¿è¡Œçš„â€œé¢†åŸŸâ€ï¼ˆä¾‹å¦‚æ•°å­¦ï¼Œè®¡ç®—æœºå›¾å½¢å­¦ï¼Œç½‘ç»œç³»ç»Ÿï¼Œç»Ÿè®¡ï¼Œå¤æ‚çš„æ•°æ®ç»“æž„ç­‰ï¼‰ï¼Œè¿™äº›ä¿¡æ¯å¯èƒ½è¶…å‡ºäº†è¯»è€…çš„è®¤çŸ¥èŒƒå›´ï¼Œæˆ–è€…ç»†èŠ‚å¤šåˆ°éš¾ä»¥å›žå¿†ã€‚ ç‰ˆæœ¬5ä¸­çš„LOLWUTå‘½ä»¤éœ€è¦åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ—‹è½¬çš„æ–¹å—ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒä½¿ç”¨äº†ä¸€äº›åŸºæœ¬çš„ä¸‰è§’å‡½æ•°ï¼šå°½ç®¡æ¶‰åŠçš„æ•°å­¦å†…å®¹å¾ˆç®€å•ï¼Œä½†è®¸å¤šé˜…è¯»Redisæºä»£ç çš„ç¨‹åºå‘˜å¯èƒ½æ²¡æœ‰ä»»ä½•æ•°å­¦èƒŒæ™¯çŸ¥è¯†ï¼Œå› æ­¤å‡½æ•°é¡¶éƒ¨çš„æ³¨é‡Šè§£é‡Šäº†è¯¥å‡½æ•°çš„åŽŸç†ã€‚ C++æ”¶èµ· 123456789101112131415/** ç»˜åˆ¶ä¸€ä¸ªä»¥æŒ‡å®šçš„xï¼Œyåæ ‡ä¸ºä¸­å¿ƒçš„æ­£æ–¹å½¢* æ—‹è½¬è§’åº¦å’Œå¤§å°å·²å®šã€‚ä¸ºäº†å†™å‡ºæ—‹è½¬æ–¹å—çš„ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†* å‚æ•°æ–¹ç¨‹ï¼š** x = sinï¼ˆkï¼‰* y = cosï¼ˆkï¼‰** ç»˜åˆ¶ä¸€ä¸ªåœ†ï¼ˆ0-2*PIï¼‰ã€‚ç„¶åŽï¼Œå¦‚æžœæˆ‘ä»¬ä»Ž45åº¦* å¼€å§‹ï¼Œå³k = PI / 4ï¼Œä»¥æ­¤ä½œä¸ºç¬¬ä¸€ä¸ªç‚¹ï¼Œç„¶åŽæˆ‘ä»¬å‘çŽ°* å…¶ä»–ä¸‰ä¸ªç‚¹çš„Kå€¼ä»¥PI / 2ï¼ˆ90åº¦ï¼‰é€’å¢žï¼ŒäºŽæ˜¯æˆ‘ä»¬å¾—åˆ°* äº†æž„æˆä¸€ä¸ªåœ†çš„ç‚¹ã€‚ä¸ºäº†æ—‹è½¬æ–¹å—ï¼Œæˆ‘ä»¬ä»Ž* k = PI / 4 + rotation_angleå¼€å§‹ï¼Œç„¶åŽæˆ‘ä»¬å°±å®Œäº‹å„¿äº†ã€‚* ......* / æ³¨é‡Šä¸åŒ…å«ä»»ä½•ä¸Žå‡½æ•°æœ¬èº«çš„ä»£ç ï¼Œæˆ–å…¶å‰¯ä½œç”¨ï¼Œæˆ–ä¸Žå‡½æ•°ç›¸å…³çš„æŠ€æœ¯ç»†èŠ‚ç­‰å†…å®¹ã€‚æ³¨é‡Šæè¿°çš„éƒ¨åˆ†ä»…é™äºŽå‡½æ•°å†…éƒ¨ä½¿ç”¨ä»¥è¾¾åˆ°ç»™å®šç›®æ ‡çš„æ•°å­¦æ¦‚å¿µã€‚ æ¸…å•æ³¨é‡Š è¿™æ˜¯ä¸€ä¸ªéžå¸¸å¸¸è§ä¸”å¥‡æ€ªçš„é—®é¢˜ï¼šæœ‰æ—¶ç”±äºŽè¯­è¨€é™åˆ¶ï¼Œè®¾è®¡é—®é¢˜ï¼Œæˆ–è€…ä»…ä»…å› ä¸ºç³»ç»Ÿå†…éƒ¨å›ºæœ‰çš„å¤æ‚æ€§ï¼Œæˆ‘ä»¬æ— æ³•å°†æŸä¸ªæ¦‚å¿µæˆ–ç•Œé¢é›†ä¸­åœ¨ä¸€ä¸ªä»£ç ç‰‡æ®µä¸­ï¼Œå› æ­¤ä»£ç ä¸­æœ‰ä¸€äº›éƒ¨åˆ†èƒ½æé†’ä½ åœ¨ä»£ç çš„æŸä¸ªéƒ¨åˆ†åšæŸä»¶äº‹ã€‚ä¸€èˆ¬æ¦‚å¿µæ˜¯ï¼š / * è­¦å‘Šï¼šå¦‚æžœä½ åœ¨æ­¤å¤„æ·»åŠ ç±»åž‹IDï¼Œè¯·åŠ¡å¿…ä¿®æ”¹ * getTypeNameByIDï¼ˆï¼‰å‡½æ•°ã€‚* / åœ¨ä¸€ä¸ªå®Œç¾Žä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬æ°¸è¿œä¸éœ€è¦æ·»åŠ è¿™ç±»æ³¨é‡Šï¼›ä½†åœ¨å®žè·µä¸­æœ‰æ—¶æ²¡æ³•çœç•¥è¿™ä¸€æ­¥ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé˜²å¾¡æ€§æ³¨é‡Šæœ‰æ—¶èƒ½èµ·ä½œç”¨ï¼šå¦‚æžœä½ ä¿®æ”¹äº†æŸèŠ‚ä»£ç ï¼Œå®ƒä¼šæé†’ä½ ä¿®æ”¹ä»£ç çš„å…¶ä»–ç›¸å…³éƒ¨åˆ†ã€‚å…·ä½“è€Œè¨€ï¼Œæ¸…å•æ³¨é‡Šä¼šå‘æŒ¥ä»¥ä¸‹ä¸€ç§ä½œç”¨ï¼ˆæˆ–è€…ä¸¤ç§å…¼è€Œæœ‰ä¹‹ï¼‰ï¼š * å‘Šè¯‰ä½ åœ¨ä¿®æ”¹æŸäº›å†…å®¹æ—¶è¦æ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œã€‚ * è­¦å‘Šä½ åº”è¯¥å¦‚ä½•è¿›è¡ŒæŸäº›æ›´æ”¹ã€‚ å¼•å¯¼æ³¨é‡Š æˆ‘æ»¥ç”¨å¼•å¯¼æ³¨é‡Šåˆ°è¿™ç§ç¨‹åº¦ï¼šRedisä¸­çš„å¤§å¤šæ•°æ³¨é‡Šéƒ½æ˜¯å¼•å¯¼æ³¨é‡Šã€‚ç„¶è€Œï¼Œå¼•å¯¼æ³¨é‡Šæ­£æ˜¯å¤§å¤šæ•°äººè®¤çŸ¥ä¸­é‚£ç±»å®Œå…¨æ— ç”¨çš„æ³¨é‡Šï¼š * ä»–ä»¬æ²¡æœ‰è¯´æ˜Žä»£ç ä¸­ä¸ç”šæ˜Žäº†çš„å†…å®¹ã€‚ * æŒ‡å¯¼æ³¨é‡Šä¸æä¾›æœ‰å…³è®¾è®¡æ–¹é¢çš„æç¤ºã€‚ å¼•å¯¼æ³¨é‡Šåªåšäº†ä¸€ä»¶äº‹ï¼šä»–ä»¬ç…§é¡¾äº†è¯»è€…çš„éœ€æ±‚ï¼Œåœ¨è¯»è€…å¤„ç†æºä»£ç ä¸­çš„å†…å®¹æ—¶æä¾›æ˜Žç¡®çš„åˆ’åˆ†ï¼ˆdivisionï¼‰å’ŒèŠ‚å¥ï¼ˆrhythmï¼‰ï¼Œå¹¶ä»‹ç»æŽ¥ä¸‹æ¥éœ€è¦é˜…è¯»çš„å†…å®¹ã€‚ rax.c C++æ”¶èµ· 12345678910/*è°ƒç”¨èŠ‚ç‚¹å›žè°ƒï¼ˆå¦‚æžœæœ‰çš„è¯ï¼‰ï¼Œå¦‚æžœå›žè°ƒè¿”å›žtrue *åˆ™æ›¿æ¢èŠ‚ç‚¹æŒ‡æ ‡*/if (it-&gt;node_cb &amp;&amp; it-&gt;node_cb(&amp;it-&gt;node)) memcpy(cp,&amp;it-&gt;node,sizeof(it-&gt;node)); /*å¯¹äºŽâ€œä¸‹ä¸€æ­¥â€ï¼Œæ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ªé”®å°±åœæ­¢*ä¸€æ¬¡ï¼Œå› ä¸ºç›¸æ¯”è¾ƒåŽé¢å­èŠ‚ç‚¹åˆ†æ”¯ä¸­çš„å†…å®¹*é”®æœ¬èº«å­—å…¸åºè¾ƒå°ã€‚*/if (it-&gt;node-&gt;iskey) &#123; it-&gt;data = raxGetData(it-&gt;node); return 1;&#125; Rediså†…â€œå®žé™…ä¸Šâ€å……æ»¡äº†å¼•å¯¼æ³¨é‡Šï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šä½ æ‰“å¼€çš„æ¯ä¸ªæ–‡ä»¶éƒ½ä¼šåŒ…å«å¾ˆå¤šå¼•å¯¼æ³¨é‡Šã€‚ä¸ºä»€ä¹ˆè¦è´¹è¿™ä¸ªåŠ›æ°”å‘¢ï¼Ÿåœ¨è¿™ç¯‡åšå®¢æ–‡ç« ä¸­æ‰€åˆ†æžçš„æ‰€æœ‰æ³¨é‡Šç±»åž‹ä¸­ï¼Œè¿™ç»å¯¹æ˜¯æœ€ä¸»è§‚çš„ä¸€ç§ã€‚æˆ‘å¹¶ä¸è§‰å¾—æ²¡æœ‰å¼•å¯¼æ³¨é‡Šçš„ä»£ç å°±ä¸æ˜¯å¥½ä»£ç ã€‚ä½†æˆ‘åšä¿¡ï¼Œå¦‚æžœäººä»¬è®¤ä¸ºRedisä»£ç æ˜¯å¯è¯»çš„ï¼Œéƒ¨åˆ†åŽŸå› å°±åœ¨äºŽå…¶ä¸­çš„å¼•å¯¼æ³¨é‡Šã€‚ å¼•å¯¼æ³¨é‡Šè¿˜æœ‰ä¸€äº›åˆ«çš„ç”¨å¤„ã€‚å› ä¸ºå®ƒä»¬æ˜Žç¡®åœ°å°†ä»£ç åˆ’åˆ†ä¸ºç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½åœ¨åˆé€‚çš„ä½ç½®æ’å…¥æ–°ä»£ç ï¼Œè€Œä¸æ˜¯éšä¾¿åŠ åœ¨å…¶ä»–ä»£ç åŽé¢ã€‚åœ¨ä»£ç é™„è¿‘è®¾ç½®ç›¸å…³è¯­å¥èƒ½å¤§å¤§æé«˜å¯è¯»æ€§ã€‚ å¼•å¯¼æ³¨é‡Šèƒ½ç®€è¦åœ°å‘Šè¯‰è¯»è€…å‡½æ•°å°†è¦æ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œæ‰€ä»¥å¦‚æžœä½ åªå¯¹å¤§æ¡†æž¶æ„Ÿå…´è¶£ï¼Œåˆ™æ— éœ€å›žè¿‡å¤´åŽ»é˜…è¯»å‡½æ•°ã€‚ çç¢Žæ³¨é‡Š å¼•å¯¼æ³¨é‡Šæ˜¯éžå¸¸ä¸»è§‚çš„å·¥å…·ã€‚ä¸ç®¡ä½ å–œä¸å–œæ¬¢ï¼Œæˆ‘åæ­£è¶…çˆ±å¼•å¯¼æ³¨é‡Šã€‚ ç„¶è€Œï¼Œå¼•å¯¼æ³¨é‡Šå¯èƒ½ä¼šé€€åŒ–ä¸ºæžå…¶ç³Ÿç³•çš„æ³¨é‡Šï¼šå®ƒå¾ˆå®¹æ˜“å˜æˆâ€œçç¢Žæ³¨é‡Šâ€ï¼ˆtrivial commentï¼‰ã€‚ çç¢Žæ³¨é‡Šè¿™ç§å¼•å¯¼æ³¨é‡Šæ‰€å¸¦æ¥çš„è®¤çŸ¥è´Ÿè·å’Œä»…é˜…è¯»ç›¸å…³ä»£ç æ¯”èµ·æ¥ç›¸å·®æ— å‡ ï¼Œç”šè‡³å¯èƒ½æ›´é«˜ã€‚ä»¥ä¸‹è¿™ç§çç¢Žæ³¨é‡Šæ­£æ˜¯è®¸å¤šä¹¦ç±è§„åŠä½ é¿å…çš„ã€‚ array_len ++; / å¢žåŠ æ•°ç»„çš„é•¿åº¦ã€‚ / å› æ­¤ï¼Œå¦‚æžœä½ å†™å¼•å¯¼æ³¨é‡Šçš„è¯ï¼Œè¯·é¿å…å†™çç¢Žæ³¨é‡Šã€‚ ï¼ˆä»£ç ï¼‰è´Ÿå€ºæ³¨é‡Š è´Ÿå€ºæ³¨é‡Šæ˜¯æºä»£ç å†…éƒ¨ç¡¬ç¼–ç çš„æŠ€æœ¯å€ºåŠ¡è¯­å¥ï¼š C++æ”¶èµ· 12345entries -= to_delete;marked_deleted += to_delete;if (entries + marked_deleted &gt; 10 &amp;&amp; marked_deleted &gt; entries/2) &#123; / * TODOï¼šæ‰§è¡Œåžƒåœ¾æ”¶é›†æ“ä½œã€‚* /&#125; FIXMEï¼ŒTODOï¼ŒXXXï¼Œè¿™äº›éƒ½æ˜¯è´Ÿå€ºæ³¨é‡Šã€‚æ€»çš„æ¥è¯´è¿™äº›æ³¨é‡Šä¸ç®—å¥½ï¼Œæˆ‘è¯•å›¾é¿å…ä½¿ç”¨å®ƒä»¬ï¼Œä½†çœ‹èµ·æ¥ä¸å¤ªå¯èƒ½ã€‚æœ‰æ—¶å€™ï¼Œæ¯”èµ·æ°¸è¿œå¿˜è®°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘æ›´å–œæ¬¢åœ¨æºä»£ç ä¸­æ”¾ç½®ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç¨‹åºå‘˜è‡³å°‘åº”è¯¥å®šæœŸæŸ¥çœ‹è¿™äº›æ³¨é‡Šï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥èƒ½æ”¹è¿›ä¸€ä¸‹è¡¨è¿°ï¼Œæˆ–è€…è¿™äº›é—®é¢˜æ˜¯å¦å·²ä¸å†ç›¸å…³æˆ–å¯ä»¥ç«‹å³è§£å†³ã€‚ å¤‡ä»½æ³¨é‡Š å¤‡ä»½æ³¨é‡Šæ˜¯å¼€å‘äººå‘˜å¯¹æŸäº›ä»£ç å—çš„æ—§ç‰ˆæœ¬ç”šè‡³æ˜¯æ•´ä¸ªå‡½æ•°åšå‡ºçš„æ³¨é‡Šï¼Œå› ä¸ºä»–/å¥¹å¯¹æ–°ç‰ˆæœ¬ä¸­è¿è¡Œçš„æ›´æ”¹æ”¾ä¸ä¸‹å¿ƒã€‚ä»¤äººè´¹è§£çš„æ˜¯ï¼ŒçŽ°åœ¨æœ‰äº†Gitï¼Œäººä»¬å´è¿˜åœ¨ä½¿ç”¨è¿™ç±»æ³¨é‡Šã€‚æˆ‘æƒ³äººä»¬å¯¹äºŽä¸¢å¤±ä»£ç ç‰‡æ®µæœ‰ä¸€ç§ä¸å®‰å…¨æ„Ÿï¼Œè¿‡åŽ»æäº¤ä»£ç æ—¶ï¼Œä½¿ç”¨å¤‡ä»½æ³¨é‡Šä¼šæ˜¾å¾—æ›´åŠ ç†æ™ºå¯é ã€‚ ä½†æºä»£ç å¹¶ä¸æ˜¯ç”¨æ¥å¤‡ä»½çš„ã€‚å¦‚æžœä½ éœ€è¦ä¿å­˜æ—§ç‰ˆæœ¬çš„å‡½æ•°æˆ–ä»£ç ï¼Œè¯´æ˜Žä½ çš„å·¥ä½œå°šæœªå®Œæˆï¼Œä¹Ÿæ— æ³•æäº¤ã€‚è¦ä¹ˆç¡®ä¿æ–°å‡½æ•°æ¯”è¿‡åŽ»çš„æ›´å¥½ï¼Œè¦ä¹ˆåªåœ¨å¼€å‘æ ‘ï¼ˆdevelopment treeï¼‰ä¸­ä½¿ç”¨å®ƒï¼Œç›´åˆ°ä½ ç¡®å®šä¸ºæ­¢ã€‚ å¤‡ä»½æ³¨é‡Šæ˜¯æˆ‘åˆ†ç±»ä¸­çš„æœ€åŽä¸€é¡¹ã€‚æˆ‘ä»¬æ¥åšä¸ªæ€»ç»“ã€‚ æ€»ç»“ æ³¨é‡Šæ˜¯å’Œæœªæ¥çš„ä»£ç è¯»è€…èŠå¤©ï¼Œè¯»è€…ä»¬è¿˜èƒ½åœ¨Twitterä¸Šè¯„ä»·ä½ çš„æ³¨é‡Šã€‚æ‰€ä»¥åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ çœŸå¿ƒåœ°åœ¨å®¡è§†è‡ªå·±æ‰€æ³¨é‡Šçš„å†…å®¹æ˜¯å¦â€œèƒ½è®©äººæŽ¥å—â€ï¼Œçœ‹è‡ªå·±å†™å¾—æ˜¯å¦è¶³å¤Ÿä½“é¢ã€è¶³å¤Ÿå¥½ã€‚å¦‚æžœä¸æ˜¯ï¼Œä½ å°±å‹¤å‹¤æ³æ³åœ°å†åšä¸€éï¼Œæ‹¿å‡ºæ›´å¥½çš„æ³¨é‡Šæ¥ã€‚ ä½ å¯èƒ½è®¤ä¸ºç¼–å†™æ³¨é‡Šä¸æ˜¯ä¸ªé«˜ç«¯å·¥ä½œã€‚æ¯•ç«Ÿä½ â€œä¼šå†™ä»£ç â€ï¼ä½†è¯·è€ƒè™‘è¿™ä¸€ç‚¹ï¼šä»£ç æ˜¯ä¸€ç»„è¯­å¥å’Œå‡½æ•°è°ƒç”¨ï¼ˆæˆ–è€…ä½ åšçš„å…¶ä»–ç¼–ç¨‹èŒƒä¾‹ä¹Ÿä¸€æ ·ï¼‰ã€‚å¦‚æžœä»£ç å†™å¾—ä¸å¥½ï¼Œè¿™äº›è¯­å¥å°±æ²¡æœ‰å¤šå¤§æ„ä¹‰ã€‚æ³¨é‡Šå¸¸å¸¸è¦æ±‚ä½ è¿›è¡Œä¸€äº›è®¾è®¡è¿‡ç¨‹ï¼Œå¹¶ä»Žæ›´æ·±å±‚æ¬¡æ¥ç†è§£ä½ æ­£åœ¨ç¼–å†™çš„ä»£ç ã€‚ æœ€é‡è¦çš„æ˜¯ï¼Œä¸ºäº†å†™å‡ºå¥½çš„æ³¨é‡Šï¼Œä½ å¿…é¡»åŸ¹å…»è‡ªå·±çš„å†™ä½œèƒ½åŠ›ã€‚è¿™ç§å†™ä½œæŠ€å·§èƒ½å¸®ä½ æ›´å¥½åœ°ç¼–å†™ç”µå­é‚®ä»¶ã€æ–‡æ¡ˆã€è®¾è®¡æ–‡æ¡£ã€åšå®¢æ–‡ç« å’Œæäº¤æ–‡ä»¶ã€‚ æˆ‘å†™ä»£ç æ˜¯å› ä¸ºæˆ‘è¿«åˆ‡æƒ³è¦ä¸Žä»–äººæ²Ÿé€šäº¤æµã€åˆ†äº«æƒ³æ³•ã€‚æ³¨é‡Šèƒ½å¤Ÿä¸ºä»£ç æä¾›å¸®åŠ©ï¼ŒæŠŠä½œè€…çš„å¿ƒè¡€è¡¨çŽ°å‡ºæ¥ã€‚è¯´åˆ°åº•ï¼Œæˆ‘å–œæ¬¢å†™æ³¨é‡Šï¼Œå°±åƒæˆ‘å–œæ¬¢å†™ä»£ç ä¸€æ ·ã€‚]]></content>
      <categories>
        <category>å¼€å‘è§„èŒƒ</category>
      </categories>
      <tags>
        <tag>æ³¨é‡Š</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è½¬-æ—¥å¿—è§„èŒƒ]]></title>
    <url>%2F2020%2F12%2F12%2FPrograming%2F%E8%BD%AC-%E6%97%A5%E5%BF%97%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[æ—¥å¿— æ—¥å¿—æ˜¯ä»€ä¹ˆï¼Ÿ æ—¥å¿—ï¼Œç»´åŸºç™¾ç§‘çš„å®šä¹‰æ˜¯è®°å½•æœåŠ¡å™¨ç­‰ç”µè„‘è®¾å¤‡æˆ–è½¯ä»¶çš„è¿ä½œã€‚ æ—¥å¿—æ–‡ä»¶æä¾›ç²¾ç¡®çš„ç³»ç»Ÿè®°å½•ï¼Œæ ¹æ®æ—¥å¿—æœ€ç»ˆå®šä½åˆ°é”™è¯¯è¯¦æƒ…å’Œæ ¹æºã€‚æ—¥å¿—çš„ç‰¹ç‚¹æ˜¯ï¼Œå®ƒæè¿°ä¸€äº›ç¦»æ•£çš„ï¼ˆä¸è¿žç»­çš„ï¼‰äº‹ä»¶ã€‚ ä¾‹å¦‚ï¼šåº”ç”¨é€šè¿‡ä¸€ä¸ªæ»šåŠ¨çš„æ–‡ä»¶è¾“å‡º INFO æˆ– ERROR ä¿¡æ¯ï¼Œå¹¶é€šè¿‡æ—¥å¿—æ”¶é›†ç³»ç»Ÿï¼Œå­˜å‚¨åˆ°ä¸€äº›å­˜å‚¨å¼•æ“Žï¼ˆElasticsearchï¼‰ä¸­æ–¹ä¾¿æŸ¥è¯¢ã€‚ æ—¥å¿—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ åœ¨ä¸Šæ–‡ä¸­æˆ‘ä»¬è§£é‡Šäº†æ—¥å¿—çš„ä½œç”¨æ˜¯æä¾›ç²¾å‡†çš„ç³»ç»Ÿè®°å½•æ–¹ä¾¿æ ¹å› åˆ†æžã€‚é‚£ä¹ˆå…·ä½“åœ¨å“ªäº›å…·ä½“æ–¹é¢å®ƒå¯ä»¥å‘æŒ¥ä½œç”¨ï¼Ÿ æ‰“å°è°ƒè¯•ï¼šå³å¯ä»¥ç”¨æ—¥å¿—æ¥è®°å½•å˜é‡æˆ–è€…æŸä¸€æ®µé€»è¾‘ã€‚è®°å½•ç¨‹åºè¿è¡Œçš„æµç¨‹ï¼Œå³ç¨‹åºè¿è¡Œäº†å“ªäº›ä»£ç ï¼Œæ–¹ä¾¿æŽ’æŸ¥é€»è¾‘é—®é¢˜ã€‚ é—®é¢˜å®šä½ï¼šç¨‹åºå‡ºå¼‚å¸¸æˆ–è€…å‡ºæ•…éšœæ—¶å¿«é€Ÿçš„å®šä½é—®é¢˜ï¼Œæ–¹ä¾¿åŽæœŸè§£å†³é—®é¢˜ã€‚å› ä¸ºçº¿ä¸Šç”Ÿäº§çŽ¯å¢ƒæ— æ³• debugï¼Œåœ¨æµ‹è¯•çŽ¯å¢ƒåŽ»æ¨¡æ‹Ÿä¸€å¥—ç”Ÿäº§çŽ¯å¢ƒï¼Œè´¹æ—¶è´¹åŠ›ã€‚æ‰€ä»¥ä¾é æ—¥å¿—è®°å½•çš„ä¿¡æ¯å®šä½é—®é¢˜ï¼Œè¿™ç‚¹éžå¸¸é‡è¦ã€‚è¿˜å¯ä»¥è®°å½•æµé‡ï¼ŒåŽæœŸå¯ä»¥é€šè¿‡ ELKï¼ˆåŒ…æ‹¬ EFK è¿›è¡Œæµé‡ç»Ÿè®¡ï¼‰ã€‚ ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼šè®°å½•ç”¨æˆ·çš„æ“ä½œè¡Œä¸ºï¼Œç”¨äºŽå¤§æ•°æ®åˆ†æžï¼Œæ¯”å¦‚ç›‘æŽ§ã€é£ŽæŽ§ã€æŽ¨èç­‰ç­‰ã€‚è¿™ç§æ—¥å¿—ï¼Œä¸€èˆ¬æ˜¯ç»™å…¶ä»–å›¢é˜Ÿåˆ†æžä½¿ç”¨ï¼Œè€Œä¸”å¯èƒ½æ˜¯å¤šä¸ªå›¢é˜Ÿï¼Œå› æ­¤ä¸€èˆ¬ä¼šæœ‰ä¸€å®šçš„æ ¼å¼è¦æ±‚ï¼Œå¼€å‘è€…åº”è¯¥æŒ‰ç…§è¿™ä¸ªæ ¼å¼æ¥è®°å½•ï¼Œä¾¿äºŽå…¶ä»–å›¢é˜Ÿçš„ä½¿ç”¨ã€‚å½“ç„¶ï¼Œè¦è®°å½•å“ªäº›è¡Œä¸ºã€æ“ä½œï¼Œä¸€èˆ¬ä¹Ÿæ˜¯çº¦å®šå¥½çš„ï¼Œå› æ­¤ï¼Œå¼€å‘è€…ä¸»è¦æ˜¯æ‰§è¡Œçš„è§’è‰²ã€‚ æ ¹å› åˆ†æžï¼ˆç”©é”…å¿…å¤‡ï¼‰ï¼šå³åœ¨å…³é”®åœ°æ–¹è®°å½•æ—¥å¿—ã€‚æ–¹ä¾¿åœ¨å’Œå„ä¸ªç»ˆç«¯å®šä½é—®é¢˜æ—¶ï¼Œåˆ«äººè¯´æ—¶ä½ çš„ç¨‹åºé—®é¢˜ï¼Œä½ å¯ä»¥ç†ç›´æ°”å£®çš„æ‹¿å‡ºä½ çš„æ—¥å¿—è¯´ï¼Œçœ‹ï¼Œæˆ‘è¿™é‡Œè¿è¡Œäº†ï¼ŒçŠ¶æ€ä¹Ÿæ˜¯å¯¹çš„ã€‚è¿™æ ·ï¼Œå¯¹æ–¹å°±ä¼šä¹–ä¹–åŽ»å®šä½ä»–çš„ä»£ç ï¼Œè€Œä¸æ˜¯äº’ç›¸æŽ¨è„±ã€‚ ä»€ä¹ˆæ—¶å€™è®°å½•æ—¥å¿—ï¼Ÿ ä¸Šæ–‡è¯´äº†æ—¥å¿—çš„é‡è¦æ€§ï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™éœ€è¦è®°å½•æ—¥å¿—ã€‚ ç³»ç»Ÿåˆå§‹åŒ–ï¼šç³»ç»Ÿæˆ–è€…æœåŠ¡çš„å¯åŠ¨å‚æ•°ã€‚æ ¸å¿ƒæ¨¡å—æˆ–è€…ç»„ä»¶åˆå§‹åŒ–è¿‡ç¨‹ä¸­å¾€å¾€ä¾èµ–ä¸€äº›å…³é”®é…ç½®ï¼Œæ ¹æ®å‚æ•°ä¸åŒä¼šæä¾›ä¸ä¸€æ ·çš„æœåŠ¡ã€‚åŠ¡å¿…åœ¨è¿™é‡Œè®°å½• INFO æ—¥å¿—ï¼Œæ‰“å°å‡ºå‚æ•°ä»¥åŠå¯åŠ¨å®Œæˆæ€æœåŠ¡è¡¨è¿°ã€‚ ç¼–ç¨‹è¯­è¨€æç¤ºå¼‚å¸¸ï¼šå¦‚ä»Šå„ç±»ä¸»æµçš„ç¼–ç¨‹è¯­è¨€éƒ½åŒ…æ‹¬å¼‚å¸¸æœºåˆ¶ï¼Œä¸šåŠ¡ç›¸å…³çš„æµè¡Œæ¡†æž¶æœ‰å®Œæ•´çš„å¼‚å¸¸æ¨¡å—ã€‚è¿™ç±»æ•èŽ·çš„å¼‚å¸¸æ˜¯ç³»ç»Ÿå‘ŠçŸ¥å¼€å‘äººå‘˜éœ€è¦åŠ ä»¥å…³æ³¨çš„ï¼Œæ˜¯è´¨é‡éžå¸¸é«˜çš„æŠ¥é”™ã€‚åº”å½“é€‚å½“è®°å½•æ—¥å¿—ï¼Œæ ¹æ®å®žé™…ç»“åˆä¸šåŠ¡çš„æƒ…å†µä½¿ç”¨ WARN æˆ–è€… ERROR çº§åˆ«ã€‚ ä¸šåŠ¡æµç¨‹é¢„æœŸä¸ç¬¦ï¼šé™¤å¼€å¹³å°ä»¥åŠç¼–ç¨‹è¯­è¨€å¼‚å¸¸ä¹‹å¤–ï¼Œé¡¹ç›®ä»£ç ä¸­ç»“æžœä¸ŽæœŸæœ›ä¸ç¬¦æ—¶ä¹Ÿæ˜¯æ—¥å¿—åœºæ™¯ä¹‹ä¸€ï¼Œç®€å•æ¥è¯´æ‰€æœ‰æµç¨‹åˆ†æ”¯éƒ½å¯ä»¥åŠ å…¥è€ƒè™‘ã€‚å–å†³äºŽå¼€å‘äººå‘˜åˆ¤æ–­èƒ½å¦å®¹å¿æƒ…å½¢å‘ç”Ÿã€‚å¸¸è§çš„åˆé€‚åœºæ™¯åŒ…æ‹¬å¤–éƒ¨å‚æ•°ä¸æ­£ç¡®ï¼Œæ•°æ®å¤„ç†é—®é¢˜å¯¼è‡´è¿”å›žç ä¸åœ¨åˆç†èŒƒå›´å†…ç­‰ç­‰ã€‚ ç³»ç»Ÿæ ¸å¿ƒè§’è‰²ï¼Œç»„ä»¶å…³é”®åŠ¨ä½œï¼šç³»ç»Ÿä¸­æ ¸å¿ƒè§’è‰²è§¦å‘çš„ä¸šåŠ¡åŠ¨ä½œæ˜¯éœ€è¦å¤šåŠ å…³æ³¨çš„ï¼Œæ˜¯è¡¡é‡ç³»ç»Ÿæ­£å¸¸è¿è¡Œçš„é‡è¦æŒ‡æ ‡ï¼Œå»ºè®®è®°å½• INFO çº§åˆ«æ—¥å¿—ï¼Œæ¯”å¦‚ç”µå•†ç³»ç»Ÿç”¨æˆ·ä»Žç™»å½•åˆ°ä¸‹å•çš„æ•´ä¸ªæµç¨‹ï¼›å¾®æœåŠ¡å„æœåŠ¡èŠ‚ç‚¹äº¤äº’ï¼›æ ¸å¿ƒæ•°æ®è¡¨å¢žåˆ æ”¹ï¼›æ ¸å¿ƒç»„ä»¶è¿è¡Œç­‰ç­‰ï¼Œå¦‚æžœæ—¥å¿—é¢‘åº¦é«˜æˆ–è€…æ‰“å°é‡ç‰¹åˆ«å¤§ï¼Œå¯ä»¥æç‚¼å…³é”®ç‚¹ INFO è®°å½•ï¼Œå…¶ä½™é…Œæƒ…è€ƒè™‘ DEBUG çº§åˆ«ã€‚ ç¬¬ä¸‰æ–¹æœåŠ¡è¿œç¨‹è°ƒç”¨ï¼šå¾®æœåŠ¡æž¶æž„ä½“ç³»ä¸­æœ‰ä¸€ä¸ªé‡è¦çš„ç‚¹å°±æ˜¯ç¬¬ä¸‰æ–¹æ°¸è¿œä¸å¯ä¿¡ï¼Œå¯¹äºŽç¬¬ä¸‰æ–¹æœåŠ¡è¿œç¨‹è°ƒç”¨å»ºè®®æ‰“å°è¯·æ±‚å’Œå“åº”çš„å‚æ•°ï¼Œæ–¹ä¾¿åœ¨å’Œå„ä¸ªç»ˆç«¯å®šä½é—®é¢˜ï¼Œä¸ä¼šå› ä¸ºç¬¬ä¸‰æ–¹æœåŠ¡æ—¥å¿—çš„ç¼ºå¤±å˜å¾—æ‰‹è¶³æ— æŽªã€‚ æ—¥å¿—æ‰“å° Slf4j &amp; Logback Slf4j è‹±æ–‡å…¨ç§°ä¸º â€œ Simple Logging Facade for Java â€ï¼Œä¸º Java æä¾›çš„ç®€å•æ—¥å¿—é—¨é¢ã€‚Facade é—¨é¢ï¼Œæ›´åº•å±‚ä¸€ç‚¹è¯´å°±æ˜¯æŽ¥å£ã€‚å®ƒå…è®¸ç”¨æˆ·ä»¥è‡ªå·±çš„å–œå¥½ï¼Œåœ¨å·¥ç¨‹ä¸­é€šè¿‡ Slf4j æŽ¥å…¥ä¸åŒçš„æ—¥å¿—ç³»ç»Ÿã€‚ Logback æ˜¯ Slf4j çš„åŽŸç”Ÿå®žçŽ°æ¡†æž¶ï¼ŒåŒæ ·ä¹Ÿæ˜¯å‡ºè‡ª Log4j ä¸€ä¸ªäººä¹‹æ‰‹ï¼Œä½†æ‹¥æœ‰æ¯” Log4j æ›´å¤šçš„ä¼˜ç‚¹ã€ç‰¹æ€§å’Œæ›´åšå¼ºçš„æ€§èƒ½ï¼ŒLogback ç›¸å¯¹äºŽ Log4j æ‹¥æœ‰æ›´å¿«çš„æ‰§è¡Œé€Ÿåº¦ã€‚åŸºäºŽæˆ‘ä»¬å…ˆå‰åœ¨ Log4j ä¸Šçš„å·¥ä½œï¼ŒLogback é‡å†™äº†å†…éƒ¨çš„å®žçŽ°ï¼Œåœ¨æŸäº›ç‰¹å®šçš„åœºæ™¯ä¸Šé¢ï¼Œç”šè‡³å¯ä»¥æ¯”ä¹‹å‰çš„é€Ÿåº¦å¿«ä¸Š 10 å€ã€‚åœ¨ä¿è¯ Logback çš„ç»„ä»¶æ›´åŠ å¿«é€Ÿçš„åŒæ—¶ï¼ŒåŒæ—¶æ‰€éœ€çš„å†…å­˜æ›´åŠ å°‘ã€‚ æ—¥å¿—æ–‡ä»¶ æ—¥å¿—æ–‡ä»¶æ”¾ç½®äºŽå›ºå®šçš„ç›®å½•ä¸­ï¼ŒæŒ‰ç…§ä¸€å®šçš„æ¨¡æ¿è¿›è¡Œå‘½åï¼ŒæŽ¨èçš„æ—¥å¿—æ–‡ä»¶åç§°ï¼š Plain Textæ”¶èµ· 123å½“å‰æ­£åœ¨å†™å…¥çš„æ—¥å¿—æ–‡ä»¶åï¼š&lt;åº”ç”¨å&gt;[-&lt;åŠŸèƒ½å&gt;].logå¦‚ï¼šexample-server-book-service-access.logå·²ç»æ»šå…¥åŽ†å²çš„æ—¥å¿—æ–‡ä»¶åï¼š&lt;åº”ç”¨å&gt;[-&lt;åŠŸèƒ½å&gt;].yyyy-MM-dd-hh.[æ»šåŠ¨å·].log å¦‚ï¼šexample-server-book-service-access.2019-12-01-10.1.log æ—¥å¿—å˜é‡å®šä¹‰ æŽ¨èä½¿ç”¨ lombokï¼ˆä»£ç ç”Ÿæˆå™¨ï¼‰ æ³¨è§£ @lombok.extern.slf4j.Slf4j æ¥ç”Ÿæˆæ—¥å¿—å˜é‡å®žä¾‹ã€‚ ä»£ç ç¤ºä¾‹ Javaæ”¶èµ· 12345678910import lombok.extern.slf4j.Slf4j; @Slf4jpublic class LogTest &#123; public static void main(String[] args) &#123; log.info(&quot;this is log test&quot;); &#125; &#125; æ—¥å¿—é…ç½® æ—¥å¿—è®°å½•é‡‡ç”¨åˆ†çº§è®°å½•ï¼Œçº§åˆ«ä¸Žæ—¥å¿—æ–‡ä»¶åç›¸å¯¹åº”ï¼Œä¸åŒçº§åˆ«çš„æ—¥å¿—ä¿¡æ¯è®°å½•åˆ°ä¸åŒçš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚å¦‚æœ‰ç‰¹æ®Šæ ¼å¼æ—¥å¿—ï¼Œå¦‚ access logï¼Œå•ç‹¬ä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯·æ³¨æ„é¿å…é‡å¤æ‰“å°ï¼ˆå¯ä½¿ç”¨ additivity**=â€œfalseâ€** é¿å… ï¼‰ã€‚ å‚æ•°å ä½æ ¼å¼ ä½¿ç”¨å‚æ•°åŒ–å½¢å¼ {} å ä½ï¼Œ[] è¿›è¡Œå‚æ•°éš”ç¦»ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯å¯è¯»æ€§æ›´é«˜ï¼Œè€Œä¸”åªæœ‰çœŸæ­£å‡†å¤‡æ‰“å°çš„æ—¶å€™æ‰ä¼šå¤„ç†å‚æ•°ã€‚ Javaæ”¶èµ· 1234// æ­£ç¡®ç¤ºä¾‹ï¼Œå¿…é¡»ä½¿ç”¨å‚æ•°åŒ–ä¿¡æ¯çš„æ–¹å¼log.debug(&quot;order is paying with userId:[&#123;&#125;] and orderId : [&#123;&#125;]&quot;,userId, orderId);// é”™è¯¯ç¤ºä¾‹ï¼Œä¸è¦è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æŽ¥,é‚£æ ·ä¼šäº§ç”Ÿå¾ˆå¤š String å¯¹è±¡ï¼Œå ç”¨ç©ºé—´ï¼Œå½±å“æ€§èƒ½ã€‚åŠæ—¥å¿—çº§åˆ«é«˜äºŽæ­¤çº§åˆ«ä¹Ÿä¼šè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æŽ¥é€»è¾‘ã€‚log.debug(&quot;order is paying with userId: &quot; + userId + &quot; and orderId: &quot; + orderId); æ—¥å¿—çš„åŸºæœ¬æ ¼å¼ æ—¥å¿—æ—¶é—´ ä½œä¸ºæ—¥å¿—äº§ç”Ÿçš„æ—¥æœŸå’Œæ—¶é—´ï¼Œè¿™ä¸ªæ•°æ®éžå¸¸é‡è¦ï¼Œä¸€èˆ¬ç²¾ç¡®åˆ°æ¯«ç§’ã€‚ Plain Text 1yyyy-MM-dd HH:mm:ss.SSS æ—¥å¿—çº§åˆ« æ—¥å¿—çš„è¾“å‡ºéƒ½æ˜¯åˆ†çº§åˆ«çš„ï¼Œä¸åŒçš„è®¾ç½®ä¸åŒçš„åœºåˆæ‰“å°ä¸åŒçš„æ—¥å¿—ã€‚ ä¸»è¦ä½¿ç”¨å¦‚ä¸‹çš„å››ä¸ªçº§åˆ«ï¼š DEBUGï¼šDEUBG çº§åˆ«çš„ä¸»è¦è¾“å‡ºè°ƒè¯•æ€§è´¨çš„å†…å®¹ï¼Œè¯¥çº§åˆ«æ—¥å¿—ä¸»è¦ç”¨äºŽåœ¨å¼€å‘ã€æµ‹è¯•é˜¶æ®µè¾“å‡ºã€‚è¯¥çº§åˆ«çš„æ—¥å¿—åº”å°½å¯èƒ½åœ°è¯¦å°½ï¼Œå¼€å‘äººå‘˜å¯ä»¥å°†å„ç±»è¯¦ç»†ä¿¡æ¯è®°å½•åˆ° DEBUG é‡Œï¼Œèµ·åˆ°è°ƒè¯•çš„ä½œç”¨ï¼ŒåŒ…æ‹¬å‚æ•°ä¿¡æ¯ï¼Œè°ƒè¯•ç»†èŠ‚ä¿¡æ¯ï¼Œè¿”å›žå€¼ä¿¡æ¯ç­‰ç­‰ï¼Œä¾¿äºŽåœ¨å¼€å‘ã€æµ‹è¯•é˜¶æ®µå‡ºçŽ°é—®é¢˜æˆ–è€…å¼‚å¸¸æ—¶ï¼Œå¯¹å…¶è¿›è¡Œåˆ†æžã€‚ INFOï¼šINFO çº§åˆ«çš„ä¸»è¦è®°å½•ç³»ç»Ÿå…³é”®ä¿¡æ¯ï¼Œæ—¨åœ¨ä¿ç•™ç³»ç»Ÿæ­£å¸¸å·¥ä½œæœŸé—´å…³é”®è¿è¡ŒæŒ‡æ ‡ï¼Œå¼€å‘äººå‘˜å¯ä»¥å°†åˆå§‹åŒ–ç³»ç»Ÿé…ç½®ã€ä¸šåŠ¡çŠ¶æ€å˜åŒ–ä¿¡æ¯ï¼Œæˆ–è€…ç”¨æˆ·ä¸šåŠ¡æµç¨‹ä¸­çš„æ ¸å¿ƒå¤„ç†è®°å½•åˆ°INFOæ—¥å¿—ä¸­ï¼Œæ–¹ä¾¿æ—¥å¸¸è¿ç»´å·¥ä½œä»¥åŠé”™è¯¯å›žæº¯æ—¶ä¸Šä¸‹æ–‡åœºæ™¯å¤çŽ°ã€‚å»ºè®®åœ¨é¡¹ç›®å®ŒæˆåŽï¼Œåœ¨æµ‹è¯•çŽ¯å¢ƒå°†æ—¥å¿—çº§åˆ«è°ƒæˆ INFOï¼Œç„¶åŽé€šè¿‡ INFO çº§åˆ«çš„ä¿¡æ¯çœ‹çœ‹æ˜¯å¦èƒ½äº†è§£è¿™ä¸ªåº”ç”¨çš„è¿ç”¨æƒ…å†µï¼Œå¦‚æžœå‡ºçŽ°é—®é¢˜åŽæ˜¯å¦è¿™äº›æ—¥å¿—èƒ½å¦æä¾›æœ‰ç”¨çš„æŽ’æŸ¥é—®é¢˜çš„ä¿¡æ¯ã€‚ WARNï¼šWARN çº§åˆ«çš„ä¸»è¦è¾“å‡ºè­¦å‘Šæ€§è´¨çš„å†…å®¹ï¼Œè¿™äº›å†…å®¹æ˜¯å¯ä»¥é¢„çŸ¥ä¸”æ˜¯æœ‰è§„åˆ’çš„ï¼Œæ¯”å¦‚ï¼ŒæŸä¸ªæ–¹æ³•å…¥å‚ä¸ºç©ºæˆ–è€…è¯¥å‚æ•°çš„å€¼ä¸æ»¡è¶³è¿è¡Œè¯¥æ–¹æ³•çš„æ¡ä»¶æ—¶ã€‚åœ¨ WARN çº§åˆ«çš„æ—¶åº”è¾“å‡ºè¾ƒä¸ºè¯¦å°½çš„ä¿¡æ¯ï¼Œä»¥ä¾¿äºŽäº‹åŽå¯¹æ—¥å¿—è¿›è¡Œåˆ†æžã€‚ ERRORï¼šERROR çº§åˆ«ä¸»è¦é’ˆå¯¹äºŽä¸€äº›ä¸å¯é¢„çŸ¥çš„ä¿¡æ¯ï¼Œè¯¸å¦‚ï¼šé”™è¯¯ã€å¼‚å¸¸ç­‰ï¼Œæ¯”å¦‚ï¼Œåœ¨ catch å—ä¸­æŠ“èŽ·çš„ç½‘ç»œé€šä¿¡ã€æ•°æ®åº“è¿žæŽ¥ç­‰å¼‚å¸¸ï¼Œè‹¥å¼‚å¸¸å¯¹ç³»ç»Ÿçš„æ•´ä¸ªæµç¨‹å½±å“ä¸å¤§ï¼Œå¯ä»¥ä½¿ç”¨ WARN çº§åˆ«æ—¥å¿—è¾“å‡ºã€‚åœ¨è¾“å‡º ERROR çº§åˆ«çš„æ—¥å¿—æ—¶ï¼Œå°½é‡å¤šåœ°è¾“å‡ºæ–¹æ³•å…¥å‚æ•°ã€æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„å¯¹è±¡ç­‰æ•°æ®ï¼Œåœ¨å¸¦æœ‰é”™è¯¯ã€å¼‚å¸¸å¯¹è±¡çš„æ•°æ®æ—¶ï¼Œéœ€è¦å°†è¯¥å¯¹è±¡ä¸€å¹¶è¾“å‡ºã€‚ DEBUG / INFO çš„é€‰æ‹© DEBUG çº§åˆ«æ¯” INFO ä½Žï¼ŒåŒ…å«è°ƒè¯•æ—¶æ›´è¯¦ç»†çš„äº†è§£ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„ä¸œè¥¿ï¼Œæ¯”å¦‚å˜é‡çš„å€¼ç­‰ç­‰ï¼Œéƒ½å¯ä»¥è¾“å‡ºåˆ° DEBUG æ—¥å¿—é‡Œã€‚ INFO æ˜¯åœ¨çº¿æ—¥å¿—é»˜è®¤çš„è¾“å‡ºçº§åˆ«ï¼Œåé¦ˆç³»ç»Ÿçš„å½“å‰çŠ¶æ€ç»™æœ€ç»ˆç”¨æˆ·çœ‹çš„ã€‚è¾“å‡ºçš„ä¿¡æ¯ï¼Œåº”è¯¥å¯¹æœ€ç»ˆç”¨æˆ·å…·æœ‰å®žé™…æ„ä¹‰çš„ã€‚ä»ŽåŠŸèƒ½è§’åº¦ä¸Šè¯´ï¼ŒINFO è¾“å‡ºçš„ä¿¡æ¯å¯ä»¥çœ‹ä½œæ˜¯è½¯ä»¶äº§å“çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥éœ€è¦è°¨æ…Žå¯¹å¾…ï¼Œä¸å¯éšä¾¿è¾“å‡ºã€‚å¦‚æžœè¿™æ¡æ—¥å¿—ä¼šè¢«é¢‘ç¹æ‰“å°æˆ–è€…å¤§éƒ¨åˆ†æ—¶é—´å¯¹äºŽçº é”™èµ·ä¸åˆ°ä½œç”¨ï¼Œå°±åº”å½“è€ƒè™‘ä¸‹è°ƒä¸º DEBUG çº§åˆ«ã€‚ ç”±äºŽ DEBUG æ—¥å¿—æ‰“å°é‡è¿œå¤§äºŽ INFOï¼Œå‡ºäºŽå‰æ–‡æ—¥å¿—æ€§èƒ½çš„è€ƒè™‘ï¼Œå¦‚æžœä»£ç ä¸ºæ ¸å¿ƒä»£ç ï¼Œæ‰§è¡Œé¢‘çŽ‡éžå¸¸é«˜ï¼ŒåŠ¡å¿…æŽ¨æ•²æ—¥å¿—è®¾è®¡æ˜¯å¦åˆç†ï¼Œæ˜¯å¦éœ€è¦ä¸‹è°ƒä¸º DEBUG çº§åˆ«æ—¥å¿—ã€‚ æ³¨æ„æ—¥å¿—çš„å¯è¯»æ€§ï¼Œä¸å¦¨åœ¨å†™å®Œä»£ç  review è¿™æ¡æ—¥å¿—æ˜¯å¦é€šé¡ºï¼Œèƒ½å¦æä¾›çœŸæ­£æœ‰æ„ä¹‰çš„ä¿¡æ¯ã€‚ æ—¥å¿—è¾“å‡ºæ˜¯å¤šçº¿ç¨‹å…¬ç”¨çš„ï¼Œå¦‚æžœæœ‰å¦å¤–ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨è¾“å‡ºæ—¥å¿—ï¼Œä¸Šé¢çš„è®°å½•å°±ä¼šè¢«æ‰“æ–­ï¼Œæœ€ç»ˆæ˜¾ç¤ºè¾“å‡ºå’Œé¢„æƒ³çš„å°±ä¼šä¸ä¸€è‡´ã€‚ WARN / ERROR çš„é€‰æ‹© å½“æ–¹æ³•æˆ–è€…åŠŸèƒ½å¤„ç†è¿‡ç¨‹ä¸­äº§ç”Ÿä¸ç¬¦åˆé¢„æœŸç»“æžœæˆ–è€…æœ‰æ¡†æž¶æŠ¥é”™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨ï¼Œå¸¸è§é—®é¢˜å¤„ç†æ–¹æ³•åŒ…æ‹¬ï¼š å¢žåŠ åˆ¤æ–­å¤„ç†é€»è¾‘ï¼Œå°è¯•æœ¬åœ°è§£å†³ï¼šå¢žåŠ é€»è¾‘åˆ¤æ–­åžæŽ‰æŠ¥è­¦æ°¸è¿œæ˜¯æœ€ä¼˜é€‰æ‹©æŠ›å‡ºå¼‚å¸¸ï¼Œäº¤ç»™ä¸Šå±‚é€»è¾‘è§£å†³ æŠ›å‡ºå¼‚å¸¸ï¼Œäº¤ç»™ä¸Šå±‚é€»è¾‘è§£å†³ è®°å½•æ—¥å¿—ï¼ŒæŠ¥è­¦æé†’ ä½¿ç”¨è¿”å›žç åŒ…è£…é”™è¯¯åšè¿”å›ž ä¸€èˆ¬æ¥è¯´ï¼ŒWARN çº§åˆ«ä¸ä¼šçŸ­ä¿¡æŠ¥è­¦ï¼ŒERROR çº§åˆ«åˆ™ä¼šçŸ­ä¿¡æŠ¥è­¦ç”šè‡³ç”µè¯æŠ¥è­¦ï¼ŒERROR çº§åˆ«çš„æ—¥å¿—æ„å‘³ç€ç³»ç»Ÿä¸­å‘ç”Ÿäº†éžå¸¸ä¸¥é‡çš„é—®é¢˜ï¼Œå¿…é¡»æœ‰äººé©¬ä¸Šå¤„ç†ï¼Œæ¯”å¦‚æ•°æ®åº“ä¸å¯ç”¨ï¼Œç³»ç»Ÿçš„å…³é”®ä¸šåŠ¡æµç¨‹èµ°ä¸ä¸‹åŽ»ç­‰ç­‰ã€‚é”™è¯¯çš„ä½¿ç”¨åè€Œå¸¦æ¥ä¸¥é‡çš„åŽæžœï¼Œä¸åŒºåˆ†é—®é¢˜çš„é‡è¦ç¨‹åº¦ï¼Œåªè¦æœ‰é—®é¢˜å°±errorè®°å½•ä¸‹æ¥ï¼Œå…¶å®žè¿™æ ·æ˜¯éžå¸¸ä¸è´Ÿè´£ä»»çš„ï¼Œå› ä¸ºå¯¹äºŽæˆç†Ÿçš„ç³»ç»Ÿï¼Œéƒ½ä¼šæœ‰ä¸€å¥—å®Œæ•´çš„æŠ¥é”™æœºåˆ¶ï¼Œé‚£è¿™ä¸ªé”™è¯¯ä¿¡æ¯ä»€ä¹ˆæ—¶å€™éœ€è¦å‘å‡ºæ¥ï¼Œå¾ˆå¤šéƒ½æ˜¯ä¾æ®å•ä½æ—¶é—´å†… ERROR æ—¥å¿—çš„æ•°é‡æ¥ç¡®å®šçš„ã€‚ å¼ºè°ƒERRORæŠ¥è­¦ ERROR çº§åˆ«çš„æ—¥å¿—æ‰“å°é€šå¸¸ä¼´éšæŠ¥è­¦é€šçŸ¥ã€‚ERRORçš„æŠ¥å‡ºåº”è¯¥ä¼´éšç€ä¸šåŠ¡åŠŸèƒ½å—æŸï¼Œå³ä¸Šé¢æåˆ°çš„ç³»ç»Ÿä¸­å‘ç”Ÿäº†éžå¸¸ä¸¥é‡çš„é—®é¢˜ï¼Œå¿…é¡»æœ‰äººé©¬ä¸Šå¤„ç†ã€‚ ERRORæ—¥å¿—ç›®æ ‡ ç»™å¤„ç†è€…ç›´æŽ¥å‡†ç¡®çš„ä¿¡æ¯ï¼šERROR ä¿¡æ¯å½¢æˆè‡ªèº«é—­çŽ¯ã€‚ é—®é¢˜å®šä½ï¼š å‘ç”Ÿäº†ä»€ä¹ˆé—®é¢˜ï¼Œå“ªäº›åŠŸèƒ½å—åˆ°å½±å“ èŽ·å–å¸®åŠ©ä¿¡æ¯ï¼šç›´æŽ¥å¸®åŠ©ä¿¡æ¯æˆ–å¸®åŠ©ä¿¡æ¯çš„å­˜å‚¨ä½ç½® é€šè¿‡æŠ¥è­¦çŸ¥é“è§£å†³æ–¹æ¡ˆæˆ–è€…æ‰¾ä½•äººè§£å†³ çº¿ç¨‹åç§° è¾“å‡ºè¯¥æ—¥å¿—çš„çº¿ç¨‹åç§°ï¼Œä¸€èˆ¬åœ¨ä¸€ä¸ªåº”ç”¨ä¸­ä¸€ä¸ªåŒæ­¥è¯·æ±‚ç”±åŒä¸€çº¿ç¨‹å®Œæˆï¼Œè¾“å‡ºçº¿ç¨‹åç§°å¯ä»¥åœ¨å„ä¸ªè¯·æ±‚äº§ç”Ÿçš„æ—¥å¿—ä¸­è¿›è¡Œåˆ†ç±»ï¼Œä¾¿äºŽåˆ†æ¸…å½“å‰è¯·æ±‚ä¸Šä¸‹æ–‡çš„æ—¥å¿—ã€‚ opentracing æ ‡è¯† åœ¨åˆ†å¸ƒå¼åº”ç”¨ä¸­ï¼Œç”¨æˆ·çš„ä¸€ä¸ªè¯·æ±‚ä¼šè°ƒç”¨è‹¥å¹²ä¸ªæœåŠ¡å®Œæˆï¼Œè¿™äº›æœåŠ¡å¯èƒ½è¿˜æ˜¯åµŒå¥—è°ƒç”¨çš„ï¼Œå› æ­¤å®Œæˆä¸€ä¸ªè¯·æ±‚çš„æ—¥å¿—å¹¶ä¸åœ¨ä¸€ä¸ªåº”ç”¨çš„æ—¥å¿—æ–‡ä»¶ï¼Œè€Œæ˜¯åˆ†æ•£åœ¨ä¸åŒæœåŠ¡å™¨ä¸Šä¸åŒåº”ç”¨èŠ‚ç‚¹çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚è¯¥æ ‡è¯†æ˜¯ä¸ºäº†ä¸²è”ä¸€ä¸ªè¯·æ±‚åœ¨æ•´ä¸ªç³»ç»Ÿä¸­çš„è°ƒç”¨æ—¥å¿—ã€‚ å”¯ä¸€å­—ç¬¦ä¸²ï¼ˆtrace idï¼‰ è°ƒç”¨å±‚çº§ï¼ˆspan idï¼‰ é€šè¿‡æœç´¢ trace id å°±å¯ä»¥æŸ¥åˆ°è¿™ä¸ª trace id æ ‡è¯†çš„è¯·æ±‚åœ¨æ•´ä¸ªç³»ç»Ÿä¸­æµè½¬ï¼ˆå¤„ç†ï¼‰è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ‰€æœ‰æ—¥å¿—ã€‚ biz æ ‡è¯† åœ¨ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„æ—¥å¿—éƒ½æ˜¯å’Œä¸šåŠ¡ç›¸å…³è”çš„ï¼Œæœ‰æ—¶å€™æ˜¯éœ€è¦æ ¹æ®ç”¨æˆ·æˆ–è€…ä¸šåŠ¡åšèšç±»çš„ï¼Œå› æ­¤ä¸€æ¬¡è¯·æ±‚å¦‚æžœå¯ä»¥é€šè¿‡æŸé¡¹æ ‡è¯†åšèšç±»çš„æ—¶å€™ï¼Œå¯ä»¥å°†èšç±»æ ‡è¯†æ‰“å°åˆ°æ—¥å¿—ä¸­ã€‚ ç”¨æˆ·æ ‡è¯†ï¼ˆuser idï¼‰ ä¸šåŠ¡æ ‡è¯†ï¼ˆbiz idï¼‰ æ—¥å¿—è®°å½•å™¨åç§° æ—¥å¿—è®°å½•å™¨åç§°ä¸€èˆ¬ä½¿ç”¨ç±»åï¼Œæ—¥å¿—æ–‡ä»¶ä¸­å¯ä»¥è¾“å‡ºç®€å•çš„ç±»åå³å¯ï¼Œçœ‹å®žé™…æƒ…å†µæ˜¯å¦éœ€è¦ä½¿ç”¨åŒ…åå’Œè¡Œå·ç­‰ä¿¡æ¯ã€‚ä¸»è¦ç”¨äºŽçœ‹åˆ°æ—¥å¿—åŽåˆ°å“ªä¸ªç±»ä¸­åŽ»æ‰¾è¿™ä¸ªæ—¥å¿—è¾“å‡ºï¼Œä¾¿äºŽå®šä½é—®é¢˜æ‰€åœ¨ã€‚ æ—¥å¿—å†…å®¹ ç¦ç”¨ System.out.println å’Œ System.err.println å˜å‚æ›¿æ¢æ—¥å¿—æ‹¼æŽ¥ è¾“å‡ºæ—¥å¿—çš„å¯¹è±¡ï¼Œåº”åœ¨å…¶ç±»ä¸­å®žçŽ°å¿«é€Ÿçš„ toString æ–¹æ³•ï¼Œä»¥ä¾¿äºŽåœ¨æ—¥å¿—è¾“å‡ºæ—¶ä»…è¾“å‡ºè¿™ä¸ªå¯¹è±¡ç±»åå’Œ hashCode é¢„é˜²ç©ºæŒ‡é’ˆ:ä¸è¦åœ¨æ—¥å¿—ä¸­è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•èŽ·å–å€¼ï¼Œé™¤éžç¡®ä¿è¯¥å¯¹è±¡è‚¯å®šä¸ä¸º nullï¼Œå¦åˆ™å¾ˆæœ‰å¯èƒ½ä¼šå› ä¸ºæ—¥å¿—çš„é—®é¢˜è€Œå¯¼è‡´åº”ç”¨äº§ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ å¼‚å¸¸å †æ ˆ å¼‚å¸¸å †æ ˆä¸€èˆ¬ä¼šå‡ºçŽ°åœ¨ ERROR æˆ–è€… WARN çº§åˆ«çš„æ—¥å¿—ä¸­ï¼Œå¼‚å¸¸å †æ ˆå«æœ‰æ–¹æ³•è°ƒç”¨é“¾çš„ç³»ç»Ÿï¼Œä»¥åŠå¼‚å¸¸äº§ç”Ÿçš„æ ¹æºã€‚å¼‚å¸¸å †æ ˆçš„æ—¥å¿—å±žäºŽä¸Šä¸€è¡Œæ—¥å¿—çš„ï¼Œåœ¨æ—¥å¿—æ”¶é›†æ—¶éœ€è¦å°†å…¶åˆ’è‡³ä¸Šä¸€è¡Œä¸­ã€‚ æœ€ä½³å®žè·µ æ—¥å¿—æ ¼å¼ Bash 12019-12-01 00:00:00.000|pid|log-level|[svc-name,trace-id,span-id,user-id,biz-id]|thread-name|package-name.class-name : log message æ—¶é—´ pidï¼Œpid log-levelï¼Œæ—¥å¿—çº§åˆ« svc-nameï¼Œåº”ç”¨åç§° trace-idï¼Œè°ƒç”¨é“¾æ ‡è¯† span-idï¼Œè°ƒç”¨å±‚çº§æ ‡è¯† user-idï¼Œç”¨æˆ·æ ‡è¯† biz-idï¼Œä¸šåŠ¡æ ‡è¯† thread-nameï¼Œçº¿ç¨‹åç§° package-name.class-nameï¼Œæ—¥å¿—è®°å½•å™¨åç§° log messageï¼Œæ—¥å¿—æ¶ˆæ¯ä½“ æ—¥å¿—æ¨¡å—æ‰©å±• æ—¥å¿—æ¨¡å—æ˜¯åŸºäºŽä»¥ä¸‹æŠ€æœ¯ç‚¹åšæ‰©å±•çš„ã€‚ Slf4j MDC å®žçŽ°åŽŸç†ï¼ˆæš‚ä¸å¼€å±•è¯¦è§£ï¼Œå¦‚æœ‰å…´è¶£ç§ä¸‹æ²Ÿé€šï¼‰ Opentracing Scope åŽŸç†ï¼ˆæš‚ä¸å¼€å±•è¯¦è§£ï¼Œå¦‚æœ‰å…´è¶£ç§ä¸‹æ²Ÿé€šï¼‰ åœ¨æ¯ä¸ª tracing é“¾è·¯ä¸­ï¼Œå°† Opentracing Scope ä¸­çš„ä¸Šä¸‹æ–‡ä¿¡æ¯æ”¾ç½® MDC ä¸­ï¼Œæ ¹æ® Spring Boot Logging æ‰©å±•æŽ¥å£æ‰©å±•çš„å–å€¼é€»è¾‘ **logging.pattern.level **çš„å–å€¼é€»è¾‘ã€‚ ç›¸å…³æºç å‚è€ƒ [Spring Cloud Sleuth]github.com/spring-clouâ€¦ ä¿®æ”¹ logback é…ç½®æ–‡ä»¶ä¸­æ¯ä¸ª appender çš„ pattern ä¸ºä»¥ä¸‹é»˜è®¤å€¼å³å¯å®žçŽ°æ ‡å‡†åŒ–ã€‚ Bash 1%d&#123;$&#123;LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS&#125;&#125;|$&#123;PID:- &#125;|%level|$&#123;LOG_LEVEL_PATTERN:-%5p&#125;|%t|%-40.40logger&#123;39&#125;: %msg%n logback.xml èŠ‚é€‰ XMLæ”¶èµ· 12345678&lt;configuration&gt;&lt;property name=&quot;LOG_PATH&quot; value=&quot;$&#123;LOG_PATH:-$&#123;LOG_TEMP:-$&#123;java.io.tmpdir:-/tmp&#125;&#125;&#125;&quot;/&gt; &lt;springProperty scope=&quot;context&quot; name=&quot;APP_NAME&quot; source=&quot;spring.application.name&quot; defaultValue=&quot;spring-boot-fusion&quot;&quot;LOG_PATTERN&quot; value=&quot;%d&#123;$&#123;LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS&#125;&#125;|$&#123;PID:- &#125;|%level|$&#123;LOG_LEVEL_PATTERN:-%5p&#125;|%t|%-40.40logger&#123;39&#125;: %msg%n&quot;&quot;fileInfo&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;$&#123;LOG_PATH&#125;/$&#123;APP_NAME&#125;&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;$&#123;LOG_PATH&#125;/$&#123;APP_NAME&#125;&quot;ch.qos.logback.classic.PatternLayout&quot;&gt; &lt;pattern&gt;$&#123;LOG_PATTERN&#125;&quot;ch.qos.logback.classic.filter.LevelFilter&quot;å¤åˆ¶ä»£ç  ä»£ç ä½¿ç”¨ç¤ºä¾‹ï¼š Plain Textæ”¶èµ· 12345678910@Overridepublic Result&lt;PagingObject&lt;SimpleResponse&gt;&gt; page(@RequestParam(value = &quot;page-num&quot;, defaultValue = &quot;1&quot;) int pageNum, @RequestParam(value = &quot;page-size&quot;, defaultValue = &quot;10&quot;) int pageSize) &#123; LogStandardUtils.putUserId(&quot;userId123&quot;); LogStandardUtils.putBizId(&quot;bizId321&quot;); producerService.sendMsg(&quot;xxx&quot;); simpleClient.page(pageNum, pageSize); return new Result&lt;&gt;(simpleService.page(pageNum, pageSize));&#125;å¤åˆ¶ä»£ç  æ—¥å¿—è®°å½• Bashæ”¶èµ· 123456782019-12-04 16:29:08.223|43546|INFO|[example-server-book-service,ac613cff04bac8b1,4a9adc10fdf0eb5,userId123,bizId321]|XNIO-1 task-4|c.n.u.concurrent.ShutdownEnabledTimer : Shutdown hook installed for: NFLoadBalancer-PingTimer-example-server-order-service2019-12-04 16:29:08.224|43546|INFO|[example-server-book-service,ac613cff04bac8b1,4a9adc10fdf0eb5,userId123,bizId321]|XNIO-1 task-4|c.netflix.loadbalancer.BaseLoadBalancer : Client: example-server-order-service instantiated a LoadBalancer: DynamicServerListLoadBalancer:&#123;NFLoadBalancer:name=example-server-order-service,current list of Servers=[],Load balancer stats=Zone stats: &#123;&#125;,Server stats: []&#125;ServerList:null2019-12-04 16:29:08.234|43546|INFO|[example-server-book-service,ac613cff04bac8b1,4a9adc10fdf0eb5,userId123,bizId321]|XNIO-1 task-4|c.n.l.DynamicServerListLoadBalancer : Using serverListUpdater PollingServerListUpdater2019-12-04 16:29:08.247|43546|INFO|[example-server-book-service,ac613cff04bac8b1,4a9adc10fdf0eb5,userId123,bizId321]|XNIO-1 task-4|c.n.l.DynamicServerListLoadBalancer : DynamicServerListLoadBalancer for client example-server-order-service initialized: DynamicServerListLoadBalancer:&#123;NFLoadBalancer:name=example-server-order-service,current list of Servers=[],Load balancer stats=Zone stats: &#123;&#125;,Server stats: []&#125;ServerList:ConsulServerList&#123;serviceId=&apos;example-server-order-service&apos;, tag=null&#125;2019-12-04 16:29:08.329|43546|WARN|[example-server-book-service,ac613cff04bac8b1,4a9adc10fdf0eb5,userId123,bizId321]|XNIO-1 task-4|c.p.f.l.ctl.common.rule.StrategyRule : No up servers available from load balancer: DynamicServerListLoadBalancer:&#123;NFLoadBalancer:name=example-server-order-service,current list of Servers=[],Load balancer stats=Zone stats: &#123;&#125;,Server stats: []&#125;ServerList:ConsulServerList&#123;serviceId=&apos;example-server-order-service&apos;, tag=null&#125;2019-12-04 16:29:08.334|43546|WARN|[example-server-book-service,ac613cff04bac8b1,4a9adc10fdf0eb5,userId123,bizId321]|XNIO-1 task-4|c.p.f.l.ctl.common.rule.StrategyRule : No up servers available from load balancer: DynamicServerListLoadBalancer:&#123;NFLoadBalancer:name=example-server-order-service,current list of Servers=[],Load balancer stats=Zone stats: &#123;&#125;,Server stats: []&#125;ServerList:ConsulServerList&#123;serviceId=&apos;example-server-order-service&apos;, tag=null&#125;2019-12-04 16:29:08.342|43546|ERROR|[example-server-book-service,ac613cff04bac8b1,4a9adc10fdf0eb5,userId123,bizId321]|XNIO-1 task-4|c.p.f.w.c.advice.ExceptionHandlerAdvice : å½“å‰ç¨‹åºè¿›å…¥åˆ°å¼‚å¸¸æ•èŽ·å™¨ï¼Œå‡ºé”™çš„ url ä¸ºï¼š[ http://127.0.0.1:10011/simples ]ï¼Œå‡ºé”™çš„å‚æ•°ä¸ºï¼š[ &#123;&quot;querystring&quot;:&quot;&#123;&#125;&quot;,&quot;payload&quot;:&quot;&quot;&#125; ]java.lang.RuntimeException: com.netflix.client.ClientException: Load balancer does not have available server for client: example-server-order-service å®žè·µè¯´æ˜Ž æ™®é€šæ ¼å¼æ—¥å¿— Bash 12019-11-26 15:01:03.332|1543|INFO|[example-server-book-service,28f019d57b8336ab,630697c7f34ca4fa,105,45982043|XNIO-1 task-42]|c.p.f.w.pay.PayServiceImpl : order is paying with userId: 105 and orderId: 45982043 æ™®é€šæ—¥å¿—å‰ç¼€æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥å›ºå®šåˆ†è¯ç´¢å¼•ï¼Œæ–¹ä¾¿æ›´å¿«çš„æŸ¥è¯¢åˆ†æžã€‚ ç‰¹å®šæ ¼å¼æ—¥å¿— ä»¥ access æ—¥å¿—ä¸ºä¾‹ Bashæ”¶èµ· 12345678910111213142019-11-26 15:01:03.332|1543|INFO|[example-server-book-service,28f019d57b8336ab,630697c7f34ca4fa,105,45982043|XNIO-1 task-42]|c.p.f.w.logging.AccessLoggingFilter : &gt; url: http://liweichao.com:10011/actuator/health&gt; http-method: GET&gt; request-header: [Accept:&quot;text/plain, text/*, */*&quot;, Connection:&quot;close&quot;, User-Agent:&quot;Consul Health Check&quot;, Host:&quot;liweichao.com:10011&quot;, Accept-Encoding:&quot;gzip&quot;]&gt; request-time: 2019-11-26 15:01:03.309&gt; querystring: -&gt; payload: -&gt; extra-param: - &lt; response-time: 2019-11-26 15:01:03.332&lt; take-time: 23&lt; http-status: 200&lt; response-header: [content-type:&quot;application/vnd.spring-boot.actuator.v2+json;charset=UTF-8&quot;, content-size:&quot;15&quot;]&lt; response-data: &#123;&quot;status&quot;:&quot;UP&quot;&#125; ç‰¹å®šæ ¼å¼æ—¥å¿—å¯æŒ‰æ ¼å¼åˆ›å»ºç´¢å¼•æ›´æ–¹ä¾¿èšç„¦æŸ¥è¯¢åˆ†æžå’Œå‘Šè­¦ï¼Œå¦‚æ ¹æ® take-timeï¼Œhttp-statusï¼Œbiz-code ç­‰å€¼ã€‚ ä½œè€…ï¼šçŒ¿å¤©åœ° é“¾æŽ¥ï¼šhttps://juejin.im/post/6844904030330683405 æ¥æºï¼šæŽ˜é‡‘ è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>å¼€å‘è§„èŒƒ</category>
      </categories>
      <tags>
        <tag>æ—¥å¿—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaæ‚è®°]]></title>
    <url>%2F2020%2F12%2F12%2FJava%E6%9D%82%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[Java Protoå¯¹è±¡è½¬byte http://itindex.net/detail/30996-%E5%BA%8F%E5%88%97%E5%8C%96-%E4%BB%A3%E7%A0%81-%E6%B5%8B%E8%AF%95 12345678910111213public byte[] serialize(Object obj) throws IOException &#123;Map data=(Map)obj;ByteArrayOutputStream baos= new ByteArrayOutputStream();CodedOutputStream cos=CodedOutputStream.newInstance(baos);cos.writeInt32NoTag(data.size());for(Map.Entry e:data.entrySet())&#123;cos.writeStringNoTag(e.getKey());cos.writeInt64NoTag(e.getValue());&#125; cos.flush();return baos.toByteArray();&#125; Javaæ— ç¬¦å·ç±»åž‹ https://blog.csdn.net/CrownP/article/details/88834275?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-2.control Java parkå’Œunparkçš„å†…å­˜æ¶ˆè€— https://juejin.cn/post/6844904001067040781 Completeable Future https://colobu.com/2016/02/29/Java-CompletableFuture/#ä¸»åŠ¨å®Œæˆè®¡ç®—]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-11-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2020%2F12%2F12%2FTechnicalDigest%2F2020-11-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[Big List Of 20 Common Bottlenecks http://highscalability.com/blog/2012/5/16/big-list-of-20-common-bottlenecks.html æ•°æ®åº“ Working sizeè¶…è¿‡å¯ç”¨å†…å­˜ Working Sizeæ€Žä¹ˆç†è§£ï¼Ÿè‚¯å®šä¸æ˜¯æŒ‡æ•°æ®åº“çš„å¤§å°ï¼Œåº”è¯¥æ˜¯åœ¨ä¿è¯ä¸šåŠ¡æŒ‡æ ‡â€”â€”å“åº”æ—¶é—´ã€QPSçš„æƒ…å†µä¸‹ï¼Œæ•°æ®åº“ä½¿ç”¨çš„å†…å­˜å¤§å°ã€‚å…¶è¶…è¿‡å¯ç”¨å†…å­˜åŽçš„ç›´æŽ¥å½±å“å°±æ˜¯ç³»ç»Ÿå¼€å§‹ä½¿ç”¨â€œswapâ€ï¼Œä»Žè€Œå¤§å¤§é™ä½ŽDBçš„æ€§èƒ½ã€‚æ‰€ä»¥ï¼ŒDBæœåŠ¡å™¨è¦æœ‰å……è¶³çš„å†…å­˜ã€‚ é•¿æŸ¥è¯¢å’ŒçŸ­æŸ¥è¯¢ æŒ‡è¿è¡Œæ—¶é—´å¾ˆé•¿å’Œå¾ˆçŸ­çš„æŸ¥è¯¢ã€‚è¿è¡Œæ—¶é—´å¾ˆé•¿çš„æŸ¥è¯¢ï¼Œè¦æ˜¯ä¹ˆå¾ˆæ¶ˆè€—å†…å­˜ã€CPUï¼Œæ¯”å¦‚è”åˆæŸ¥è¯¢ï¼Œè¦ä¹ˆæ˜¯å¾ˆæ¶ˆè€—ç£ç›˜I/Oï¼Œæ¯”å¦‚æ²¡æœ‰ç”¨åˆ°ç´¢å¼•çš„â€œéåŽ†â€â€”â€”è¿™åº”è¯¥ç®—æ˜¯â€œäº‹æ•…â€ã€‚é•¿æŸ¥è¯¢å¯¹â€œDBæ€§èƒ½â€çš„å½±å“æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚ çŸ­æŸ¥è¯¢ï¼Œæˆ‘å¯èƒ½ç†è§£æœ‰è¯¯ï¼Œå’¨è¯¢äº†æˆ‘ä»¬çš„DBAï¼Œè®¤ä¸ºå¤§æ¦‚æ˜¯â€œçŸ­è¿žæŽ¥â€çš„æ„æ€ã€‚DBçš„è¿žæŽ¥ï¼Œä¹Ÿæ˜¯æ¶ˆè€—èµ„æºçš„ï¼Œå¤§çº¦æ¯ä¸ª2Må†…å­˜çš„æ ·å­ï¼Œæ‰€ä»¥ï¼ŒJavaä½¿ç”¨â€œè¿žæŽ¥æ± â€æ¥é¿å…é¢‘ç¹è¿žæŽ¥æ•°æ®åº“ã€‚å½“çŸ­è¿žæŽ¥å¹¶å‘è¿‡å¤šçš„æ—¶å€™ï¼Œå»ºè®®æ”¹ç”¨â€œé•¿è¿žæŽ¥â€æ¥é¿å…ä¸å¿…è¦çš„å¼€é”€ï¼Œæä»£é«˜æ€§èƒ½ã€‚ å†™å†²çªï¼ˆéœ€è¦ç”¨é”çš„åœºæ™¯ï¼‰ å†™å†²çªçš„åœºæ™¯ï¼Œé€šå¸¸ä¼šé‡åˆ°â€œé”â€ï¼Œå¦‚MyISAçš„â€œè¡¨é”â€ï¼Œä¸ŽInnoDBçš„â€œè¡Œé”â€ï¼Œå½“é‡ä¸Šâ€œé”â€æ—¶ï¼Œåªèƒ½æœ‰ä¸€ä¸ªâ€œç”¨æˆ·â€åœ¨å†™ï¼Œå…¶ä»–ç”¨æˆ·å‡éœ€è¦ç­‰å¾…ã€‚å½“æœ‰å¤§é‡çš„å†²çªæ—¶ï¼Œç”¨æˆ·éœ€è¦ç­‰å¾…çš„æ—¶é—´å°±è¶Šé•¿ï¼Œâ€œé”â€æœºåˆ¶ä¼šå¯¼è‡´CPUçš„æœ‰æ•ˆåˆ©ç”¨çŽ‡å¤§å¤§ä¸‹é™â€”â€”èŠ±åœ¨â€œèŽ·å–é”â€ä¸Šçš„CPUæ—¶é—´å˜å¤šï¼Œä»Žè€Œå¯¼è‡´DBå¯ç”¨çš„æœ‰æ•ˆCPUæ—¶é—´å˜å°‘ï¼Œæ€§èƒ½ä¸‹é™ã€‚ å¤§é‡çš„Joinæ“ä½œæ¶ˆè€—å†…å­˜ Joinæ“ä½œæœ¬èº«æ¯”è¾ƒæ¶ˆè€—å†…å­˜å’ŒCPUï¼Œå°½å¯èƒ½ä¸ç”¨æˆ–å°‘ç”¨ã€‚ è™šæ‹ŸåŒ– å…±äº«ç£ç›˜ï¼Œç£ç›˜éšæœºè¯»ä¸¥é‡ è™šæ‹ŸåŒ–åœºæ™¯ï¼Œä½¿ç”¨å…±äº«ç£ç›˜ï¼ˆHDDï¼‰ï¼Œç£ç›˜ä¼šæˆä¸ºç“¶é¢ˆã€‚ç£ç›˜å·®ä¸å¤šæ˜¯è®¡ç®—æœºä¸Šæœ€æ…¢çš„è®¾å¤‡äº†ã€‚éšæœºI/Oèƒ½åŠ›æžå·®ã€‚ ç½‘ç»œI/Oæ³¢åŠ¨ å› ä¸ºè™šæ‹ŸåŒ–åœºæ™¯åŒä¸€å°ç‰©ç†æœºä¸Šçš„å¤šä¸ªVMä¹‹é—´çš„ç½‘ç»œæ˜¯å…±äº«çš„ï¼Œä¼šäº’ç›¸å½±å“ã€‚ ç¨‹åº çº¿ç¨‹ï¼šæ­»é”ï¼Œä¸Žâ€œäº‹ä»¶é©±åŠ¨åž‹â€ï¼ˆæ–¹æ¡ˆï¼‰ç›¸æ¯”è¿‡é‡ï¼Œdebugï¼Œéžçº¿æ€§æ‰©å±•ï¼Œç­‰ç­‰ äº‹ä»¶é©±åŠ¨ç¼–ç¨‹ï¼šå›žè°ƒçš„å¤æ‚åº¦ï¼Œå¦‚ä½•ä¿å­˜å‡½æ•°çŠ¶æ€ï¼Œç­‰ç­‰ ç¼ºä¹â€œprofilingâ€ã€è·Ÿè¸ªã€æ—¥å¿—æœºåˆ¶ã€‚ è€¦åˆä¸¥é‡ï¼Œå•ç‹¬æ•…éšœï¼Œä¸å¯æ°´å¹³æ‰©å±•ï¼Œç­‰ç­‰ æœ‰çŠ¶æ€çš„åº”ç”¨ï¼ˆä¸æ˜“æ°´å¹³æ‰©å±•ï¼‰ ç³Ÿç³•çš„è®¾è®¡ï¼šå¼€å‘éƒ½å¼€å‘äº†ä¸€ä¸ªç¨‹åºï¼Œåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šè¿è¡Œè‰¯å¥½ï¼›åˆ°äº†ç”Ÿäº§çŽ¯å¢ƒï¼Œå¯¹äºŽä¸¤ä¸‰ä¸ªç”¨æˆ·ï¼Œä¹Ÿè¿è¡Œè‰¯å¥½ã€‚ç­‰åˆ°æ•°æœˆã€æ•°å¹´è¿‡åŽï¼Œç”¨æˆ·é‡ä¸Šæ¥ä»¥åŽï¼Œç¨‹åºä¸èƒ½è¿è¡Œäº†ï¼Œéœ€è¦é‡æž„ã€é‡å†™ã€‚ ç®—æ³•å¤æ‚æ€§ ä¾èµ–å…¶ä»–æœåŠ¡ï¼Œæ¯”å¦‚DNSæŸ¥è¯¢ä»¥åŠå…¶å®ƒï¼Œä½ å¯ä¼šè¢«é˜»å¡žã€‚ æ ˆç©ºé—´ ç£ç›˜ æœ¬åœ°ç£ç›˜è®¿é—® éšæœºç£ç›˜I/Oï¼ˆå¼•å‘å¤§é‡ç£ç›˜å¯»é“ï¼‰ ç£ç›˜ç¢Žç‰‡ï¼ˆå¢žåŠ å¯»é“æœºä¼šå’Œæ—¶é—´ï¼‰ å½“å†™å…¥æ•°æ®é‡è¶…è¿‡SSDç©ºé—´é‡ä»¥åŽï¼ŒSSDæ€§èƒ½çš„ä¸‹é™ æ“ä½œç³»ç»Ÿ Fsync flushing, linux buffer cache filling up TCP Bufferè¿‡å° æ–‡ä»¶å¥æŸ„é™åˆ¶ åŠŸçŽ‡åˆ†é…ï¼ˆCPUèŠ‚èƒ½ï¼Ÿï¼‰ ç¼“å­˜ ä¸ä½¿ç”¨Memcached(æ•°æ®åº“å‰ç«¯) HTTPï¼šheaders,etagsï¼Œä¸åŽ‹ç¼©ï¼Œç­‰ç­‰ ä¸å……åˆ†åˆ©ç”¨æµè§ˆå™¨çš„ç¼“å­˜ å­—èŠ‚ç ç¼“å­˜ï¼ˆæ¯”å¦‚PHPçš„APCï¼‰ å¤„ç†å™¨çš„L1/L2ç¼“å­˜ï¼šè¿™æ˜¯ä¸€ä¸ªé‡è¦çš„â€œç“¶é¢ˆâ€ã€‚ä¿æŒé‡è¦çš„çƒ­æ•°æ®åœ¨L1/L2ç¼“å­˜ä¸­ã€‚è¿™ä¸ªå…³ç³»åˆ°æ–¹æ–¹é¢é¢å¤ªå¹¿ï¼Œ å¤„ç†å™¨ CPUè¶…è½½ ä¸Šä¸‹æ–‡åˆ‡æ¢-&gt;ä¸€ä¸ªæ ¸ä¸Šå¤ªå¤šçº¿ç¨‹ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºâ€œåè¿æ°”â€æˆ–è€…æ˜¯Linuxè°ƒåº¦å™¨ï¼›å¤ªå¤šç³»ç»Ÿè°ƒç”¨ï¼Œç­‰ç­‰ I/Oç­‰å¾…-&gt;æ‰€æœ‰CPUä»¥ç›¸åŒçš„é€Ÿåº¦åœ¨ç­‰å¾…ï¼ˆåŒæ—¶ç­‰å¾…ï¼‰ CPUç¼“å­˜ï¼šæœªå®Œâ€¦â€¦ ä¸»æ¿èƒ½åŠ›ï¼ˆå…¶å®ƒé™åˆ¶CPUæ€§èƒ½çš„å› ç´ ï¼‰ ç½‘ç»œ ç½‘å¡æœ€å¤§å¸¦å®½ï¼ŒIRQé¥±å’Œï¼Œè½¯ä¸­æ–­ç”¨å…‰CPUèµ„æº DNSæŸ¥è¯¢ ä¸¢åŒ… æ„å¤–è·¯ç”± ç½‘ç»œç£ç›˜è®¿é—®ï¼ˆæ¯”å¦‚NFS, drbdï¼‰ å…±äº«SANs æœåŠ¡æ•…éšœ-&gt;æœåŠ¡ä¸å“åº” è¿›ç¨‹ æµ‹è¯•æ—¶é—´ ç¨‹åºè°ƒè¯•æ—¶é—´ å›¢é˜Ÿå¤§å° é¢„ç®— ä»£ç â€œæ¬ å€ºâ€ å†…å­˜ OOM-&gt;æ€è¿›ç¨‹ï¼Œä½¿ç”¨äº¤æ¢ç”šè‡³å¯¼è‡´æ­»æœº OOMå¯¼è‡´ç£ç›˜è¶…è´Ÿè·ï¼ˆå› ä¸ºswapï¼‰ å†…å­˜ç®¡ç†åº“æžé™ å†…å­˜ç¢Žç‰‡ Javaä¸­ä¼šå¯¼è‡´GCåœé¡¿ï¼Œé€Ÿåº¦å˜æ…¢ Cä¸­ï¼Œå¯¼è‡´malloc()åˆ†é…å†…å­˜å˜æ…¢ æœ€æ–°æ€§èƒ½æµ‹è¯•ï¼šKafkaã€Pulsar å’Œ Pravega å“ªä¸ªæœ€å¼ºï¼Ÿ https://www.infoq.cn/article/fp1TLWAUROkOXxq15qGf Pravega çš„å‰æ™¯ https://www.zhihu.com/question/310212569/answer/581672480 çˆ±å¥‡è‰ºå¦‚ä½•å¤„ç†åƒäº¿çº§æ•°æ® https://www.infoq.cn/article/zI6d1pYAlyoLhQojILXq cherry pickä½¿ç”¨ https://blog.csdn.net/FightFightFight/article/details/81039050 æˆ‘æ•¢è¯´ 80% çš„ç¨‹åºå‘˜éƒ½æŽ‰è¿›äº†ã€Œè€é¼ èµ›è·‘ã€çš„é™·é˜± https://xie.infoq.cn/article/e0c5a94acbaabff00aa065c03 ä¸è¦å¤©å¤©è°ˆä»€ä¹ˆæ¡†æž¶ï¼Œä»€ä¹ˆåº“ï¼Œæ¡†æž¶æ¯å¹´å±‚å‡ºä¸ç©·ï¼Œå¯æ˜¯æ‰’ä¸‹æ¡†æž¶é‚£å±‚ç‚«é…·æ¼‚äº®çš„å¤–è¡£ï¼Œé‡Œé¢è¿˜æ˜¯é‚£äº›æœ€åŸºç¡€çš„çŸ¥è¯†å’ŒåŽŸç†ã€‚å°±æ˜¯è¿™äº›ç®—æ³•ï¼Œæ•°æ®ç»“æž„ï¼Œè®¡ç®—æœºç½‘ç»œï¼Œè®¡ç®—æœºåŽŸç†è¿™äº›çœ‹ä¼¼åŸºç¡€çš„ä¸œè¥¿ã€‚å¦‚æžœè¿™äº›æŽŒæ¡æ‰Žå®žäº†ï¼Œä½ æ‰æœ‰æ›´åŠ æ·±ä¸€æ­¥çš„å¯èƒ½ã€‚ æˆ‘ä»¬åº”è¯¥å­¦ä¼šæå‡è®¤çŸ¥æ•ˆçŽ‡ï¼Œè€ŒéžæŠ€æœ¯æ•ˆçŽ‡ã€‚ è½¯ä»¶æž¶æž„ä¸­çš„è§£è€¦ https://www.infoq.cn/article/8hlh2qEWP1Y00qumdMQj é¦™è•‰æ³•åˆ™ è®²åˆ°è‡ªä¸»å¼€å‘è½¯ä»¶ç³»ç»Ÿï¼Œè¿™é‡Œå…ˆå¼•å…¥ä¸€ä¸ªã€Šå“ˆä½›å•†ä¸šè¯„è®ºã€‹ä¸­è®²è¿°è¿‡çš„æœ‰è¶£ç†è®ºã€‚ çŽ°åœ¨æœ‰å¾ˆå¤šä¼ä¸šä¸ºäº†å¢žåŠ é›‡å‘˜ä¸Žä¼ä¸šçš„æ„Ÿæƒ…ï¼Œä¼šç»™å‘˜å·¥æä¾›å…è´¹çš„ä¸‹åˆèŒ¶å’Œæ°´æžœã€‚æ—¶é—´ä¹…äº†å°±ä¼šå‘çŽ°ä¸€ä¸ªæœ‰æ„æ€çš„çŽ°è±¡ï¼Œåœ¨æ°´æžœåŒºï¼Œé¦™è•‰æ°¸è¿œæ¯”æ©™å­æ›´å—é’çã€‚è€Œä¸”æ›´å€¼å¾—çŽ©å‘³çš„çŽ°è±¡æ˜¯ï¼Œå½“é¦™è•‰æ²¡äº†æ©™å­è¿˜å‰©å¾ˆå¤šæ—¶ï¼Œæƒ³åƒæ°´æžœçš„é›‡å‘˜ä¹Ÿæžå°‘ä¼šåŽ»é€‰æ‹©æ©™å­ã€‚ æœ‰äººä¸“é—¨ç ”ç©¶äº†è¿™ä¸€çŽ°è±¡ï¼Œä»–ä»¬åœ¨æ‹œè®¿è¿‡æ•°ç™¾å®¶å¤§åž‹ä¼ä¸šçš„èŒåœºäººå£«ä¹‹åŽå¾—å‡ºç»“è®ºï¼šåœ¨èŒåœºä¸Šï¼Œé¦™è•‰ä¹‹æ‰€ä»¥ä¼šæ¯”æ©™å­æ›´å—æ¬¢è¿Žï¼Œå…¶åŽŸå› åªæ˜¯å› ä¸ºé¦™è•‰æ¯”æ©™å­æ›´å®¹æ˜“å‰¥çš®ã€‚å…¶å®žï¼Œæœ‰ç‚¹ç”Ÿæ´»å¸¸è¯†çš„å°±ä¼šçŸ¥é“ï¼Œé¦™è•‰ä¸ä»…å®¹æ˜“å‰¥ï¼Œè€Œä¸”åƒå®ŒåŽä¹Ÿå®¹æ˜“å¤„ç†ã€‚ä½†åè§‚æ©™å­ï¼Œä¸ä»…å¤„ç†èµ·æ¥éžå¸¸éº»çƒ¦ï¼Œå®¹æ˜“å–·æº…çš„æ©™æ±è¿˜å¯èƒ½å¼„è„æ‰‹å’Œè¡£æœã€‚ ç¤¾ä¼šå¿ƒç†å­¦å®¶è®¤ä¸ºï¼Œè¿™æ˜¯äººç±»é•¿æœŸè¿›åŒ–è€Œæ¥çš„ä¸€ç§å¤©æ€§ï¼Œå¯ä»¥å¸®åŠ©äººç±»æ›´é«˜æ•ˆçš„ç”Ÿæ´»åœ¨è¿™ä¸ªç¤¾ä¼šï¼Œä»–ä»¬ç§°ä¹‹ä¸ºâ€œé¦™è•‰æ³•åˆ™â€ã€‚ é¦™è•‰æ³•åˆ™è®©æˆ‘ç«‹åˆ»è”æƒ³èµ·ï¼Œç½—ä¼¯ç‰¹å¼—é‡ŒèŒ¨ï¼ˆRobert Fritzï¼‰æ‰€è‘—çš„ã€Šæœ€å°é˜»åŠ›ä¹‹è·¯ã€‹ï¼ˆThe Path of Least Resistanceï¼‰ï¼Œä¹¦ä¸­æå‡ºäº†ä¸€ä¸ªè§‚ç‚¹ï¼Œå³ç»“æž„å†³å®šè¡Œä¸ºï¼Œæ‰€æœ‰çš„èƒ½é‡éƒ½æ²¿ç€æœ€å°é˜»åŠ›ä¹‹è·¯è¿›è¡Œã€‚ ä¸¤ç§ç†è®ºæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼ŒäºŒè€…éƒ½è¡¨è¾¾å‡ºäº†åŒä¸€ä¸ªæ„æ€ã€‚å³ï¼Œä½†å‡¡æœ‰å¤šæ¡è·¯å¯é€‰ï¼Œäººä¸€å®šä¼šé€‰æœ€å¥½èµ°çš„é‚£æ¡è·¯ã€‚å› ä¸ºè¿™æ¡è·¯å—åˆ°çš„é˜»åŠ›æœ€å°ã€‚æ‰€ä»¥ï¼Œå½“ä¸‹æœ‰å¾ˆå¤šçš„è®¾è®¡å¸ˆå’Œç¨‹åºå¼€å‘è€…éƒ½ä»Žä¸­èŽ·å¾—äº†æ›´å¤šè§è§£ä¸Žçµæ„Ÿã€‚ æˆ‘ä»¬ä¸å¦¨è¯•ç€å°†é¦™è•‰æ³•åˆ™ä¸Žæœ€å°é˜»åŠ›ç†è®ºå¼•å…¥è½¯ä»¶çš„å¼€å‘ä¸Žè®¾è®¡ä¸­ã€‚å¤§åž‹ä¼ä¸šæ——ä¸‹çš„å¼€å‘å›¢ä½“é€šå¸¸éƒ½æ˜¯éžå¸¸å¿™ç¢Œçš„ï¼Œä»–ä»¬æ¯ä¸€ä¸ªé¡¹ç›®çš„æ—¶é—´é¢„ç®—éƒ½éžå¸¸ç´§å¼ ï¼Œå¦‚æžœé‡åˆ°å¤æ‚çš„è½¯ä»¶å¼€å‘é¡¹ç›®ï¼Œé‚£å•é å¼€å‘è€…åŠ ç­åŠ ç‚¹å°†å¾ˆéš¾æŒ‰æ—¶å®Œæˆä»»åŠ¡ã€‚æ‰€ä»¥ï¼Œæƒ³è¦è§£å†³è¿™ä¸€éš¾é¢˜ï¼Œå°±å¾—å‡å°‘å¼€å‘è¿‡ç¨‹ä¸­ä¼šæ‹–å»¶å¼€å‘è¿›åº¦çš„å„ç§å¤æ‚ã€é‡å¤çš„å·¥ä½œã€‚ å…³äºŽã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜é›ªå´©ã€çƒ­ç‚¹æ•°æ®å¤±æ•ˆã€‘é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ https://juejin.im/post/6844903807797690376 Release Train Release Trainç›´è¯‘è¿‡æ¥æ„æ€ä¸ºï¼šå‘ç‰ˆç«è½¦/ç«è½¦å‘ç‰ˆã€‚ç«è½¦å¤§å®¶ä¸é™Œç”Ÿï¼Œå®ƒæœ‰ä¸€ä¸ªæ˜¾è‘—çš„ç‰¹ç‚¹ï¼šå®šæ—¶å®šç‚¹å‘è½¦ã€‚è¿™é‡Œçš„å‘è½¦åœ¨è½¯ä»¶é¢†åŸŸå°±ç­‰åŒäºŽè½¯ä»¶çš„å‘ç‰ˆã€‚ ä¸ºä½•éœ€è¦Release Trainå‘ç‰ˆæ¨¡å¼ï¼Ÿ åœ¨å…¬å¸è¿˜å¾ˆå°å¾ˆå°çš„æ—¶å€™ï¼Œæ•´ä¸ªå…¬å¸å¯èƒ½åªæœ‰ä¸€ä¸ªè½¯ä»¶ï¼Œç‰ˆæœ¬å‘å¸ƒéžå¸¸çš„ç®€å•ï¼Œæ²¡ä»€ä¹ˆéœ€è¦åè°ƒçš„ï¼Œå‘å°±å®Œäº†ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦å…¬å¸å¿«é€Ÿå‘å±•å˜å¾—æ¯”è¾ƒå¤§åŽï¼Œæ ¸å¿ƒäº§å“åŠŸèƒ½æ•°ä»¥åã€ç™¾è®¡ï¼Œå„åŠŸèƒ½æ¨¡å—ç”±ä¸åŒçš„å›¢é˜Ÿè´Ÿè´£ï¼Œæ²Ÿé€šæˆæœ¬æ˜Žæ˜¾å‡é«˜ï¼Œå•å•åœ¨ç‰ˆæœ¬ä¸Šç¨ä¸æ³¨æ„å°±ä¼šäº§ç”Ÿå„ç§é—®é¢˜ï¼Œå¾ˆå®¹æ˜“ç»™äººä¸€ç§â€œä¹±å¦‚éº»â€çš„æ„Ÿè§‰ã€‚ ä½¿ç”¨Release Trainçš„å‘ç‰ˆæ¨¡å¼å°±èƒ½å¾ˆå¤§ç¨‹åº¦ä¸Šé¿å…è¿™äº›é—®é¢˜ï¼Œå¯ä»¥è¿™æ ·åšï¼šè§„å®šæ¯ä¸ªæœˆçš„æœ€åŽä¸€å¤©ï¼ˆç²¾ç¡®çš„å‘ç‰ˆæ—¥æœŸï¼‰éœ€è¦å‘ä¸€ç‰ˆï¼ˆç±»æ¯”äºŽç«è½¦å‘è½¦ï¼‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä»¥è¿™ä¸ªæ—¶é—´ç‚¹ä¸ºdeadlineï¼Œå‚ä¸Žçš„çš„å„æ–¹åŒ…æ‹¬äº§å“ç»ç†ã€RDã€QAç­‰ç­‰éƒ½æå‰æ²Ÿé€šå¥½éœ€æ±‚å†…å®¹ï¼Œå¹¶åšå¥½è®¡åˆ’ï¼Œå……åˆ†åšå¥½ç»Ÿä¸€å‘è½¦çš„å‡†å¤‡ã€‚åœ¨è¿™æœŸé—´ï¼Œå¦‚æžœä¸­é—´æŸä¸€å›¢é˜Ÿå‡ºçŽ°é—®é¢˜è·Ÿä¸ä¸ŠèŠ‚å¥äº†ï¼Œé‚£ä¹ˆè¯·åŠæ—¶ä¸‹è½¦ï¼ˆå‰ææ˜¯æŽ§åˆ¶å¥½ä¸‹è½¦çš„å½±å“é¢ï¼‰ï¼Œä¸è¦å½±å“æ•´ä½“å‘è½¦æ—¶é—´ç‚¹ã€‚ æ€»çš„æ¥è®²ï¼šç«è½¦æ˜¯æŒ‰ç‚¹å‡†æ—¶å‡ºå‘çš„ï¼Œå„æ–¹åº”æŒ‰ç‚¹ä¸Šè½¦ï¼Œå€˜è‹¥æœ¬æ¬¡èµ¶ä¸ä¸Šè½¦çš„é‚£ä¹ˆå°±è¯·ç­‰ä¸‹ä¸€è¶Ÿè½¦ã€‚é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥ç¡®ä¿è½¯ä»¶äº§å“çš„æŒç»­è¿­ä»£ï¼Œä¿è¯äº§å“çš„ç¨³å®šæ€§ï¼Œè¿™å°±æ˜¯Release Trainå‘ç‰ˆæ¨¡å¼ã€‚ AWS è¿ç»´ä»ªè¡¨ç›˜æœ€ä½³å®žè·µ https://aws.amazon.com/builders-library/building-dashboards-for-operational-visibility/ å¦‚ä½•è¿›è¡Œç½‘ç»œæ¡†æž¶çš„å­¦ä¹ å’Œè®¾è®¡ https://www.infoq.cn/article/27hRZ4qgcNXHuk7NauMe ä¸ºä»€ä¹ˆæ¯å®¶ä¼ä¸šéƒ½åœ¨æž„å»ºå†…éƒ¨Kuberneteså¹³å°ï¼Ÿ https://www.infoq.cn/article/uOMfYqHxRArwJcMIGctL åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºæœ‰æ—¶ä¼šå˜å¾—å¤ªå¤§è€Œæ— æ³•åœ¨æœ¬åœ°è¿è¡Œã€‚é‚£æ—¶ï¼Œä»Žæœ¬åœ°å¼€å‘çŽ¯å¢ƒè½¬ç§»åˆ°åŸºäºŽäº‘çš„ Kubernetes å¼€å‘çŽ¯å¢ƒé€šå¸¸æ˜¯æœ‰æ„ä¹‰çš„ã€‚ æ–°æŠ€æœ¯å­¦ä¹ ä¸å®Œå…¨æŒ‡åŒ— https://juejin.cn/post/6898953413250252814 ä¸¥è‚ƒå­¦ä¹ æ˜¯æŒ‡é€šè¿‡æƒå¨çš„ã€ä¸€æ‰‹çš„ã€ç»å…¸çš„ã€ç³»ç»ŸåŒ–çš„å­¦ä¹ ææ–™è¿›è¡Œå­¦ä¹ çš„è¿‡ç¨‹ã€‚ é«˜å¼ºåº¦é—´æ­‡æ€§è®­ç»ƒæ–¹æ³•ï¼ŒåŽŸæœ¬æ˜¯ç”¨ä»¥å¥èº«ï¼ŒçŽ°åœ¨æˆ‘ä»¬å€Ÿç”¨æ¥æè¿°çŸ¥è¯†å­¦ä¹ çš„ä¸€ç§æ—¶é—´è§„åˆ’ç­–ç•¥ã€‚ æ‰¾åˆ°ä¸¥è‚ƒææ–™ä¹‹åŽï¼Œåªè¾¾æˆäº†ç¬¬ä¸€ä¸ªå±‚é¢çš„ä¸¥è‚ƒæ€§ã€‚ç¬¬äºŒå±‚é¢çš„ä¸¥è‚ƒæ€§ï¼Œéœ€è¦æˆ‘ä»¬è‡ªæˆ‘å»ºè®¾ã€‚ä¸–ç•Œä¸Šçš„ä¸¥è‚ƒææ–™è¿™ä¹ˆå¤šï¼Œå¦‚ä½•å‘æˆ‘ä»¬çš„å¤§è„‘è¯æ˜Žçœ¼å‰è¿™ä¸€å †ç¡®å®žæ˜¯ä¸¥è‚ƒçš„ã€é‡è¦çš„ææ–™å‘¢ï¼Ÿ ä¸€ä¸ªæœ‰æ•ˆé€”å¾„æ˜¯ï¼Œè®©è¿™äº›ææ–™åå¤å‡ºçŽ°ï¼Œå³é«˜é¢‘æ¬¡ã€é«˜å¯†åº¦ã€é«˜å¼ºåº¦åœ°å‡ºçŽ°ã€‚ æ‰¾åˆ°ä¸¥è‚ƒçš„å­¦ä¹ ææ–™ï¼Œæ‰Žå®žä¸”è®¤çœŸåœ°å­¦ä¹ äº†è¿™äº›ææ–™ä¹‹åŽï¼Œä¸‹ä¸€ä¸ªé˜¶æ®µæ˜¯â€”â€”è¶…çº²è®­ç»ƒã€‚ çœ‹è¿‡ä¸€éä¹¦ï¼Œä¸ä»£è¡¨å……åˆ†ç†è§£äº†ä¹¦é‡Œçš„çŸ¥è¯†ã€‚æˆ‘ä»¬è¦åŽ»è¯æ˜Žè‡ªå·±ç¡®å®žåœ¨ä¸€å®šç¨‹åº¦ä¸Šé¢†ä¼šäº†çŸ¥è¯†ã€‚ å¦‚ä½•è¯æ˜Žï¼Ÿ åšé‚£äº›æ²¡æœ‰å‚è€ƒç­”æ¡ˆçš„è®­ç»ƒï¼Œå³è¶…çº²è®­ç»ƒã€‚ ç½‘æ˜“äº‘éŸ³ä¹æŽ¨èä¸­çš„ç”¨æˆ·è¡Œä¸ºåºåˆ—æ·±åº¦å»ºæ¨¡ https://www.infoq.cn/article/caqErFHGX7S1LLX1Y2wg ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ https://zhuanlan.zhihu.com/p/136843131]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++å‡½æ•°ä¿®é¥°ç¬¦]]></title>
    <url>%2F2020%2F12%2F12%2FC%2B%2B%2FC-%E5%87%BD%E6%95%B0%E4%BF%AE%E9%A5%B0%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[C++ å‡½æ•°ä¿®é¥°ç¬¦å­¦ä¹  https://tlanyan.me/cpp-function-modifier-summary/ å‡½æ•°åå‰ è¿”å›žå€¼ç±»åž‹ è¿”å›žå€¼ç±»åž‹æ˜¯C++ä¸­å®šä¹‰å‡½æ•°çš„å¿…å¤‡éƒ¨åˆ†ï¼Œè¿™äº›ä¿®é¥°ç¬¦åŒ…æ‹¬voidï¼Œ(unsigned) intï¼Œboolç­‰å†…ç½®åŸºæœ¬æ•°æ®ç±»åž‹å’Œè‡ªå®šä¹‰ç±»åž‹ï¼Œä¹ŸåŒ…æ‹¬ä¿®é¥°è¿”å›žå€¼constå…³é”®å­—ï¼ˆå¦‚const int*ï¼‰ï¼Œè¿˜åŒ…æ‹¬C++11ä¸­æ–°å¢žçš„ç±»åž‹è‡ªåŠ¨æŽ¨å¯¼autoå…³é”®å­—ã€‚ template templateå…³é”®å­—å£°æ˜Žå‡½æ•°æ˜¯æ¨¡æ¿å‡½æ•°ã€‚ virtual virtualå…³é”®å­—å£°æ˜Žå‡½æ•°æ˜¯è™šå‡½æ•°ï¼Œå¯è¢«å­ç±»è¦†ç›–ã€‚ inline inlineå…³é”®å­—æç¤ºç¼–è¯‘å™¨åº”å°†å‡½æ•°å†…è”ã€‚ srtatic staticä¿®é¥°ç±»çš„æˆå‘˜å‡½æ•°æ—¶æŒ‡ç¤ºå‡½æ•°æ˜¯é™æ€æˆå‘˜å‡½æ•°ï¼Œä¸ä»Žå±žäºŽå…·ä½“å¯¹è±¡ï¼›ä¿®é¥°å•ç‹¬çš„å‡½æ•°æ—¶ï¼Œé™å®šå‡½æ•°çš„å¯è§èŒƒå›´ä¸ºæœ¬æ–‡ä»¶å†…ã€‚ extern externå…³é”®å­—å£°æ˜Žä¸€ä¸ªå®šä¹‰åœ¨å¤–éƒ¨çš„å‡½æ•° explicit explicitå…³é”®å­—åœ¨C++11æ–°å¢žï¼Œåªç”¨äºŽæž„é€ å‡½æ•°ï¼ŒæŒ‡å®šæž„é€ å‡½æ•°è¦æ˜¾å¼å®šä¹‰ï¼Œä¸èƒ½éšå¼è½¬æ¢ã€‚ friend friendå…³é”®å­—å£°æ˜Žç±»çš„å‹å…ƒå‡½æ•°ï¼Œåœ¨å‡½æ•°å†…å¯ç›´æŽ¥è®¿é—®å¯¹è±¡çš„ç§æœ‰æˆ–å—ä¿æŠ¤æˆå‘˜åŠæˆå‘˜å‡½æ•°ã€‚ constexpr C++11ä¸­æ–°å¢žï¼ŒæŒ‡ç¤ºå‡½æ•°è¿”å›žå¸¸é‡è¡¨è¾¾å¼ï¼ˆå¯ä»¥ç®€å•ç†è§£ä¸ºè¿”å›žå­—é¢é‡ï¼‰ã€‚ å‡½æ•°ååŽ noexcept https://www.cnblogs.com/sword03/p/10020344.html https://www.zhihu.com/question/30950837 noexceptå…³é”®å­—å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå‡½æ•°ä¸­ä¸ä¼šå‘ç”Ÿå¼‚å¸¸,è¿™æœ‰åˆ©äºŽç¼–è¯‘å™¨å¯¹ç¨‹åºåšæ›´å¤šçš„ä¼˜åŒ–ã€‚ å¦‚æžœåœ¨è¿è¡Œæ—¶ï¼Œnoexecptå‡½æ•°å‘å¤–æŠ›å‡ºäº†å¼‚å¸¸ï¼ˆå¦‚æžœå‡½æ•°å†…éƒ¨æ•æ‰äº†å¼‚å¸¸å¹¶å®Œæˆå¤„ç†ï¼Œè¿™ç§æƒ…å†µä¸ç®—æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œç¨‹åºä¼šç›´æŽ¥ç»ˆæ­¢ï¼Œè°ƒç”¨std::terminate()å‡½æ•°ï¼Œè¯¥å‡½æ•°å†…éƒ¨ä¼šè°ƒç”¨std::abort()ç»ˆæ­¢ç¨‹åºã€‚ const è¡¨ç¤ºå‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡ï¼ˆæˆ–è€…è¯´è°ƒç”¨æœŸé—´å¯¹è±¡ä¸å˜ï¼‰ï¼Œæ³¨æ„ä¸åŒ…æ‹¬mutableä¿®é¥°çš„æˆå‘˜å˜é‡ volatile ç±»ä¼¼äºŽconstä¿®é¥°çš„å‡½æ•°ï¼Œè¡¨ç¤ºå¯¹è±¡çŠ¶æ€å¯èƒ½éšæ—¶ä¼šæ”¹å˜ï¼›constä¿®é¥°çš„å‡½æ•°å†…åªèƒ½è°ƒç”¨è‡ªèº«çš„constæˆå‘˜æ–¹æ³•ï¼ŒåŒç†volatileå‡½æ•°å†…ä¹Ÿåªèƒ½è°ƒç”¨è‡ªèº«volatileæˆå‘˜å‡½æ•°ã€‚ &amp; C++11å¼•å…¥çš„åŠŸèƒ½ï¼Œå·¦å€¼å¼•ç”¨é™å®šç¬¦ï¼ŒæŒ‡ç¤ºå‡½æ•°åªèƒ½è¢«å·¦å€¼å¯¹è±¡è°ƒç”¨ã€‚ &amp;&amp; C++11å¼•å…¥ï¼Œå³å€¼å¼•ç”¨é™å®šç¬¦ï¼ŒæŒ‡ç¤ºå‡½æ•°åªèƒ½è¢«å³å€¼è°ƒç”¨ã€‚å¦‚æžœå‡½æ•°æ²¡æœ‰å¼•ç”¨é™å®šç¬¦ä¿®é¥°ï¼Œå·¦å€¼å’Œå³å€¼å‡å¯è°ƒç”¨ã€‚ä¸€ä¸ªå¼•ç”¨é™å®šä¾‹å­ï¼š C++æ”¶èµ· 123456789101112#include &lt;iostream&gt; struct S &#123; void f() &amp; &#123; std::cout &lt;&lt; &quot;lvalue\n&quot;; &#125; void f() &amp;&amp;&#123; std::cout &lt;&lt; &quot;rvalue\n&quot;; &#125; &#125;; int main()&#123; S s; s.f(); // æ‰“å°â€œ lvalue â€ std::move(s).f(); // æ‰“å°â€œ rvalue â€ S().f(); // æ‰“å°â€œ rvalue â€ &#125; override C++11å¼•å…¥çš„åŠŸèƒ½ï¼Œå£°æ˜Žæˆå‘˜å‡½æ•°è¦†ç›–çˆ¶ç±»çš„è™šå‡½æ•°ã€‚å£°æ˜Žä¸ºoverrideåŽï¼Œå­ç±»å£°æ˜Žæ—¶å¯ä¸å†™virtualã€‚ final C++11å¼•å…¥ï¼ŒæŒ‡ç¤ºå‡½æ•°æ˜¯æœ€ç»ˆå®žçŽ°ï¼Œå­ç±»ä¸åº”å½“å†å®šä¹‰æˆ–è¦†ç›–ï¼Œå¯ä¸ŽoverrideåŒæ—¶ä½¿ç”¨ã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-10-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2020%2F12%2F12%2FTechnicalDigest%2F2020-10-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[æºç åˆ†æžæ€Žä¹ˆåš https://xie.infoq.cn/article/edfa7ea32baaff2dbf21ff766 æºç åˆ†æžåº”ä»Žè½¯ä»¶æ•´ä½“å…¥æ‰‹è€Œä¸æ˜¯ä»£ç  æºç åˆ†æžçš„ç›®çš„ ä»£ç è¦è§£å†³ä»€ä¹ˆé—®é¢˜ã€ ä»£ç å¦‚ä½•è§£å†³é—®é¢˜çš„ ä»£ç ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè§£å†³é—®é¢˜ æºç åˆ†æžé‡è¦çš„æ˜¯åˆ†æžï¼Œæ˜¯ä»¥è½¯ä»¶ä¸ºåˆ‡å…¥ç‚¹ï¼Œä»ŽåŠ¡å®žçš„è§’åº¦ï¼Œè®²è§£ä»£ç è¦è§£å†³ä»€ä¹ˆé—®é¢˜ã€ä»£ç å¦‚ä½•è§£å†³é—®é¢˜çš„ä»¥åŠä»£ç ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè§£å†³é—®é¢˜ï¼Œç»å¯¹ä¸æ˜¯å¤§ç¯‡å¹…çš„å¤åˆ¶ç²˜è´´çœŸæ­£çš„æºä»£ç ã€‚ æˆ‘ä»¬åœ¨ç¼–ç¨‹çš„æ—¶å€™å¼ºè°ƒä¸è¦æµ‹è¯•ä¸‰æ–¹åº“çš„è¡Œä¸ºï¼Œåº”è¯¥æµ‹è¯•ä¸šåŠ¡é€»è¾‘çš„è¡Œä¸ºã€‚è¿™æ˜¯å› ä¸ºè½¯ä»¶ä¹‹é—´åº”è¯¥æœ‰æ¸…æ™°çš„é™ç•Œä¸Šä¸‹æ–‡ã€‚æºç åˆ†æžä¹Ÿä¸€æ ·ï¼Œ è¿™å…¶ä¸­æœ€æœ‰æ„ä¹‰çš„æ˜¯æ¨¡å—çš„é€»è¾‘åˆ’åˆ†å’Œäº¤äº’å›¾ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯æˆ‘ä»¬ä»Žä¸€ä¸ªé«˜çš„æŠ½è±¡å±‚æ¬¡æ¥ç†è§£ä¸€ä¸ªæ¨¡å—çš„åŠ©åŠ›ã€‚ å…¶æ¬¡æ¯”è¾ƒæœ‰æ„ä¹‰çš„æ˜¯æ—¶åºå›¾ã€‚å¯¹äºŽå…³é”®çš„äº¤äº’æµç¨‹æ¥è¯´ï¼Œæ—¶åºå›¾æ˜¯ä¸€ç§ç»†åŒ–çš„äº¤äº’æµç¨‹è¡¨è¾¾æ–¹å¼ï¼Œå¾€å¾€èƒ½å¤ŸæŒ‡å¯¼ä»£ç çš„å®žçŽ°ä»¥åŠæŽ’æŸ¥äº¤äº’çš„é—®é¢˜ã€‚ UML å›¾çœŸçš„æ˜¯æ²¡ä»€ä¹ˆå¤§ç”¨ã€‚ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡ã€‹é‡Œé¢å°±æè¿‡ï¼Œå¾ˆå¤š UML å›¾åœ¨æŸäº›åœ°æ–¹è¿‡äºŽç»†è‡´ï¼ŒåŒæ—¶åœ¨æŸäº›åœ°æ–¹åˆæœ‰å¾ˆå¤šé—æ¼ã€‚ç»†è‡´çš„ç‚¹åœ¨äºŽäººä»¬è®¤ä¸ºå¿…é¡»å°†æ‰€æœ‰è¦ç¼–ç çš„å¯¹è±¡éƒ½æ”¾åˆ°å»ºæ¨¡å·¥å…·ä¸­ï¼Œè€Œç»†èŠ‚è¿‡å¤šçš„ç»“æžœæ˜¯ä¸åˆ†è½»é‡ã€‚ ä¸€ä¸ªä¸­å¿ƒä¸¤ä¸ªåŸºæœ¬ç‚¹ ä¸€ä¸ªä¸­å¿ƒæ˜¯æºç åˆ†æžè¦ä»Žè½¯ä»¶å…¥æ‰‹è€Œä¸æ˜¯æºä»£ç æœ¬èº«å…¥æ‰‹ï¼Œä»ŽåŠ¡å®žçš„è§’åº¦åˆ†æžä»£ç è¦è§£å†³ä»€ä¹ˆé—®é¢˜ã€ä»£ç å¦‚ä½•è§£å†³é—®é¢˜çš„ä»¥åŠä»£ç ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè§£å†³é—®é¢˜ã€‚ ä¸¤ä¸ªåŸºæœ¬ç‚¹åŒ…æ‹¬åˆ†æžçš„è¿‡ç¨‹è¦é€å±‚æ·±å…¥ï¼Œä»Žé«˜å±‚æ¬¡çš„æŠ½è±¡å®Œæ•´åœ°è®²è§£ï¼Œä½Žå±‚æ¬¡çš„ç»†èŠ‚åªéœ€è¦è®²è§£è¦ç‚¹ï¼›ä»¥åŠæŠ“å¤§æ”¾å°ï¼Œå¯¹æ—è·¯çš„ã€ä¸é‡è¦çš„å†…å®¹ä¸€ç¬”å¸¦è¿‡æˆ–å®Œå…¨ä¸æã€‚ æœ€åŽåœ¨æŠ€å·§ä¸Šï¼Œä¸è¦é€‰æ‹© UML å›¾æˆ–è€…å¤æ‚çš„æ—¶åºå›¾ä½œä¸ºè¾…åŠ©è¯´æ˜Žçš„æ‰‹æ®µï¼Œå®ƒä»¬åªä¼šæŠŠäº‹æƒ…å˜å¾—æ›´å¤æ‚ï¼›åº”è¯¥é€‰æ‹©æ¨¡å—åˆ’åˆ†å›¾ã€æ¨¡å—äº¤äº’å›¾å’ŒåŠŸèƒ½æµç¨‹å›¾ä½œä¸ºè¾…åŠ©è¯´æ˜Žçš„æ‰‹æ®µã€‚ä¸å¾—ä¸æçš„æ˜¯ï¼Œä¸è¦å¤§æ®µå¤§æ®µåœ°è´´æºä»£ç ï¼ Code Reviewæ€Žä¹ˆåš ç¬¬ä¸€å±‚ï¼ˆæ£€æŸ¥æ˜¯å¦æ˜¯æ‰“ç£¨è¿‡çš„ä»£ç ï¼‰ ä»£ç æ˜¯å¦è¶³å¤Ÿç®€å•ï¼Œæ˜¯å¦å®¹æ˜“é˜…è¯»ï¼Œæ˜¯å¦å®¹æ˜“ç†è§£ ä»£ç æœ‰æ²¡æœ‰é™Œç”Ÿçš„æˆ–è€…ä¸ç¬¦åˆå¸¸äººæ€ç»´çš„æ¦‚å¿µ ä»£ç çš„æŽ’ç‰ˆæ˜¯å¦ç¬¦åˆç¼–ç¨‹è§„èŒƒï¼Œé£Žæ ¼æ˜¯å¦å’ŒçŽ°æœ‰ä»£ç ä¸€è‡´ ä»£ç æ˜¯å¦å®¹æ˜“æµ‹è¯•ï¼Œæ˜¯å¦æœ‰ç›¸åº”çš„æµ‹è¯•ä»£ç  ä»£ç æ˜¯å¦æœ‰æ˜Žæ˜¾çš„é‡å¤ï¼Œæ˜¯å¦æ‹·è´äº†å…¶ä»–æ¨¡å—çš„ä»£ç  ç¬¬äºŒå±‚ï¼ˆå®è§‚ä¸Šï¼‰ æ–°å¢žçš„ä»£ç å’Œå·²æœ‰çš„æž¶æž„è®¾è®¡æ˜¯å¦ä¸€è‡´ã€‚ ä¸Šä¸‹æ–‡çš„åˆ‡åˆ†æ˜¯å¦åˆç†ã€‚ ä¾èµ–æ˜¯å¦æ­£äº¤ã€‚ï¼ˆç¼–ç¨‹ä¸­æ­£äº¤è¿™ä¸ªè¯æŒ‡ç›¸äº’ç‹¬ç«‹ï¼Œä¸å¯æ›¿ä»£ï¼Œå¹¶ä¸”ç»„åˆèµ·æ¥å¯å®žçŽ°å…¶å®ƒåŠŸèƒ½ã€‚ï¼‰ ç¬¬ä¸‰å±‚ï¼ˆå¾®è§‚ä¸Šï¼‰ è¯­è¨€æœ€ä½³å®žè·µã€‚ ç®—æ³•çš„æ—¶é—´æˆ–è€…ç©ºé—´å¤æ‚åº¦ã€‚ è®¾è®¡æ¨¡å¼çš„ä½¿ç”¨ã€‚ å®‰å…¨é—®é¢˜ã€‚ éžåŠŸèƒ½æ€§çº¦æŸä¹‹æ€§èƒ½-æ€§èƒ½é“¶å¼¹ï¼šç¼“å­˜ ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨ç¼“å­˜æ¥å­˜å‚¨ä¸€äº›å†…å®¹ï¼Œè¿™äº›å†…å®¹æœ‰å¦‚ä¸‹ä¸€äº›ç‰¹ç‚¹ï¼ˆç¬¦åˆä¸€æ¡æˆ–å¤šæ¡ï¼‰ï¼š ä½¿ç”¨è¾ƒé¢‘ç¹ å˜æ›´ä¸é¢‘ç¹ èŽ·å–è¾ƒè€—æ—¶ å¤šç³»ç»Ÿè®¿é—® ä¸»åŠ¨ç¼“å­˜ ç”¨æˆ·ä¸»åŠ¨é€‰æ‹©å’Œä¿®æ”¹ç¼“å­˜æ•°æ®çš„ç¼“å­˜ è¢«åŠ¨ç¼“å­˜ æ ¹æ®è¯·æ±‚è‡ªåŠ¨æ·»åŠ ç¼“å­˜æ•°æ®çš„ç¼“å­˜ ç¼“å­˜ç½®æ¢ç®—æ³•ï¼ˆfor è¢«åŠ¨ï¼‰ RRï¼ˆRandom replacementï¼‰ FIFOï¼ˆFirst in first outï¼‰ LIFOï¼ˆLast in first outï¼‰ MRUï¼ˆMost recently usedï¼‰ LFUï¼ˆLeast-frequently usedï¼‰ LRUï¼ˆLeast recently usedï¼‰ TLRUï¼ˆTime aware least recently usedï¼‰ PLRUï¼ˆPseudo-LRUï¼‰ LRU-K SLRUï¼ˆSegmented LRUï¼‰ MQï¼ˆMulti queueï¼‰ LFRUï¼ˆLeast frequent recently usedï¼‰ LFUDAï¼ˆLFU with dynamic agingï¼‰ LIRSï¼ˆLow inter-reference recency setï¼‰ ARCï¼ˆAdaptive replacement cacheï¼‰ CARï¼ˆClock with adaptive replacementï¼‰ Pannierï¼ˆContainer-based caching algorithm for compound objectsï¼‰ åšå¥½åˆ†åº“åˆ†è¡¨å…¶å®žå¾ˆéš¾ https://xie.infoq.cn/article/ee41e234529bb31ab1de4c69b https://xie.infoq.cn/article/378822829ef1a4563683b5e0e æ˜¯å¦éœ€è¦åˆ† å•å°æ•°æ®åº“çš„èƒ½åŠ›å¹¶éžæƒ³è±¡ä¸­é‚£ä¹ˆè„†å¼±ã€‚å°±ç®—æ˜¯mysqlå•è¡¨æ•°æ®é‡å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ä¹Ÿåœ¨ç™¾ä¸‡çº§åˆ«ï¼ˆå½“ç„¶è¿™å’Œå­˜å‚¨çš„å…·ä½“æ•°æ®æ ¼å¼æœ‰å…³ï¼‰ï¼Œsqlserveræ›´æ˜¯ä¸åœ¨è¯ä¸‹ï¼Œæˆ‘å¸ç”¨çš„sqlserverï¼Œå•è¡¨åƒä¸‡çº§åˆ«æ•°æ®çš„å¤§æœ‰æ‰€åœ¨ï¼Œäº¿çº§çš„ä¹Ÿæœ‰å‡ ä¸ªï¼ŒOracleæ›´æ˜¯ä¸ç”¨å¤šè¯´ã€‚ åˆ†åº“ æ ¹æ®ä¸šåŠ¡åˆ† æŽ¨èå¤§å®¶æ ¹æ®ä¸šåŠ¡æ¥è¿›è¡Œåˆ’åˆ† åŠ¡æŒ‰ç…§è§„åˆ™åˆ’åˆ†å¥½è¾¹ç•Œï¼Œæ¯ä¸ªä¸šåŠ¡å¯¹åº”çš„æ•°æ®åº“è‡ªç„¶è€Œç„¶å°±è¯žç”Ÿäº†ï¼Œä¸è¦ç«™åœ¨æ•°æ®åº“çš„å±‚é¢ä¸ŠåŽ»ç»™ä¸šåŠ¡åˆ†åº“ã€‚ ç»Ÿä¸€ä¸šåŠ¡æ¨ªå‘åˆ† ä½†æ˜¯å¦‚æžœåˆ†é…åˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šï¼Œæ„å‘³ç€è¿™ä¸ªä¸šåŠ¡æ•´ä½“çš„æœ€å¤§IOå¾—åˆ°äº†æå‡ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè¦æ¯”æ‹†è¡¨æ•ˆæžœè¦å¥½ï¼Œå½“ç„¶å¦‚æžœç”¨åˆ°äº†è¡¨åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºæ•£è½åœ¨ä¸åŒçš„ç‰©ç†ç£ç›˜ä¸Šï¼Œä¹Ÿä¸ä¸€å®šæ¯”åˆ†åº“æ–¹å¼å·®ã€‚ åˆ†è¡¨ ä»£ä»· æ•°æ®è¡¨åž‚ç›´åˆ‡åˆ†ä¹‹åŽï¼ŒåŽŸæ¥ä¸€æ¬¡æŸ¥è¯¢æœ‰å¯èƒ½ä¼šå˜ä¸ºè¿žè¡¨çš„joinæŸ¥è¯¢ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šæœ‰æ€§èƒ½æŸå¤±ã€‚ æ•°æ®è¡¨æ¨ªå‘åˆ‡åˆ†éœ€è¦ä¸€å®šçš„è§„åˆ™ï¼Œå¸¸ç”¨çš„ä¸»è¦æœ‰ä¸¤ç§è§„åˆ™ï¼šèŒƒå›´åˆ‡åˆ†å’Œå“ˆå¸Œå€¼åˆ‡åˆ†ã€‚èŒƒå›´åˆ‡åˆ†æ˜¯æŒ‡æŒ‰ç…§æŸä¸ªå­—æ®µçš„èŒƒå›´æ¥åˆ‡åˆ†ï¼Œæ¯”å¦‚ç”¨æˆ·è¡¨æŒ‰ç…§ç”¨æˆ·IDæ¥åˆ‡åˆ†ï¼Œidä¸º1åˆ°10ä¸‡çš„ä½äºŽUserè¡¨1ä¸­ï¼Œ100001åˆ°200000ä¸‡çš„ä½äºŽUser2ä¸­ï¼Œè¿™æ ·åˆ‡åˆ†çš„ä¼˜åŠ¿æ˜¯ï¼Œå¯ä»¥æ— é™çš„æ‰©å®¹ä¸‹åŽ»ï¼Œä¸ç”¨è€ƒè™‘æ•°æ®è¿ç§»çš„é—®é¢˜ï¼ŒåŠ£åŠ¿å°±æ˜¯æ–°è¡¨å’Œæ—§è¡¨æ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼Œè€Œä¸”åˆ†è¡¨çš„èŒƒå›´é€‰å–æœ‰ä¸€å®šéš¾åº¦ï¼ŒèŒƒå›´å¤ªå°ä¼šå¯¼è‡´è¡¨å¤ªå¤šï¼Œå¤ªå¤§ä¼šå¯¼è‡´é—®é¢˜æ ¹æœ¬ä¸Šæ²¡æœ‰è§£å†³çš„å›°æƒ‘ã€‚å¦å¤–ä¸€ç§åˆ†è¡¨ç­–ç•¥å°±æ˜¯æŠŠæŸä¸€åˆ—æŒ‰ç…§å“ˆå¸Œå€¼æ¥è·¯ç”±åˆ°ä¸åŒçš„è¡¨ä¸­ï¼ŒåŒæ ·ä»¥ç”¨æˆ·IDä¸ºä¾‹ï¼Œå‡å¦‚æˆ‘ä»¬ä¸€å¼€å§‹å°±è§„åˆ’äº†10ä¸ªæ•°æ®åº“è¡¨ï¼Œè·¯ç”±ç®—æ³•å¯ä»¥ç®€å•åœ°ç”¨ user_id %10çš„å€¼æ¥è¡¨ç¤ºæ•°æ®æ‰€å±žçš„æ•°æ®åº“è¡¨ç¼–å·ï¼ŒIDä¸º985çš„ç”¨æˆ·æ”¾åˆ°ç¼–å·ä¸º 5çš„å­è¡¨ä¸­ï¼ŒIDä¸º10086çš„ç”¨æˆ·æ”¾åˆ°ç¼–å·ä¸º 6 çš„å­—è¡¨ä¸­ã€‚è¿™ç§åˆ‡åˆ†è§„åˆ™çš„ä¼˜åŠ¿æ˜¯æ¯ä¸ªè¡¨çš„æ•°æ®åˆ†å¸ƒæ¯”è¾ƒå‡åŒ€ï¼Œä½†æ˜¯åŽæœŸæ‰©å®¹ä¼šè®¾è®¡åˆ°éƒ¨åˆ†æ•°æ®çš„è¿ç§»å·¥ä½œã€‚ è¡¨æ‹†åˆ†ä¹‹åŽå¦‚æžœé‡åˆ°æœ‰order by çš„æ“ä½œï¼Œæ•°æ®åº“å°±æ— èƒ½ä¸ºåŠ›äº†ï¼Œåªèƒ½ç”±ä¸šåŠ¡ä»£ç æˆ–è€…æ•°æ®åº“ä¸­é—´ä»¶æ¥å®Œæˆäº†ã€‚ å½“æœ‰æœç´¢çš„ä¸šåŠ¡éœ€æ±‚çš„æ—¶å€™ï¼Œsqlè¯­å¥åªèƒ½æ˜¯Joinå¤šä¸ªè¡¨æ¥è¿›è¡Œè¿žè¡¨æŸ¥è¯¢äº†ï¼Œç±»ä¼¼çš„è¿˜æœ‰ç»Ÿè®¡çš„éœ€æ±‚ï¼Œä¾‹å¦‚countçš„ç»Ÿè®¡æ“ä½œã€‚ Fluid Fluidæ˜¯ä¸€ä¸ªå¼€æºçš„KubernetesåŽŸç”Ÿçš„åˆ†å¸ƒå¼æ•°æ®é›†ç¼–æŽ’å’ŒåŠ é€Ÿå¼•æ“Žï¼Œä¸»è¦æœåŠ¡äºŽäº‘åŽŸç”Ÿåœºæ™¯ä¸‹çš„æ•°æ®å¯†é›†åž‹åº”ç”¨ï¼Œ https://developer.aliyun.com/article/775574?spm=a2c6h.12873581.0.0.5ce86c4dtRCO1D æ·±å…¥Spark ï¼ˆä¸€ï¼‰å†…å­˜è®¡ç®—çš„ç”±æ¥ https://www.infoq.cn/article/oPpQzsJIFopeBpzVcbx7 RDD RDDï¼ˆResilient Distributed Datasetsï¼‰ï¼Œå…¨ç§°æ˜¯â€œå¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†â€ã€‚ ä¸ºäº†å¼„æ¸…æ¥š RDD çš„åŸºæœ¬æž„æˆå’Œç‰¹æ€§ï¼Œæˆ‘ä»¬ä»Žå®ƒçš„ 5 å¤§æ ¸å¿ƒå±žæ€§è¯´èµ·ã€‚ å±žæ€§å æˆå‘˜ç±»åž‹ å±žæ€§å«ä¹‰ dependencies å˜é‡ ç”Ÿæˆè¯¥ RDD æ‰€ä¾èµ–çš„çˆ¶ RDD compute æ–¹æ³• ç”Ÿæˆè¯¥ RDD çš„è®¡ç®—æŽ¥å£ partitions å˜é‡ è¯¥ RDD çš„æ‰€æœ‰æ•°æ®åˆ†ç‰‡å®žä½“ partitioner æ–¹æ³• åˆ’åˆ†æ•°æ®åˆ†ç‰‡çš„è§„åˆ™ preferredLocations å˜é‡ æ•°æ®åˆ†ç‰‡çš„ç‰©ç†ä½ç½®åå¥½ ï¼ˆäºŒï¼‰DAG https://www.infoq.cn/article/LBzKJPoaFAre5c0cI4ur 2w å­— + 40 å¼ å›¾å¸¦ä½ å‚é€å¹¶å‘ç¼–ç¨‹ï¼ https://xie.infoq.cn/article/aa1587c2bb3dcc80579f63260 å¹¶å‘æ€§æ˜¯æ“ä½œç³»ç»Ÿéžå¸¸é‡è¦çš„ç‰¹å¾ï¼Œæ“ä½œç³»ç»Ÿå…·æœ‰åŒæ—¶å¤„ç†å’Œè°ƒåº¦å¤šä¸ªç¨‹åºçš„èƒ½åŠ›ï¼Œæ¯”å¦‚å¤šä¸ª I/O è®¾å¤‡åŒæ—¶åœ¨è¾“å…¥è¾“å‡ºï¼›è®¾å¤‡ I/O å’Œ CPU è®¡ç®—åŒæ—¶è¿›è¡Œï¼›å†…å­˜ä¸­åŒæ—¶æœ‰å¤šä¸ªç³»ç»Ÿå’Œç”¨æˆ·ç¨‹åºè¢«å¯åŠ¨äº¤æ›¿ã€ç©¿æ’åœ°æ‰§è¡Œã€‚æ“ä½œç³»ç»Ÿåœ¨åè°ƒå’Œåˆ†é…è¿›ç¨‹çš„åŒæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šä¸ºä¸åŒè¿›ç¨‹åˆ†é…ä¸åŒçš„èµ„æº å½“å¤šä¸ªçº¿ç¨‹è®¿é—®æŸä¸ªç±»æ—¶ï¼Œè¿™ä¸ªç±»å§‹ç»ˆéƒ½èƒ½è¡¨çŽ°å‡ºæ­£ç¡®çš„è¡Œä¸ºï¼Œé‚£ä¹ˆå°±ç§°è¿™ä¸ªç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ ç«žæ€æ¡ä»¶ä¹Ÿå°±å¥½å®šä¹‰äº†ï¼Œå®ƒæŒ‡çš„å°±æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹ä¸€å…±äº«æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œä»Žè€Œå½±å“ç¨‹åºè¿è¡Œçš„æ­£ç¡®æ€§æ—¶ï¼Œè¿™ç§å°±è¢«ç§°ä¸ºç«žæ€æ¡ä»¶(race condition) ï¼Œçº¿ç¨‹åˆ‡æ¢æ˜¯å¯¼è‡´ç«žæ€æ¡ä»¶å‡ºçŽ°çš„è¯±å¯¼å› ç´  volatile æ˜¯ä¸€ç§è½»é‡çº§çš„ synchronizedï¼Œä¹Ÿå°±æ˜¯ä¸€ç§è½»é‡çº§çš„åŠ é”æ–¹å¼ï¼Œvolatile é€šè¿‡ä¿è¯å…±äº«å˜é‡çš„å¯è§æ€§æ¥ä»Žä¾§é¢å¯¹å¯¹è±¡è¿›è¡ŒåŠ é”ã€‚å¯è§æ€§çš„æ„æ€å°±æ˜¯å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹ä¸€ä¸ªå…±äº«å˜é‡æ—¶ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿ çœ‹è§ è¿™ä¸ªä¿®æ”¹çš„å€¼ã€‚volatile çš„æ‰§è¡Œæˆæœ¬è¦æ¯” synchronized ä½Žå¾ˆå¤šï¼Œå› ä¸º volatile ä¸ä¼šå¼•èµ·çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ IO https://xie.infoq.cn/article/95e01c862c66bf956a30daed2 BIOã€NIO and AIO BIOï¼šåŒæ­¥é˜»å¡žIO NIOï¼šåŒæ­¥éžé˜»å¡žIO AIOï¼šå¼‚æ­¥éžé˜»å¡žIO æ–‡ä»¶æƒé™ æ¯ä¸ªæƒé™ä½æœ‰3ä¸ªbit rï¼ˆReadï¼‰ï¼šä»£è¡¨è¯¥æ–‡ä»¶å¯ä»¥è¢«å½“å‰ç”¨æˆ·è¯»ï¼Œæ“ä½œæƒé™çš„åºå·æ˜¯ 100 wï¼ˆWriteï¼‰ï¼šä»£è¡¨è¯¥æ–‡ä»¶å¯ä»¥è¢«å½“å‰ç”¨æˆ·å†™ï¼Œæ“ä½œæƒé™çš„åºå·æ˜¯ 010 xï¼ˆExecuteï¼‰ï¼šè¯¥æ–‡ä»¶å¯ä»¥è¢«å½“å‰ç”¨æˆ·æ‰§è¡Œï¼Œæ“ä½œæƒé™çš„åºå·æ˜¯ 001 Linux ä¸‹æ–‡ä»¶çš„æ“ä½œæƒé™åˆ†ä¸ºä¸‰ç§ç”¨æˆ·ï¼š æ–‡ä»¶æ‰€æœ‰è€…ï¼šæ‹¥æœ‰çš„æƒé™æ˜¯çº¢æ¡†ä¸­çš„é¦–ä½ä¸Šä¸‰ä¸ªbitï¼Œ-ä»£è¡¨æ²¡æœ‰æŸä¸ªæƒé™ æ–‡ä»¶æ‰€åœ¨ç»„çš„æ‰€æœ‰ç”¨æˆ·ï¼šæ‹¥æœ‰çš„æƒé™æ˜¯çº¢æ¡†ä¸­çš„ä¸­é—´ä¸‰ä¸ªbit å…¶å®ƒç»„çš„æ‰€æœ‰ç”¨æˆ·ï¼šæ‹¥æœ‰çš„æƒé™æ˜¯çº¢æ¡†ä¸­çš„æœ€åŽä¸‰ä¸ªbit GotW #91 Solution: Smart Pointer Parameters https://herbsutter.com/2013/06/05/gotw-91-solution-smart-pointer-parameters/ ç²¾å‡†æµ‹è¯• https://www.infoq.cn/article/xUu91CRqA4HcJz8UoMJS ç²¾å‡†æµ‹è¯•çš„æ¦‚å¿µ å€ŸåŠ©ä¸€å®šçš„æŠ€æœ¯æ‰‹æ®µã€é€šè¿‡è¾…åŠ©ç®—æ³•å¯¹ä¼ ç»Ÿè½¯ä»¶æµ‹è¯•è¿‡ç¨‹è¿›è¡Œå¯è§†åŒ–ã€åˆ†æžåŠä¼˜åŒ–çš„è¿‡ç¨‹ï¼Œä½¿å¾—æµ‹è¯•è¿‡ç¨‹æ›´åŠ å¯è§†åŒ–ã€æ™ºèƒ½ã€å¯ä¿¡å’Œç²¾å‡†ã€‚ æ€§èƒ½ä¼˜åŒ– https://www.infoq.cn/article/bm8pD6jDPYTW3wV6D6Z6 é‚£ä¹ˆï¼Œåœ¨åšæ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä»Žâ€œä¼˜åŒ–æ—¶é—´â€ã€â€œä¼˜åŒ–ç©ºé—´â€ã€â€œæ—¶ç©ºäº’æ¢ï¼ˆç”¨æ—¶é—´æ¢ç©ºé—´æˆ–ç”¨ç©ºé—´æ¢æ—¶é—´ï¼‰â€ä¸‰ä¸ªæ–¹å‘åŽ»æ€è€ƒï¼Œç„¶åŽåœ¨ç©ºé—´ã€æ—¶é—´ä¸Šä¸åœåœ°åšå–èˆã€‚ æ•°æ®åº“ç¼“å­˜ oceanBaseå­˜å‚¨å¼•æ“Žçš„è®¾è®¡å“²å­¦å’Œåº”ç”¨å®žè·µ https://zhuanlan.zhihu.com/p/78183692 [çŽ©è½¬MySQLä¹‹å››]MySQLç¼“å­˜æœºåˆ¶ https://zhuanlan.zhihu.com/p/55947158 tidb ä¸‹æŽ¨ç»“æžœç¼“å­˜ https://docs.pingcap.com/zh/tidb/stable/coprocessor-cache å†…æ ¸å¹²è´§ | æ•°æ®åº“å­˜å‚¨å¼•æ“Žå¦‚ä½•åˆ©ç”¨å¥½CPUç¼“å­˜ https://developer.aliyun.com/article/750668?spm=a2c6h.14164896.0.0.3f1b4185PzqStT CPUç¼“å­˜ä¸€è‡´æ€§ https://xie.infoq.cn/article/2b40b30085796b41752c88e61]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç£ç›˜ç©ºé—´ä¸è¶³çš„æŽ’æŸ¥æ–¹æ³•]]></title>
    <url>%2F2020%2F12%2F12%2FLinux%2F%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E4%B8%8D%E8%B6%B3%E7%9A%84%E6%8E%92%E6%9F%A5%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ç£ç›˜ç©ºé—´ä¸è¶³åŽŸå› åŠæŽ’æŸ¥æ–¹æ³• https://blog.csdn.net/jiedao_liyk/article/details/78497625 ä¸è¶³åŽŸå› ï¼š blockæ»¡ df -h inodeæ»¡ df -i æ–‡ä»¶è¢«å ç”¨ä¸€ç›´æ²¡è¢«å½»åº•åˆ é™¤ lsof |grep deleted]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linuxè¿ç»´</tag>
        <tag>æ•…éšœæŽ’æŸ¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++Includeè·¯å¾„é¡ºåº]]></title>
    <url>%2F2020%2F12%2F12%2FC%2B%2B%2FC-Include%E8%B7%AF%E5%BE%84%E9%A1%BA%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[C++ Include C++ ä¸­includeå¤´æ–‡ä»¶æ—¶&lt;&gt;ä¸Ž&quot;&quot;çš„åŒºåˆ« #include &lt;&gt;æ ¼å¼ï¼šå¼•ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶ï¼Œç¼–è¯‘å™¨ä»Žæ ‡å‡†åº“ç›®å½•(IncludePath)å¼€å§‹æœç´¢ #incluce &quot;&quot;æ ¼å¼ï¼šå¼•ç”¨éžæ ‡å‡†åº“çš„å¤´æ–‡ä»¶ï¼Œç¼–è¯‘å™¨ä»Žç”¨æˆ·çš„å·¥ä½œç›®å½•å¼€å§‹æœç´¢ï¼Œç„¶åŽå†åœ¨æ ‡å‡†ä½ç½®å¯»æ‰¾æ–‡ä»¶ã€‚ Include æœç´¢è¿‡ç¨‹ #include â€œheadfile.hâ€å¼•ç”¨å¤´æ–‡ä»¶çš„æœç´¢é¡ºåºä¸ºï¼š å…ˆæœç´¢å½“å‰ç›®å½• ç„¶åŽæœç´¢-IæŒ‡å®šçš„ç›®å½• å†æœç´¢gccçš„çŽ¯å¢ƒå˜é‡CPLUS_INCLUDE_PATHï¼ˆCç¨‹åºä½¿ç”¨çš„æ˜¯C_INCLUDE_PATHï¼‰ æœ€åŽæœç´¢gccçš„å†…å®šç›®å½•ï¼š/usr/includeï¼Œ/usr/local/includeï¼Œ/usr/lib/gcc/x86_64-redhat-linux/4.1.1/includeå„ç›®å½•å­˜åœ¨ç›¸åŒæ–‡ä»¶æ—¶ï¼Œå…ˆæ‰¾åˆ°å“ªä¸ªä½¿ç”¨å“ªä¸ªã€‚ #include &lt;headfile.h&gt;å¼•ç”¨å¤´æ–‡ä»¶çš„æœç´¢é¡ºåºä¸ºï¼š å…ˆæœç´¢-IæŒ‡å®šçš„ç›®å½• ç„¶åŽæœç´¢gccçš„çŽ¯å¢ƒå˜é‡CPLUS_INCLUDE_PATH æœ€åŽæœç´¢gccçš„å†…å®šç›®å½•ï¼š/usr/includeï¼Œ/usr/local/includeï¼Œ/usr/lib/gcc/x86_64-redhat-linux/4.1.1/include å„ç›®å½•å­˜åœ¨ç›¸åŒæ–‡ä»¶æ—¶ï¼Œå…ˆæ‰¾åˆ°å“ªä¸ªä½¿ç”¨å“ªä¸ªã€‚ åº“æœç´¢è¿‡ç¨‹ ç¼–è¯‘æ—¶ï¼Œåº“æ–‡ä»¶æœç´¢è·¯å¾„ï¼š gccä¼šåŽ»æ‰¾-L å†æ‰¾gccçš„çŽ¯å¢ƒå˜é‡LIBRARY_PATH å†æ‰¾å†…å®šç›®å½• /lib /usr/lib /usr/local/libï¼Œè¿™æ˜¯å½“åˆcompile gccæ—¶å†™åœ¨ç¨‹åºå†…çš„ è¿è¡Œæ—¶ï¼ŒåŠ¨æ€åº“æœç´¢è·¯å¾„ï¼š ç¼–è¯‘ç›®æ ‡ä»£ç æ—¶æŒ‡å®šçš„åŠ¨æ€åº“æœç´¢è·¯å¾„ï¼ˆè¿™æ˜¯é€šè¿‡gcc çš„å‚æ•°&quot;-Wl,-rpath,â€œæŒ‡å®šã€‚å½“æŒ‡å®šå¤šä¸ªåŠ¨æ€åº“æœç´¢è·¯å¾„æ—¶ï¼Œè·¯å¾„ä¹‹é—´ç”¨å†’å·â€ï¼š&quot;åˆ†éš”ï¼‰ çŽ¯å¢ƒå˜é‡LD_LIBRARY_PATHæŒ‡å®šçš„åŠ¨æ€åº“æœç´¢è·¯å¾„ï¼ˆå½“é€šè¿‡è¯¥çŽ¯å¢ƒå˜é‡æŒ‡å®šå¤šä¸ªåŠ¨æ€åº“æœç´¢è·¯å¾„æ—¶ï¼Œè·¯å¾„ä¹‹é—´ç”¨å†’å·&quot;ï¼š&quot;åˆ†éš”ï¼‰ é…ç½®æ–‡ä»¶/etc/ld.so.confä¸­æŒ‡å®šçš„åŠ¨æ€åº“æœç´¢è·¯å¾„ï¼› é»˜è®¤çš„åŠ¨æ€åº“æœç´¢è·¯å¾„/libï¼› é»˜è®¤çš„åŠ¨æ€åº“æœç´¢è·¯å¾„/usr/libã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pthread_barrier_t]]></title>
    <url>%2F2020%2F12%2F12%2FC%2B%2B%2Fpthread-barrier-t%2F</url>
    <content type="text"><![CDATA[pthread_barrier_t æ¦‚å¿µ barrieræ˜¯ç”¨æˆ·åè°ƒå¤šä¸ªçº¿ç¨‹å¹¶è¡Œå·¥ä½œçš„åŒæ­¥æœºåˆ¶ åŽŸç†ï¼šå±éšœå…è®¸æ¯ä¸ªçº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°æ‰€æœ‰çš„åˆä½œçº¿ç¨‹éƒ½åˆ°è¾¾æŸä¸€ç‚¹ï¼ˆå±éšœï¼‰ï¼Œç„¶åŽä»Žè¯¥ç‚¹ç»§ç»­æ‰§è¡Œå·¥ä½œ åˆå§‹åŒ–å’Œé‡Šæ”¾ int pthread_barrier_init(pthread_barrier_t *restrict barrier,const pthread_barrierattr_t *restrict attr,unsigned int count)ï¼š **åŠŸèƒ½ï¼š**å¯¹å±éšœå˜é‡è¿›è¡Œåˆå§‹åŒ– å‚æ•°ï¼š **å‚æ•°1ï¼š**åˆå§‹åŒ–çš„å±éšœå˜é‡ **å‚æ•°2ï¼š**å±éšœåˆå§‹åŒ–æ—¶çš„å±žæ€§ã€‚å¦‚æžœç”¨é»˜è®¤å±žæ€§ï¼Œæ­¤å¤„å¡«NULLï¼ˆå±éšœå±žæ€§è§æ–‡ç« ï¼šhttps://blog.csdn.net/qq_41453285/article/details/90904886ï¼‰ **å‚æ•°3ï¼š**ç”¨æ­¤å‚æ•°æŒ‡å®šï¼Œåœ¨å…è®¸æ‰€æœ‰çº¿ç¨‹ç»§ç»­æ‰§è¡Œä¹‹å‰ï¼Œå¿…é¡»åˆ°è¾¾å±éšœçš„çº¿ç¨‹æ•°ç›®ã€‚å½“åˆ°è¾¾äº†è¿™ä¸ªæ•°ç›®ä¹‹åŽå°±å¯ä»¥ç»§ç»­æ‰§è¡Œ int pthread_barrier_destroy(pthread_barrier_t *barrier)ï¼š **åŠŸèƒ½ï¼š**å±éšœå˜é‡çš„ååˆå§‹åŒ–ï¼Œé‡Šæ”¾é”€æ¯ **å‚æ•°ï¼š**å±éšœå˜é‡ å¦‚æžœåœ¨pthread_barrier_destroyä¹‹å‰å°±é‡Šæ”¾äº†è¯»å†™é”å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆåˆ†é…ç»™è¿™ä¸ªé”çš„èµ„æºå°±ä¼šä¸¢å¤± **å¤‡æ³¨ï¼ˆé‡ç‚¹ï¼‰ï¼š**æ­¤å‡½æ•°åªæ˜¯ååˆå§‹åŒ–å±éšœå˜é‡ï¼Œå¹¶æ²¡æœ‰é‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œå¦‚æžœå±éšœå˜é‡æ˜¯é€šè¿‡mallocç­‰å‡½æ•°ç”³è¯·çš„ï¼Œé‚£ä¹ˆéœ€è¦åœ¨freeæŽ‰è¯»å±éšœå˜é‡ä¹‹å‰è°ƒç”¨pthread_barrier_destroyå‡½æ•° åŒæ­¥wait int pthread_barrier_wait(pthread_barrier_t *barrier); **åŠŸèƒ½ï¼š**çº¿ç¨‹è°ƒç”¨è¯¥å‡½æ•°ç”¨æ¥è¡¨ç¤ºè‡ªå·±å·²ç»åˆ°è¾¾äº†å±éšœ **å·¥ä½œåŽŸç†ï¼š**å¦‚æžœçº¿ç¨‹è°ƒç”¨è¿™ä¸ªå‡½æ•°å‘çŽ°å±éšœçš„çº¿ç¨‹è®¡æ•°è¿˜æœªæ»¡è¶³è¦æ±‚ï¼Œé‚£ä¹ˆçº¿ç¨‹å°±ä¼šè¿›å…¥ä¼‘çœ çŠ¶æ€ã€‚å¦‚æžœçº¿ç¨‹è°ƒç”¨æ­¤å‡½æ•°ä¹‹åŽï¼Œå‘çŽ°åˆšå¥½æ»¡è¶³å±éšœè®¡æ•°ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„çº¿ç¨‹éƒ½è¢«å”¤é†’ è¿”å›žå€¼:æˆåŠŸè¿”å›ž0æˆ–è€…PTHREAD_BARRIER_SERIAL_THREADï¼›å¦åˆ™è¿”å›žé”™è¯¯ç¼–å· **è¿”å›žå€¼çš„æ³¨æ„äº‹é¡¹ï¼š**å¦‚æžœä¸€ä¸ªçº¿ç¨‹è°ƒç”¨è¯¥å‡½æ•°è¿”å›žPTHREAD_BARRIER_SERIAL_THREADï¼Œé‚£ä¹ˆå…¶ä»–åœ¨å±éšœä¸­çš„çº¿ç¨‹å°±è¿”å›ž0.è¿™ä½¿å¾—ä¸€ä¸ªçº¿ç¨‹å¯ä»¥ä½œä¸ºä¸»çº¿ç¨‹ï¼Œå®ƒå¯ä»¥å·¥ä½œåœ¨å…¶ä»–æ‰€æœ‰çº¿ç¨‹å·²ç»å®Œæˆçš„å·¥ä½œç»“æžœä¸Š]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++è¿›é˜¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[c++æ‹¾é—]]></title>
    <url>%2F2020%2F12%2F12%2FC%2B%2B%2Fc-%E6%9D%82%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[constexptä½¿ç”¨ https://www.cnblogs.com/DswCnblog/p/6513310.html sleepã€yieldã€busy Spinçš„åŒºåˆ« sleep äº¤å‡ºcpu ç­‰å¾…SIGALRMå”¤é†’é‡æ–°è°ƒåº¦ yield äº¤å‡ºCPUæ—¶é—´ç‰‡ ç­‰å¾…ä¸‹æ¬¡è°ƒåº¦ busy Spin ä¸€ç›´å ç”¨cpuæ—¶é—´ç‰‡ C++ å‡½æ•°æ¨¡æ¿â€”â€”è¿”å›žå€¼ https://blog.csdn.net/caroline_wendy/article/details/17003679 å‡½æ•°æ¨¡æ¿çš„è¿”å›žå€¼ä¹Ÿå¯ä»¥å®šä¹‰ä¸ºæ¨¡æ¿å‚æ•°(template parameter), ä½†æ˜¯ç”±äºŽæ— æ³•æŽ¨å¯¼(deduce), éœ€è¦æ˜¾å¼(explicit)æŒ‡å®š; ç”±äºŽæ˜¾å¼æŒ‡å®šçš„é¡ºåºæ˜¯ä»Žå·¦è‡³å³, è¿”å›žå€¼å‚æ•°å°½é‡æ”¾åœ¨å·¦é¢,å…¶ä½™å‡½æ•°å‚æ•°å¯ä»¥é€šè¿‡ä¼ å…¥å®žå‚(argument)è¿›è¡ŒæŽ¨å¯¼; ã€C++ã€‘ variant https://www.cnblogs.com/thinkway/p/6743684.html https://en.cppreference.com/w/cpp/utility/variant c++17æ ‡å‡†ä¸­å¼•å…¥äº†variantæ¥ä½œä¸ºunionçš„ç±»åž‹å®‰å…¨æ›¿ä»£å“ã€‚å®ƒå¯ä»¥åœ¨ä»»æ„æ—¶é—´ä¿å­˜æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­æŸä¸€ç±»åž‹çš„å€¼æˆ–è€…ç©ºå€¼ã€‚ C++ handle åœ¨ç¼–ç¨‹æ—¶å¸¸å¸¸çœ‹åˆ°Handleè¿™ä¸ªæ¦‚å¿µã€‚å‚ç…§ï¼šhttps://stackoverflow.com/questions/1303123/what-is-a-handle-in-c/1303180#1303180 å¯ä»¥äº†è§£åˆ°ï¼Œhandleæ˜¯æŒ‡å‘æŸäº›resourceçš„ç´¢å¼•æˆ–è€…å·¥å…·ã€‚ä½ æœ¬èº«æ— æ³•ä»Žhandleä¸­èŽ·å¾—èµ„æºçš„ä¿¡æ¯ï¼Œä½†å°†å…¶ä¼ ç»™APIåŽå°±å¯ä»¥è¿›è¡Œå¾ˆå¤šæ“ä½œã€‚ è¿˜æœ‰ä¸€ç±»æ˜¯Opaque handleï¼Œè¿™ä¸€ç±»handle ä½ åœ¨å®šä¹‰æ—¶ä¹Ÿä¸èƒ½çŸ¥é“å…¶ä¸­çš„å†…å®¹ä¿¡æ¯ã€‚è§ï¼šhttps://www.geeksforgeeks.org/opaque-pointer/ C++ ç±»æˆå‘˜å‡½æ•°ä¸­è®¿é—®åŒç±»å¯¹è±¡çš„ç§æœ‰æˆå‘˜ https://blog.csdn.net/walle_love_eva/article/details/9151273 C++çš„è®¿é—®ä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯ä»¥ç±»ä¸ºå•ä½ï¼Œè€Œä¸æ˜¯ä»¥å¯¹è±¡ä¸ºå•ä½ã€‚ ç±»æ–¹æ³•æ˜¯æ‰€æœ‰è¯¥ç±»å¯¹è±¡å…±åŒä½¿ç”¨çš„ï¼Œå› æ­¤ä¸å­˜åœ¨æ¯ä¸ªå¯¹è±¡æœ‰ä¸€ç»„ç±»æ–¹æ³•çš„å‰¯æœ¬ã€‚ç±»æ–¹æ³•è‡ªç„¶å¯ä»¥è®¿é—®æ‰€æœ‰è¯¥ç±»å¯¹è±¡çš„ç§æœ‰æˆå‘˜ã€‚ æ¨¡æ¿å…ƒç¼–ç¨‹ https://www.cnblogs.com/liangliangh/p/4219879.html GTest å€¼å‚æ•°åŒ–æµ‹è¯• https://www.cnblogs.com/jycboy/p/6118073.html C++ å‡½æ•°çš„ç±»åž‹ 123456789101112131415161718// store a call to a member functionstd::function&lt;void(const Foo&amp;, int)&gt; f_add_display = &amp;Foo::print_add;const Foo foo(314159);f_add_display(foo, 1);f_add_display(314159, 1); // store a call to a data member accessorstd::function&lt;int(Foo const&amp;)&gt; f_num = &amp;Foo::num_;std::cout &lt;&lt; "num_: " &lt;&lt; f_num(foo) &lt;&lt; '\n'; // store a call to a member function and objectusing std::placeholders::_1;std::function&lt;void(int)&gt; f_add_display2 = std::bind( &amp;Foo::print_add, foo, _1 );f_add_display2(2); // store a call to a member function and object ptrstd::function&lt;void(int)&gt; f_add_display3 = std::bind( &amp;Foo::print_add, &amp;foo, _1 );f_add_display3(3); C++æœåŠ¡ç¼–è¯‘è€—æ—¶ä¼˜åŒ–åŽŸç†åŠå®žè·µ JeMalloc https://zhuanlan.zhihu.com/p/48957114 C++ ROV RVOæ˜¯Return Value Optimizationçš„ç¼©å†™ï¼Œå³è¿”å›žå€¼ä¼˜åŒ–ï¼ŒNRVOå°±æ˜¯å…·åçš„è¿”å›žå€¼ä¼˜åŒ–ï¼Œä¸ºRVOçš„ä¸€ä¸ªå˜ç§ï¼Œæ­¤ç‰¹æ€§ä»ŽC++11å¼€å§‹æ”¯æŒã€‚ C++lambdaè¡¨è¾¾å¼ https://www.jianshu.com/p/d686ad9de817 ä¸€æ–‡è¯»æ‡‚C++å³å€¼å¼•ç”¨å’Œstd::move https://zhuanlan.zhihu.com/p/335994370 ä½†äº‹å®žä¸Šstd::moveç§»åŠ¨ä¸äº†ä»€ä¹ˆï¼Œå”¯ä¸€çš„åŠŸèƒ½æ˜¯æŠŠå·¦å€¼å¼ºåˆ¶è½¬åŒ–ä¸ºå³å€¼ï¼Œè®©å³å€¼å¼•ç”¨å¯ä»¥æŒ‡å‘å·¦å€¼ã€‚å…¶å®žçŽ°ç­‰åŒäºŽä¸€ä¸ªç±»åž‹è½¬æ¢ï¼šstatic_cast&lt;T&amp;&amp;&gt;(lvalue)ã€‚ æ‰€ä»¥ï¼Œå•çº¯çš„std::move(xxx)ä¸ä¼šæœ‰æ€§èƒ½æå‡ é™¤éžè®¾è®¡ä¸å…è®¸ç§»åŠ¨ï¼ŒSTLç±»å¤§éƒ½æ”¯æŒç§»åŠ¨è¯­ä¹‰å‡½æ•°ï¼Œå³å¯ç§»åŠ¨çš„ã€‚ å¦å¤–ï¼Œç¼–è¯‘å™¨ä¼šé»˜è®¤åœ¨ç”¨æˆ·è‡ªå®šä¹‰çš„classå’Œstructä¸­ç”Ÿæˆç§»åŠ¨è¯­ä¹‰å‡½æ•°ï¼Œä½†å‰ææ˜¯ç”¨æˆ·æ²¡æœ‰ä¸»åŠ¨å®šä¹‰è¯¥ç±»çš„æ‹·è´æž„é€ ç­‰å‡½æ•°(å…·ä½“è§„åˆ™è‡ªè¡Œç™¾åº¦å“ˆ)ã€‚ å› æ­¤ï¼Œå¯ç§»åŠ¨å¯¹è±¡åœ¨&lt;éœ€è¦æ‹·è´ä¸”è¢«æ‹·è´è€…ä¹‹åŽä¸å†è¢«éœ€è¦&gt;çš„åœºæ™¯ï¼Œå»ºè®®ä½¿ç”¨std::moveè§¦å‘ç§»åŠ¨è¯­ä¹‰ï¼Œæå‡æ€§èƒ½ã€‚ C++ å®Œç¾Žè½¬å‘ forwardåŽŸç† https://www.cnblogs.com/5iedu/p/11324772.html https://www.yuanguohuo.com/2018/05/25/cpp11-perfect-forward/ ä¸‡èƒ½å¼•ç”¨ https://www.cnblogs.com/5iedu/p/11378023.html C++11ä¸­range-based for loopsä¸­&amp;&amp;ä¸Ž&amp;çš„åŒºåˆ« https://blog.csdn.net/haolexiao/article/details/56842552 C++ memory order std::atomic_thread_fence https://blog.csdn.net/wxj1992/article/details/103917093 è€Œåœ¨C++ 11åŠä¹‹åŽçš„æ ‡å‡†é‡Œï¼Œé™¤äº†åˆ©ç”¨åŽŸå­æ“ä½œæŒ‡å®šå†…å­˜åºï¼Œè¿˜å®šä¹‰äº†å•ç‹¬ä½¿ç”¨memory fenceï¼ˆstd::atomic_thread_fenceï¼‰çš„æ–¹å¼ï¼Œfenceå¯ä»¥å’ŒåŽŸå­æ“ä½œç»„åˆè¿›è¡ŒåŒæ­¥ï¼Œä¹Ÿå¯ä»¥fenceä¹‹é—´è¿›è¡ŒåŒæ­¥ï¼Œ GTEST ç³»åˆ— Guide https://google.github.io/googletest/ Benchmark Guide https://benchmark.docsforge.com/master/getting-started/ æµ…æžstd::refä¸Žreference_wrapper https://blog.csdn.net/u014645632/article/details/78966340 å£°æ˜ŽäºŽ ä¸­çš„ class std::reference_wrapper&lt;&gt; ä¸»è¦ç”¨æ¥â€œå–‚ â€ reference ç»™function template, åŽè€…åŽŸæœ¬ä»¥ by valueæ–¹å¼æŽ¥å—å‚æ•°ã€‚å¯¹äºŽä¸€ä¸ªç»™å®šç±»åž‹ T ï¼Œè¿™ä¸ª class æä¾› ref () ç”¨ä»¥éšå¼è½¬æ¢ä¸º T&amp; ï¼Œä¸€ä¸ª cref () ç”¨ä»¥éšå¼è½¬æ¢ä¸º const T&amp; ï¼Œè¿™å¾€å¾€å…è®¸ function template å¾—ä»¥æ“ä½œ reference è€Œä¸éœ€è¦å¦å†™ç‰¹åŒ–ç‰ˆæœ¬ã€‚ STL ä¸­è¿­ä»£å™¨å¤±æ•ˆ https://blog.csdn.net/skyroben/article/details/70877008 å‘å®¹å™¨ä¸­æ·»åŠ æˆ–è€…åˆ é™¤å…ƒç´ çš„æ“ä½œå¯èƒ½ä¼šä½¿æŒ‡å‘å®¹å™¨å…ƒç´ çš„è¿­ä»£å™¨å¤±æ•ˆï¼Œå¤±æ•ˆçš„è¿­ä»£å™¨å°†ä¸æŒ‡å‘ä»»ä½•å…ƒç´ ã€‚ ä¸€èˆ¬æœ‰ä¸¤ç§æƒ…å†µæ— æ³•é€šè¿‡è¿­ä»£å™¨++æ“ä½œéåŽ†æ•´ä¸ªstlå®¹å™¨; æ— æ³•é€šè¿‡è¿­ä»£å™¨å­˜å–è¿­ä»£å™¨æ‰€æŒ‡å‘çš„å†…å­˜ã€‚ Modern Cmake https://cliutils.gitlab.io/modern-cmake/ enable_ifçš„å‡ ç§ç”¨æ³• https://yixinglu.gitlab.io/enable_if.html ç”¨æ³•ä¸€ï¼šç±»åž‹åç‰¹åŒ– ç”¨æ³•äºŒï¼šæŽ§åˆ¶å‡½æ•°è¿”å›žç±»åž‹ ç”¨æ³•ä¸‰ï¼šæ ¡éªŒå‡½æ•°æ¨¡æ¿å‚æ•°ç±»åž‹ typenameç”¨æ³• https://feihu.me/blog/2014/the-origin-and-usage-of-typename/ A name used in a template declaration or definition and that is dependent on a template-parameter is assumed not to name a type unless the applicable name lookup finds a type name or the name is qualified by the keyword typename. å¯¹äºŽç”¨äºŽæ¨¡æ¿å®šä¹‰çš„ä¾èµ–äºŽæ¨¡æ¿å‚æ•°çš„åç§°ï¼Œåªæœ‰åœ¨å®žä¾‹åŒ–çš„å‚æ•°ä¸­å­˜åœ¨è¿™ä¸ªç±»åž‹åï¼Œæˆ–è€…è¿™ä¸ªåç§°å‰ä½¿ç”¨äº†typenameå…³é”®å­—æ¥ä¿®é¥°ï¼Œç¼–è¯‘å™¨æ‰ä¼šå°†è¯¥åç§°å½“æˆæ˜¯ç±»åž‹ã€‚é™¤äº†ä»¥ä¸Šè¿™ä¸¤ç§æƒ…å†µï¼Œç»ä¸ä¼šè¢«å½“æˆæ˜¯ç±»åž‹ã€‚ C++ ä¸­çš„ mutable å…³é”®å­— https://liam.page/2017/05/25/the-mutable-keyword-in-Cxx/]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>æ‹¾é—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dockerå†…ä½¿ç”¨SSH-Key]]></title>
    <url>%2F2020%2F12%2F12%2FDocker%E5%86%85%E4%BD%BF%E7%94%A8SSH-Key%2F</url>
    <content type="text"><![CDATA[Dockerå†…ä½¿ç”¨SSH Key DockerFileï¼š 123456789101112ARG SSH_KEYARG SSH_KEY_PASSPHRASE# Authorize SSH HostRUN mkdir -p /root/.ssh &amp;&amp; \ chmod 0700 /root/.ssh &amp;&amp; \ ssh-keyscan github.com &gt; /root/.ssh/known_hosts # Add the keys and set permissionsRUN echo "$ssh_prv_key" &gt; /root/.ssh/id_rsa &amp;&amp; \ echo "$ssh_pub_key" &gt; /root/.ssh/id_rsa.pub &amp;&amp; \ chmod 600 /root/.ssh/id_rsa &amp;&amp; \ chmod 600 /root/.ssh/id_rsa.pub æž„å»ºå‘½ä»¤ 1$ docker build -t example --build-arg ssh_prv_key="$(cat ~/.ssh/id_rsa)" --build-arg ssh_pub_key="$(cat ~/.ssh/id_rsa.pub)"]]></content>
      <categories>
        <category>k8s/docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ä¸­Static]]></title>
    <url>%2F2020%2F12%2F12%2FC%2B%2B%2FC-%E4%B8%ADStatic%2F</url>
    <content type="text"><![CDATA[C++ä¸­staticç”¨é€” ä»Žä¸¤æ–¹é¢æ¥åˆ†æžï¼š ä½œç”¨åŸŸ ç”Ÿå­˜æœŸ C/C++éƒ½æœ‰ é™æ€å±€éƒ¨å˜é‡ ä½œç”¨åŸŸï¼šå‡½æ•°ä½“å†…éƒ¨ ç”Ÿå­˜æœŸï¼šæ•´ä¸ªç¨‹åºè¿è¡ŒæœŸé—´ 12345678int foo()&#123; static int si = 1; //note:1 int ci = 1; //note:2 si += 1; printf("&amp;si = %p\t si = %d\t &amp;ci = %p\t ci = %d\n", &amp;si, si, &amp;ci, ci); return si;&#125; é™æ€å…¨å±€å˜é‡ ä½œç”¨åŸŸï¼šæ–‡ä»¶å†…éƒ¨ ç”Ÿå­˜æœŸï¼šæ•´ä¸ªç¨‹åºè¿è¡ŒæœŸé—´ 12345678910static int gsi = 1;//note:3int gi = 1; //note:4 int gfoo()&#123; gsi += 1; gi += 1; printf("gfoo &amp;gsi= %p\t gsi = %d\t &amp;gi= %p\t gi = %d\n", &amp;gsi, gsi, &amp;gi, gi); return gsi;&#125; é™æ€å‡½æ•° ä½œç”¨åŸŸï¼šæ–‡ä»¶å†…éƒ¨ ç”Ÿå­˜æœŸï¼šæ•´ä¸ªç¨‹åºè¿è¡ŒæœŸé—´ 123456789101112131415//extern.c void cfoo()&#123; printf("this is non-static cfoo in extern.c &amp;egsi = %p\t egsi = %d\n", &amp;egsi ,egsi);&#125; //mian.cextern void cfoo();int main()&#123; cfoo(); return 0;&#125; C++ä¸­ç”¨é€” é™æ€æ•°æ®æˆå‘˜ ä½œç”¨åŸŸï¼šå…¨å±€ ç”Ÿå­˜æœŸï¼šæ•´ä¸ªç¨‹åº é™æ€æˆå‘˜å‡½æ•° ä½œç”¨åŸŸï¼šç±» ç”Ÿå­˜æœŸï¼šæ•´ä¸ªç¨‹åº]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NanoLog-çº³ç§’çº§C++æ—¥å¿—]]></title>
    <url>%2F2020%2F12%2F12%2FC%2B%2B%2FNanoLog-%E7%BA%B3%E7%A7%92%E7%BA%A7C-%E6%97%A5%E5%BF%97%2F</url>
    <content type="text"><![CDATA[NanoLog èƒŒæ™¯ çŽ°æœ‰æ—¥å¿—ç³»ç»Ÿç¼ºé™· åŒæ­¥å†™æ—¥å¿—â€”â€”æ…¢ æ”¾åˆ°åŽå°çº¿ç¨‹å†™ï¼Œä»æœ‰ä»£ä»·ã€‚ä¸”ä¸ºäº†ä¸è¢«å¡ä½ï¼Œè¦å‡å°‘äº§ç”Ÿæ—¥å¿—é‡ï¼š è®¾ç½®æ—¥å¿—ç­‰çº§ éšæœºé‡‡æ ·log è§‚å¯Ÿ äººå¯è¯»æ‡‚çš„Logä¸æ˜¯å¿…é¡»åœ¨åº”ç”¨ä¸­äº§ç”Ÿã€‚ æ—¥å¿—ä¿¡æ¯å­˜åœ¨å¹¿æ³›çš„é‡å¤ï¼Œå¤§éƒ¨åˆ†å†…å®¹æ˜¯é™æ€å†…å®¹ã€‚ è®¾è®¡ æ€æƒ³ åœ¨ç¼–è¯‘é˜¶æ®µæå–logä¿¡æ¯ä¸­çš„é‡å¤çš„é™æ€éƒ¨åˆ†ï¼Œç”¨å­—å…¸IDä»£æ›¿å­—ç¬¦ä¸² å°†formatå·¥ä½œæŽ¨è¿Ÿåˆ°ç¦»çº¿ä»»åŠ¡ã€‚ åŽ‹ç¼©æ—¥å¿—ä¸­çš„åŠ¨æ€å˜é‡ï¼Œå‡å°‘IOã€‚ è¯¦ç»†è®¾è®¡ NanoLogçš„å…·ä½“è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ•´ä¸ªæ—¥å¿—ç³»ç»Ÿå‚ä¸Žçš„ç”Ÿå‘½å‘¨æœŸè¢«åˆ†ä¸ºäº†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯ï¼šç¼–è¯‘ã€è¿è¡Œæ—¶ä»¥åŠç¦»çº¿å¤„ç†ã€‚ ç¼–è¯‘ ç¼–è¯‘é˜¶æ®µä¸­ï¼ŒNanoLogçš„PreProcessorä¼šå¯¹ç”¨æˆ·ä»£ç è¿›è¡Œå¤„ç†ã€‚å…¶ä¸­ä¸¤ä¸ªå…³é”®å‡½æ•°æ˜¯recordï¼ˆï¼‰å’Œcompactï¼ˆï¼‰ï¼š record(): recordå‡½æ•°æŽ¥æ”¶ä¸€ä¸ªbufferå’Œidï¼ŒIDå”¯ä¸€è¡¨ç¤ºäº†ä¸€ä¸ªæ—¥å¿—è°ƒç”¨ï¼Œè€Œbufferä¸­ï¼Œå‚¨å­˜äº†æ—¥å¿—è°ƒç”¨ä¸­çš„åŠ¨æ€å˜é‡ï¼Œæœ‰äº†è¿™äº›ä¿¡æ¯ï¼ŒNanoLogå³å¯æ‹¼æŽ¥å‡ºæ—¥å¿—ä¿¡æ¯ã€‚ compact()ï¼šcompactå‡½æ•°æŽ¥æ”¶ä¸€ä¸ªbufferï¼Œè´Ÿè´£å°†bufferä¸­çš„æ•°æ®åŽ‹ç¼©ï¼Œå‡å°‘ioæ¶ˆè€—ã€‚ ä¸»è¦åŒ…æ‹¬å‡ ä¸ªå·¥ä½œï¼š PreProcessorå¯¹ç”¨æˆ·ä»£ç ä¸­çš„NanoLogå®è¿›è¡Œå¤„ç†ï¼Œå¯¹äºŽæ¯ä¸ªå®è°ƒç”¨ï¼Œä¼šè®°å½•å…¶æ–‡ä»¶ã€ä»£ç è¡Œæ•°ã€é™æ€æ—¥å¿—å­—ç¬¦ä¸²ã€åŠ¨æ€å˜é‡ç±»åž‹ä»¥åŠä¸ºå…¶ç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„IDã€‚ä¹‹åŽä¼šå°†å®è°ƒç”¨æ›¿æ¢ä¸ºä¸€ä¸ªrecord()å‡½æ•°è°ƒç”¨ã€‚ å¯¹æ¯ä¸ªå®è°ƒç”¨å¯¹è®°å½•ä¿¡æ¯ï¼Œä¼šé€šè¿‡Combineråˆæˆä¸€ä¸ªå®Œæ•´å¯¹å­—å…¸ï¼Œå…±runtimeä½¿ç”¨ ä¹‹åŽï¼Œç”Ÿæˆå¯¹å­—å…¸ä¼šå’ŒNanoRuntimeçš„åº“ä»£ç ç¼–è¯‘å‡ºä¸€ä»½é™æ€åº“ï¼Œè¯¥åº“å’Œå¤„ç†è¿‡çš„ç”¨æˆ·ä»£ç æœ€ç»ˆç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚ è¿è¡Œæ—¶ è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·çš„æ—¥å¿—æ“ä½œå®žé™…ä¸Šå°±æ˜¯ä¸€ä¸ªéžå¸¸ç®€å•çš„å‡½æ•°è°ƒç”¨ï¼Œä¼ å…¥idå’Œbufferï¼Œç„¶åŽè¢«è®°å½•ä¸ºä¸€ä¸ªå¸¦æ—¶é—´æˆ³çš„eventï¼Œå­˜å…¥çº¿ç¨‹å•ç‹¬çš„stagingBufferï¼Œå› æ­¤ä¹Ÿæ²¡æœ‰åŒæ­¥å¼€é”€ã€‚ å®žé™…å†™å…¥çš„æ˜¯åŽå°çš„Compactionçº¿ç¨‹ï¼Œcompactionçº¿ç¨‹è¯»å–å„ä¸ªç”¨æˆ·çº¿ç¨‹stagingBuffer,å°†å…¶ä¸­çš„eventçš„æ•°æ®æ ¹æ®ç¼–è¯‘é˜¶æ®µç”Ÿæˆçš„å­—å…¸ä¸­è®°å½•çš„ç±»åž‹ä¿¡æ¯è¿›è¡ŒåŽ‹ç¼©ã€‚ä¹‹åŽå†™å…¥ç£ç›˜ã€‚ ç¦»çº¿ NanoLogå®žé™…è½ç›˜çš„æ˜¯ä¸€ä¸ªåŽ‹ç¼©è¿‡çš„äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼Œè¦ç”Ÿæˆäººå¯è¯»çš„Logè¿˜éœ€è¦ä½¿ç”¨Decompressorè¿›è¡Œè§£åŽ‹ã€‚ ä½¿ç”¨ NanoLogç›®å‰æä¾›äº†2ç§é›†æˆæ–¹å¼ã€‚ preprocessorï¼šè¿™ç§æ–¹å¼åˆ©ç”¨ä¸€ä¸ªpythonè„šæœ¬ï¼Œåœ¨ç¼–è¯‘å‰ï¼Œå¯¹ä»£ç ä¸­çš„æ—¥å¿—è°ƒç”¨è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆæ–°çš„staticè°ƒç”¨. c++17 precompileï¼šè¿™ç§æ–¹å¼åˆ©ç”¨äº†c17çš„ä¸€äº›precompileç‰¹æ€§å®žçŽ°äº†å’Œpreprocessorä¸€æ ·å¯¹æ•ˆæžœï¼Œç”¨æˆ·ä¸éœ€è¦æå‰ç”¨preprocessorå¤„ç†ä»£ç ã€‚ ä½†éœ€è¦c17çš„ç‰¹æ€§æ”¯æŒã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>æ—¥å¿—æŠ€æœ¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-09-æŠ€æœ¯æ–‡æ‘˜]]></title>
    <url>%2F2020%2F12%2F12%2FTechnicalDigest%2F2020-09-%E6%8A%80%E6%9C%AF%E6%96%87%E6%91%98%2F</url>
    <content type="text"><![CDATA[ä»Šæ—¥å¤´æ¡å“è´¨ä¼˜åŒ–ï¼šå›¾æ–‡è¯¦æƒ…é¡µç§’å¼€å®žè·µ æˆ‘ä»¬æŠŠ WebView æˆªå›¾çš„å›¾ç‰‡è¿›è¡Œç¼©å°åˆ°åŽŸå›¾çš„ 1/6ï¼ŒéåŽ†æ£€æµ‹å›¾ç‰‡çš„åƒç´ ç‚¹ï¼Œå½“éžç™½è‰²çš„åƒç´ ç‚¹å¤§äºŽ 5% çš„æ—¶å€™æˆ‘ä»¬å°±è®¤ä¸ºæ˜¯éžç™½å±çš„æƒ…å†µï¼Œå¯ä»¥ç›¸å¯¹é«˜æ•ˆæ£€æµ‹å‡†ç¡®å¾—å‡ºè¯¦æƒ…é¡µæ˜¯å¦å‘ç”Ÿäº†ç™½å±ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡çº¿ä¸Šé¡µé¢åŠ è½½ç”¨æˆ·æ¯æ¬¡è¿›å…¥è¯¦æƒ…é¡µéƒ½è¦é€šè¿‡å¤šæ¬¡ç½‘ç»œåŠ è½½ï¼Œæžå®¹æ˜“å—ç½‘ç»œæ³¢åŠ¨çš„å½±å“ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œä¹Ÿæ— æ³•ä¿è¯é¡µé¢åŠ è½½çš„æ—¶é•¿å’ŒæˆåŠŸçŽ‡ï¼Œæžå¤§çš„å½±å“äº†ç”¨æˆ·ä½“éªŒã€‚ äºŽæ˜¯åœ¨å¤´æ¡ä¸­ï¼Œæˆ‘ä»¬å°†æ–°é—»ä¸­æ ‡é¢˜å’Œæ­£æ–‡å†…å®¹è¿›è¡Œæ‹†åˆ†ï¼ŒæŠŠå¤´æ¡è¯¦æƒ…é¡µçš„å…¬å…±æ ·å¼ CSS å’Œ é€»è¾‘ JS éƒ½æŠ½ç¦»å‡ºæ¥ï¼Œå½¢æˆä¸€ä¸ªç‹¬ç«‹è€Œå®Œå¤‡çš„è¯¦æƒ…é¡µæ¨¡æ¿ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠæ¨¡æ¿ç›´æŽ¥å†…ç½®åœ¨å®¢æˆ·ç«¯ä¸­ã€‚ å¿«é€ŸåŠ¨æ€è¶…æ—¶ç­–ç•¥ å•æ¬¡è¯·æ±‚ CDN çš„è¶…æ—¶æ—¶é—´ï¼Œæ ¹æ®ä¸Šæ¬¡æˆåŠŸè¯·æ±‚ CDN çš„å€¼è®¡ç®—ï¼Œå› å­ 1.5ï¼ˆz å€¼ï¼‰ã€‚ä¸”æœ€å°ä¸º 1sï¼ˆx å€¼ï¼‰ï¼Œæœ€å¤§ä¸º 4sï¼ˆy å€¼ï¼‰ã€‚è¶…è¿‡è¿™ä¸€æ—¶é—´ä¸å–æ¶ˆï¼Œç›´æŽ¥è¯·æ±‚ä¸‹ä¸ª CDNã€‚ å•æ¬¡è¯·æ±‚ CDN æœ‰ä¸€ä¸ªç¡¬æ€§è¶…æ—¶æ—¶é—´ 4sï¼ˆw å€¼ï¼Œw éœ€ &gt;=yï¼‰ï¼Œè¶…è¿‡è¿™ä¸€æ—¶é—´è¯·æ±‚å–æ¶ˆã€‚n ä¸ª CDN çš„è¯·æ±‚å…¨éƒ¨å–æ¶ˆåŽåé¦ˆç”¨æˆ·å¤±è´¥ã€‚ é«˜æ€§èƒ½å¼€å‘ IOä¼˜åŒ– zero copy å¤šè·¯å¤ç”¨ ç³»ç»Ÿä¼˜åŒ– çº¿ç¨‹æ±  æ— é”ç¼–ç¨‹ Wait-free Lock-free Obstruction-free ç½‘ç»œä¼˜åŒ– è¿›ç¨‹é—´é€šä¿¡ æŠ€æœ¯ä¼˜åŒ– RPC&amp;åºåˆ—åŒ–æŠ€æœ¯ æ•°æ®åº“ç´¢å¼•æŠ€æœ¯ ç¼“å­˜æŠ€æœ¯&amp;å¸ƒéš†è¿‡æ»¤å™¨ å…¨æ–‡æœç´¢ åˆ†å¸ƒå¼æŠ€æœ¯ è´Ÿè½½å‡è¡¡ åˆçº§å·¥ç¨‹å¸ˆåˆ°é«˜çº§å·¥ç¨‹å¸ˆ ä¸€ä½æž¶æž„å¸ˆçš„æ„Ÿæ‚Ÿï¼šè¿‡åº¦å¿™ç¢Œä½¿ä½ è½åŽ æå‡ºé—®é¢˜ éš¾äºŽ è§£å†³é—®é¢˜ å†³å®š ä¸è¦ä»€ä¹ˆ æ¯” è¦ä»€ä¹ˆ æ›´éš¾ éžåŠŸèƒ½æ€§éœ€æ±‚å†³å®šæž¶æž„ ç®€å• å¹¶ä¸å®¹æ˜“ æ°¸è¿œä¸è¦åœæ­¢ç¼–ç  é£Žé™©ä¼˜å…ˆ ä»Ž é—®é¢˜å¼€å§‹ï¼Œè€Œä¸æ˜¯æŠ€æœ¯ è¿‡åº¦å¿™ç¢Œä½¿ä½ è½åŽ å‘é‡ä½“ç³»(Embedding) æŠ€æœ¯è·¯å¾„ å›¾åµŒå…¥æŠ€æœ¯ LINE Node2Vec ä¸¤æ­¥èµ°ç­–ç•¥ï¼ˆå…¼é¡¾å¯æ‰©å±•æ€§å’Œç¨€ç–æ•°æ®ä¸Šçš„è¡¨è¯å¯é æ€§ï¼‰ ç¡®è®¤å•†å“æ˜¯æ•´ä¸ªç”µå•†åœºæ™¯ä¸­çš„æ ¸å¿ƒï¼Œå•ç‹¬å­¦ä¹ ä¼˜åŒ–å•†å“å‘é‡è¡¨å¾ å…¶ä»–å¯¹è±¡éƒ½å’Œå•†å“æœ‰ç›´æŽ¥æˆ–è€…é—´æŽ¥çš„å…³ç³»ï¼ˆäº¤äº’ï¼‰ï¼Œé€šè¿‡ä¸“é—¨çš„èšåˆæ¨¡å—å¾—åˆ°å¯¹è±¡è¡¨å¾ æˆ‘ä¸ºä»€ä¹ˆåå¯¹ä½¿ç”¨Rust ç¼–è¯‘æ—¶é—´æ˜¯æ‰€æœ‰äº‹æƒ…çš„å€å¢žå™¨ã€‚å¦‚æžœä¸€é—¨è¯­è¨€è¿è¡Œé€Ÿåº¦æ…¢ä½†ç¼–è¯‘é€Ÿåº¦å¿«ï¼Œé‚£ä¹ˆç”¨å®ƒç¼–å†™çš„ç¨‹åºä¹Ÿå¯ä»¥è¿è¡Œå¾—æ›´å¿«ï¼Œå› ä¸ºç¨‹åºå‘˜å°†æœ‰æ›´å¤šçš„æ—¶é—´æ¥åšä¼˜åŒ–ï¼ Ruståœ¨æ³›åž‹å›°å¢ƒä¸­æœ‰æ„é€‰æ‹©äº†æ…¢é€Ÿç¼–è¯‘å™¨ã€‚è¿™å¹¶ä¸æ˜¯ä¸–ç•Œæœ«æ—¥ï¼ˆæœ€ç»ˆçš„è¿è¡Œæ—¶æ€§èƒ½æ”¹è¿›æ˜¯çœŸçš„ï¼‰ï¼Œä½†å®ƒç¡®å®žæ„å‘³ç€ï¼Œåœ¨è¾ƒå¤§çš„é¡¹ç›®ä¸­ï¼Œä½ å¿…é¡»ç«­å°½å…¨åŠ›æ‰èƒ½èŽ·å¾—åˆç†çš„æž„å»ºæ—¶é—´ã€‚]]></content>
      <categories>
        <category>æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯æ–‡æ‘˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[k8s-servicedns]]></title>
    <url>%2F2019%2F07%2F07%2Fk8s-servicedns%2F</url>
    <content type="text"><![CDATA[åœ¨é›†ç¾¤NODEä¸­è§£æžKuebernetes serviceåŸŸå åªè¦å°†core DNSçš„cluster IPåŠ å…¥åˆ°/etc/resolv.conf å³å¯ã€‚ä½†æ³¨æ„ï¼Œé‡å¯ç³»ç»Ÿä¼šæ ¹æ®ç½‘å¡é‡å†™/etc/resolv.conf]]></content>
      <categories>
        <category>k8s/docker</category>
      </categories>
      <tags>
        <tag>kubernetes</tag>
        <tag>Network</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[shared_memory]]></title>
    <url>%2F2019%2F04%2F23%2FLinux%2Fshared-memory%2F</url>
    <content type="text"><![CDATA[[è½¬]C/C++ç»å…¸æ¡ˆä¾‹ï¼šLinuxéš¾ç‚¹åˆ†æžä¹‹å…±äº«å†…å­˜shmå’Œmmapçš„æ¯”è¾ƒ å…±äº«å†…å­˜å…è®¸ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹å…±äº«ä¸€ç»™å®šçš„å­˜å‚¨åŒºï¼Œå› ä¸ºæ•°æ®ä¸éœ€è¦æ¥å›žå¤åˆ¶ï¼Œæ‰€ä»¥æ˜¯æœ€å¿«çš„ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚å…±äº«å†…å­˜å¯ä»¥é€šè¿‡mmap()æ˜ å°„æ™®é€šæ–‡ä»¶(ç‰¹æ®Šæƒ…å†µä¸‹è¿˜å¯ä»¥é‡‡ç”¨åŒ¿åæ˜ å°„)æœºåˆ¶å®žçŽ°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç³»ç»ŸVå…±äº«å†…å­˜æœºåˆ¶å®žçŽ°ã€‚åº”ç”¨æŽ¥å£å’ŒåŽŸç†å¾ˆç®€å•ï¼Œå†…éƒ¨æœºåˆ¶å¤æ‚ã€‚ä¸ºäº†å®žçŽ°æ›´å®‰å…¨é€šä¿¡ï¼Œå¾€å¾€è¿˜ä¸Žä¿¡å·ç¯ç­‰åŒæ­¥æœºåˆ¶å…±åŒä½¿ç”¨ã€‚ 1. mmapçš„æœºåˆ¶å¦‚ï¼šå°±æ˜¯åœ¨ç£ç›˜ä¸Šå»ºç«‹ä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªè¿›ç¨‹å­˜å‚¨å™¨é‡Œé¢ï¼Œå•ç‹¬å¼€è¾Ÿä¸€ä¸ªç©ºé—´æ¥è¿›è¡Œæ˜ å°„ã€‚å¦‚æžœå¤šè¿›ç¨‹çš„è¯ï¼Œé‚£ä¹ˆä¸ä¼šå¯¹å®žé™…çš„ç‰©ç†å­˜å‚¨å™¨(ä¸»å­˜)æ¶ˆè€—å¤ªå¤§ã€‚ 2. shmçš„æœºåˆ¶ï¼šæ¯ä¸ªè¿›ç¨‹çš„å…±äº«å†…å­˜éƒ½ç›´æŽ¥æ˜ å°„åˆ°å®žé™…ç‰©ç†å­˜å‚¨å™¨é‡Œé¢ã€‚ mmapå‡½æ•°æ˜¯unix/linuxä¸‹çš„ç³»ç»Ÿè°ƒç”¨ï¼Œæ¥çœ‹ã€ŠUnix Netword programmingã€‹å·äºŒ12.2èŠ‚æœ‰è¯¦ç»†ä»‹ç»ã€‚ mmapç³»ç»Ÿè°ƒç”¨å¹¶ä¸æ˜¯å®Œå…¨ä¸ºäº†ç”¨äºŽå…±äº«å†…å­˜è€Œè®¾è®¡çš„ã€‚å®ƒæœ¬èº«æä¾›äº†ä¸åŒäºŽä¸€èˆ¬å¯¹æ™®é€šæ–‡ä»¶çš„è®¿é—®æ–¹å¼ï¼Œè¿›ç¨‹å¯ä»¥åƒè¯»å†™å†…å­˜ä¸€æ ·å¯¹æ™®é€šæ–‡ä»¶çš„æ“ä½œã€‚è€ŒPosixæˆ–ç³»ç»ŸVçš„å…±äº«å†…å­˜IPCåˆ™çº¯ç²¹ç”¨äºŽå…±äº«ç›®çš„ï¼Œå½“ç„¶mmap()å®žçŽ°å…±äº«å†…å­˜ä¹Ÿæ˜¯å…¶ä¸»è¦åº”ç”¨ä¹‹ä¸€ã€‚ mmapç³»ç»Ÿè°ƒç”¨ä½¿å¾—è¿›ç¨‹ä¹‹é—´é€šè¿‡æ˜ å°„åŒä¸€ä¸ªæ™®é€šæ–‡ä»¶å®žçŽ°å…±äº«å†…å­˜ã€‚æ™®é€šæ–‡ä»¶è¢«æ˜ å°„åˆ°è¿›ç¨‹åœ°å€ç©ºé—´åŽï¼Œè¿›ç¨‹å¯ä»¥åƒè®¿é—®æ™®é€šå†…å­˜ä¸€æ ·å¯¹æ–‡ä»¶è¿›è¡Œè®¿é—®ï¼Œä¸å¿…å† è°ƒç”¨read()ï¼Œwrite()ç­‰æ“ä½œã€‚mmapå¹¶ä¸åˆ†é…ç©ºé—´, åªæ˜¯å°†æ–‡ä»¶æ˜ å°„åˆ°è°ƒç”¨è¿›ç¨‹çš„åœ°å€ç©ºé—´é‡Œ, ç„¶åŽä½ å°±å¯ä»¥ç”¨memcpyç­‰æ“ä½œå†™æ–‡ä»¶, è€Œä¸ç”¨write()äº†.å†™å®ŒåŽç”¨msync()åŒæ­¥ä¸€ä¸‹, ä½ æ‰€å†™çš„å†…å®¹å°±ä¿å­˜åˆ°æ–‡ä»¶é‡Œäº†. ä¸è¿‡è¿™ç§æ–¹å¼æ²¡åŠžæ³•å¢žåŠ æ–‡ä»¶çš„é•¿åº¦, å› ä¸ºè¦æ˜ å°„çš„é•¿åº¦åœ¨è°ƒç”¨mmap()çš„æ—¶å€™å°±å†³å®šäº†. ç®€å•è¯´å°±æ˜¯æŠŠä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹åœ¨å†…å­˜é‡Œé¢åšä¸€ä¸ªæ˜ åƒï¼Œå†…å­˜æ¯”ç£ç›˜å¿«äº›ã€‚ æ€»ç»“ï¼š 1ã€mmapæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯æ˜ å°„å†…å­˜ï¼Œå®ƒæŠŠæ™®é€šæ–‡ä»¶æ˜ å°„ä¸ºå®žé™…ç‰©ç†å†…å­˜é¡µï¼Œè®¿é—®å®ƒå°±å’Œè®¿é—®ç‰©ç†å†…å­˜ä¸€æ ·(è¿™ä¹Ÿå°±å’Œshmçš„åŠŸèƒ½ä¸€æ ·äº†)(åŒæ—¶ä¸ç”¨åˆ·æ–°åˆ°æ–‡ä»¶) 2ã€mmapå¯ä»¥æ˜ å°„æ–‡ä»¶ï¼Œä¸ç¡®å®šä¼šä¸ä¼šåƒwindowsâ€œå†…å­˜æ˜ å°„æ–‡ä»¶â€ä¸€æ ·çš„åŠŸèƒ½ï¼Œå¦‚æžœæ˜¯ï¼Œé‚£ä¹ˆä»–å°±èƒ½æ˜ å°„å¥½å‡ Gç”šè‡³å¥½å‡ ç™¾Gçš„å†…å­˜æ•°æ®ï¼Œå¯¹å¤§æ•°æ®å¤„ç†å°†æä¾›å¼ºå¤§åŠŸèƒ½äº†ã€‚ 3ã€shmåªåšå†…å­˜æ˜ å°„ï¼Œå’Œmmapç¬¬ä¸€ä¸ªåŠŸèƒ½ä¸€æ ·!åªä¸è¿‡ä¸æ˜¯æ™®é€šæ–‡ä»¶è€Œå·²ï¼Œä½†éƒ½æ˜¯ç‰©ç†å†…å­˜ã€‚ æœ¬æ–‡ç‰ˆæƒå½’é»‘é©¬ç¨‹åºå‘˜C/C++å­¦é™¢æ‰€æœ‰ï¼Œæ¬¢è¿Žè½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜Žä½œè€…å‡ºå¤„ã€‚è°¢è°¢ï¼ ä½œè€…ï¼šé»‘é©¬ç¨‹åºå‘˜C/C++åŸ¹è®­å­¦é™¢ é¦–å‘ï¼šhttp://c.itheima.com/]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>å¹¶å‘ç¼–ç¨‹</tag>
        <tag>Linux è¿›é˜¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[optimize_program]]></title>
    <url>%2F2019%2F04%2F17%2FPrograming%2Foptimize-program%2F</url>
    <content type="text"><![CDATA[Tips for program optimization ç¼–ç ä¼˜åŒ– æ°å½“çš„ä½¿ç”¨ inlineæ¥å‡å°‘å‡½æ•°è°ƒç”¨é€ æˆçš„å¼€é”€ã€‚ æ¶ˆé™¤è¿žç»­çš„é‡å¤è°ƒç”¨ï¼Œå°†ç»“æžœå›ºå®šçš„é‡å¤è®¡ç®—ç§»å‡ºå¾ªçŽ¯ä½“ã€‚å¦‚ï¼šæ•°ç»„çš„size() æ¶ˆé™¤ä¸å¿…è¦çš„å†…å­˜è®¿é—®ï¼Œå¦‚:å°†ç»“æžœå­˜åœ¨ä¸€ä¸ªä¸´æ—¶å˜é‡ä¸­ï¼Œç»“æžœè®¡ç®—å®ŒæˆåŽä¸€æ¬¡æ€§å†™å…¥åˆ°å†…å­˜ ç»“æž„åŒ–ä¼˜åŒ– é€šè¿‡äº¤æ¢ã€ç»„åˆæˆ–åˆ†é…ç­‰æ–¹å¼ï¼Œå‡å°‘è€—æ—¶æ“ä½œ(å¦‚ï¼šä¹˜é™¤æ³•)çš„è®¡ç®—æ¬¡æ•°ã€‚ é‡‡ç”¨å¾ªçŽ¯å±•å¼€(loop unrolling)æŠ€æœ¯ï¼Œå¾ªçŽ¯å±•å¼€åœ¨2æ–¹é¢æå‡äº†ç¨‹åºæ€§èƒ½ï¼š å‡å°‘æ¡ä»¶åˆ¤æ–­å’Œå¾ªçŽ¯è®¡æ•°è®¡ç®—çš„æ“ä½œæ•°é‡ å¯ä»¥åˆå¹¶ä¸€äº›ç›¸å…³æ“ä½œï¼Œå‡å°‘å…³é”®è·¯å¾„ä¸Šçš„æ“ä½œæ•°é‡ã€‚ åˆ©ç”¨å¤„ç†å™¨æµæ°´çº¿ç‰¹æ€§ï¼Œåˆ†ç¦»æ“ä½œï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨æµæ°´çº¿ä¸­å¹¶è¡Œã€‚ åœ¨åˆ†æ”¯è¯­å¥ä¸­ä½¿ç”¨ç‰¹æ€§ï¼Œå¹¶å°½é‡ä½¿å¾—åˆ¤æ–­æ¡ä»¶åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æˆç«‹ï¼Œå‡å°‘åˆ†æ”¯é¢„æµ‹é”™è¯¯å¸¦æ¥çš„æƒ©ç½šã€‚ ä¿æŒä½ çš„ä»£ç cache friendly,ä¾‹ï¼šå°½ç®¡æŸ¥æ‰¾æ ‘ç­‰æ•°æ®ç»“æž„ç®—æ³•å¤æ‚åº¦æ›´ä½Žï¼Œä½†è€ƒè™‘åˆ°cacheçš„å­˜åœ¨ï¼Œæ•°ç»„ç­‰é¡ºåºå‚¨å­˜ç»“æž„çš„æ•´ä½“æ€§èƒ½å¯èƒ½ä¼šæ›´é«˜ã€‚ å¹¶å‘ä¼˜åŒ–]]></content>
      <categories>
        <category>ä»£ç ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>ç¼–ç¨‹è¿›é˜¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[c++å†…å­˜æ¨¡åž‹]]></title>
    <url>%2F2019%2F04%2F15%2FC%2B%2B%2Fc-mamorymodel%2F</url>
    <content type="text"><![CDATA[é—®é¢˜å¼•å…¥ ä¹±åº è¯´åˆ°å†…å­˜æ¨¡åž‹ï¼Œé¦–å…ˆéœ€è¦æ˜Žç¡®ä¸€ä¸ªæ™®éå­˜åœ¨ï¼Œä½†å´æœªå¿…äººäººéƒ½æ³¨æ„åˆ°çš„äº‹å®žï¼šç¨‹åºé€šå¸¸å¹¶ä¸æ˜¯æ€»æŒ‰ç€ç…§æºç ä¸­çš„é¡ºåºä¸€ä¸€æ‰§è¡Œï¼Œæ­¤è°“ä¹‹ä¹±åºï¼Œä¹±åºäº§ç”Ÿçš„åŽŸå› å¯èƒ½æœ‰å¥½å‡ ç§ï¼š ç¼–è¯‘å™¨å‡ºäºŽä¼˜åŒ–çš„ç›®çš„ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°†æºç çš„é¡ºåºè¿›è¡Œäº¤æ¢ã€‚ ç¨‹åºæ‰§è¡ŒæœŸé—´ï¼ŒæŒ‡ä»¤æµæ°´è¢« cpu ä¹±åºæ‰§è¡Œã€‚ inherent cache çš„åˆ†å±‚åŠåˆ·æ–°ç­–ç•¥ä½¿å¾—æœ‰æ—¶å€™æŸäº›å†™è¯»æ“ä½œçš„ä»Žæ•ˆæžœä¸Šçœ‹ï¼Œé¡ºåºè¢«é‡æŽ’ã€‚ ä»Žä¹±åºçš„ç§ç±»æ¥çœ‹åˆ†ä¸ºä»¥ä¸‹å››ç±»ï¼š å†™å†™ä¹±åº(store store), å‰é¢çš„å†™æ“ä½œè¢«æ”¾åˆ°äº†åŽé¢çš„æ“ä½œä¹‹åŽï¼Œæ¯”å¦‚ï¼š 12345a = 3;b = 4;è¢«ä¹±åºä¸ºï¼šb = 4;a = 3; å†™è¯»ä¹±åº(store load)ï¼Œå‰é¢çš„å†™æ“ä½œè¢«æ”¾åˆ°äº†åŽé¢çš„è¯»æ“ä½œä¹‹åŽï¼Œæ¯”å¦‚ï¼š 12345a = 3;load(b);è¢«ä¹±åºä¸ºload(b);a = 3; è¯»è¯»ä¹±åº(load load)ï¼Œ å‰é¢çš„è¯»æ“ä½œè¢«æ”¾åˆ°äº†åŽä¸€ä¸ªè¯»æ“ä½œä¹‹åŽï¼Œæ¯”å¦‚ï¼š 12345load(a);load(b);è¢«ä¹±åºä¸ºï¼šload(b);load(a); è¯»å†™ä¹±åº(load store), å‰é¢çš„è¯»æ“ä½œè¢«æ”¾åˆ°äº†åŽä¸€ä¸ªå†™æ“ä½œä¹‹åŽï¼Œæ¯”å¦‚ï¼š 12345load(a);b = 4;è¢«ä¹±åºä¸ºï¼šb = 4;load(a); ç¨‹åºçš„ä¹±åºåœ¨å•çº¿ç¨‹çš„ä¸–ç•Œé‡Œå¤šæ•°æ—¶å€™å¹¶æ²¡æœ‰å¼•èµ·å¤ªå¤šå¼•äººæ³¨æ„çš„é—®é¢˜ï¼Œä½†åœ¨å¤šçº¿ç¨‹çš„ä¸–ç•Œé‡Œï¼Œè¿™äº›ä¹±åºå°±åˆ¶é€ äº†ç‰¹åˆ«çš„éº»çƒ¦ï¼Œç©¶å…¶åŽŸå› ï¼Œæœ€ä¸»è¦çš„æœ‰2ä¸ªï¼š å¹¶å‘ä¸èƒ½ä¿è¯ä¿®æ”¹å’Œè®¿é—®å…±äº«å˜é‡çš„æ“ä½œåŽŸå­æ€§ï¼Œä½¿å¾—ä¸€äº›ä¸­é—´çŠ¶æ€æš´éœ²äº†å‡ºåŽ»ï¼Œå› æ­¤åƒ mutexï¼Œå„ç§ lock ä¹‹ç±»çš„ä¸œè¥¿åœ¨å†™å¤šçº¿ç¨‹æ—¶è¢«é¢‘ç¹åœ°ä½¿ç”¨ã€‚ å˜é‡è¢«ä¿®æ”¹åŽï¼Œè¯¥ä¿®æ”¹æœªå¿…èƒ½è¢«å¦ä¸€ä¸ªçº¿ç¨‹åŠæ—¶è§‚å¯Ÿåˆ°ï¼Œå› æ­¤éœ€è¦â€œåŒæ­¥â€ã€‚ è§£å†³åŒæ­¥é—®é¢˜å°±éœ€è¦ç¡®å®šå†…å­˜æ¨¡åž‹ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ç¡®å®šçº¿ç¨‹é—´åº”è¯¥æ€Žä¹ˆé€šè¿‡å…±äº«å†…å­˜æ¥è¿›è¡Œäº¤äº’(æŸ¥çœ‹ç»´åŸºç™¾ç§‘). memory model å†…å­˜æ¨¡åž‹æ‰€è¦è¡¨è¾¾çš„å†…å®¹ä¸»è¦æ˜¯æ€Žä¹ˆæè¿°ä¸€ä¸ªå†…å­˜æ“ä½œçš„æ•ˆæžœï¼Œåœ¨å„ä¸ªçº¿ç¨‹é—´çš„å¯è§æ€§çš„é—®é¢˜ã€‚ä¿®æ”¹æ“ä½œçš„æ•ˆæžœä¸èƒ½åŠæ—¶è¢«åˆ«çš„çº¿ç¨‹çœ‹è§çš„åŽŸå› æœ‰å¾ˆå¤šï¼Œæ¯”è¾ƒæ˜Žæ˜¾çš„ä¸€ä¸ªæ˜¯ï¼Œå¯¹è®¡ç®—æœºæ¥è¯´ï¼Œé€šå¸¸å†…å­˜çš„å†™æ“ä½œç›¸å¯¹äºŽè¯»æ“ä½œæ˜¯æ˜‚è´µå¾ˆå¤šå¾ˆå¤šçš„ï¼Œå› æ­¤å¯¹å†™æ“ä½œçš„ä¼˜åŒ–æ˜¯æå‡æ€§èƒ½çš„å…³é”®ï¼Œè€Œè¿™äº›å¯¹å†™æ“ä½œçš„ç§ç§ä¼˜åŒ–ï¼Œå¯¼è‡´äº†ä¸€ä¸ªå¾ˆæ™®éçš„çŽ°è±¡å‡ºçŽ°ï¼šå†™æ“ä½œé€šå¸¸ä¼šåœ¨ CPU å†…éƒ¨çš„ cache ä¸­ç¼“å­˜èµ·æ¥ã€‚è¿™å°±å¯¼è‡´äº†åœ¨ä¸€ä¸ª CPU é‡Œæ‰§è¡Œä¸€ä¸ªå†™æ“ä½œä¹‹åŽï¼Œè¯¥æ“ä½œå¯¼è‡´çš„å†…å­˜å˜åŒ–å´ä¸ä¸€å®šä¼šé©¬ä¸Šå°±è¢«å¦ä¸€ä¸ª CPU æ‰€çœ‹åˆ°ï¼Œè¿™ä»Žå¦ä¸€ä¸ªè§’åº¦è®²ï¼Œæ•ˆæžœä¸Šå…¶å®žå°±æ˜¯è¯»å†™ä¹±åºäº†ã€‚ 1234cpu1 æ‰§è¡Œå¦‚ä¸‹ï¼ša = 3;cpu2 æ‰§è¡Œå¦‚ä¸‹ï¼šload(a); å¯¹å¦‚ä¸Šä»£ç ï¼Œå‡è®¾ a çš„åˆå§‹å€¼æ˜¯ 0, ç„¶åŽ cpu1 å…ˆæ‰§è¡Œï¼Œä¹‹åŽ cpu2 å†æ‰§è¡Œï¼Œå‡è®¾å…¶ä¸­è¯»å†™éƒ½æ˜¯åŽŸå­çš„ï¼Œé‚£ä¹ˆæœ€åŽ cpu2 å¦‚æžœè¯»åˆ° a = 0 ä¹Ÿå…¶å®žä¸æ˜¯ä»€ä¹ˆå¥‡æ€ªäº‹æƒ…ã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™ç§åœ¨æŸä¸ªçº¿ç¨‹é‡ŒæˆåŠŸä¿®æ”¹äº†å…¨å±€å˜é‡ï¼Œå±…ç„¶åœ¨å¦ä¸€ä¸ªçº¿ç¨‹é‡Œçœ‹ä¸åˆ°æ•ˆæžœçš„åŽæžœæ˜¯å¾ˆä¸¥é‡çš„ã€‚ å› æ­¤å¿…é¡»è¦æœ‰å¿…è¦çš„æ‰‹æ®µå¯¹è¿™ç§ä¿®æ”¹å…¬å…±å˜é‡çš„è¡Œä¸ºè¿›è¡ŒåŒæ­¥ã€‚ c++11 ä¸­çš„ atomic library ä¸­å®šä¹‰äº†ä»¥ä¸‹6ç§è¯­ä¹‰æ¥å¯¹å†…å­˜æ“ä½œçš„è¡Œä¸ºè¿›è¡Œçº¦å®šï¼Œè¿™äº›è¯­ä¹‰åˆ†åˆ«è§„å®šäº†ä¸åŒçš„å†…å­˜æ“ä½œåœ¨å…¶å®ƒçº¿ç¨‹ä¸­çš„å¯è§æ€§é—®é¢˜ï¼š 12345678enum memory_order &#123; memory_order_relaxed, //å¯¹å…¶å®ƒè¯»å†™æ“ä½œæ²¡æœ‰åŒæ­¥ï¼Œåªä¿è¯æœ¬æ“ä½œæ˜¯åŽŸå­çš„ memory_order_consume, //loadæ“ä½œï¼Œå½“å‰çº¿ç¨‹ä¾èµ–è¯¥åŽŸå­å˜é‡çš„è®¿å­˜æ“ä½œä¸èƒ½reorderåˆ°è¯¥æŒ‡ä»¤ä¹‹å‰ï¼Œå¯¹å…¶ä»–çº¿ç¨‹storeæ“ä½œ(release)å¯è§ memory_order_acquire, //loadæ“ä½œï¼Œå½“å‰çº¿ç¨‹æ‰€æœ‰è®¿å­˜æ“ä½œä¸èƒ½reorderåˆ°è¯¥æŒ‡ä»¤ä¹‹å‰ï¼Œå¯¹å…¶ä»–çº¿ç¨‹storeæ“ä½œ(release)å¯è§ memory_order_release, //storeæ“ä½œï¼Œå½“å‰çº¿ç¨‹æ‰€æœ‰è®¿å­˜æ“ä½œä¸èƒ½reorderåˆ°è¯¥æŒ‡ä»¤ä¹‹åŽï¼Œå¯¹å…¶ä»–çº¿ç¨‹loadæ“ä½œ(consume)å¯è§ memory_order_acq_rel, //load/storeæ“ä½œï¼Œmemory_order_acquire + memory_order_release memory_order_seq_cst //memory_order_acq_rel + é¡ºåºä¸€è‡´æ€§(sequential consisten)&#125;;]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++è¿›é˜¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Lock-Free ç¼–ç¨‹]]></title>
    <url>%2F2019%2F04%2F15%2FPrograming%2Flock-free%2F</url>
    <content type="text"><![CDATA[Lock-Free ç¼–ç¨‹ Lock-Free ç¼–ç¨‹æè¿°äº†ä»£ç æ‰€è¡¨è¿°çš„æ€§è´¨ï¼Œè€Œæ²¡æœ‰é™å®šæˆ–è¦æ±‚ä»£ç è¯¥å¦‚ä½•ç¼–å†™ã€‚ä¸€èˆ¬ç†è§£æ¥è®²å³å°½é‡å°‘çš„ä½¿ç”¨LOCKæˆ–MUTEXç­‰äº’æ–¥é‡æˆ–é”ï¼Œä»¥é™ä½Žçº¿ç¨‹é—´çš„ç›¸äº’é˜»å¡žã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ¡†å›¾æ¥åˆ¤æ–­æ˜¯å¦ç¬¦åˆlock-free. ä»Žè¿™ä¸ªæ„ä¹‰ä¸Šæ¥è¯´ï¼ŒLock-Free ä¸­çš„ â€œLockâ€ å¹¶æ²¡æœ‰ç›´æŽ¥æ¶‰åŠ Mutex æˆ– Lock ç­‰äº’æ–¥é‡ç»“æž„ï¼Œè€Œæ˜¯æè¿°äº†åº”ç”¨ç¨‹åºå› æŸç§åŽŸå› è¢«é˜»å¡žçš„å¯èƒ½æ€§ï¼Œä¾‹å¦‚å¯èƒ½å› ä¸ºæ­»é”ï¼ˆDeadLockï¼‰ã€æ´»é”ï¼ˆLiveLockï¼‰æˆ–çº¿ç¨‹è°ƒåº¦ï¼ˆThread Schedulingï¼‰å¯¼è‡´ä¼˜å…ˆçº§è¢«æŠ¢å ç­‰ã€‚ Lock-Free ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ•ˆæžœå°±æ˜¯ï¼Œåœ¨ä¸€ç³»åˆ—è®¿é—® Lock-Free æ“ä½œçš„çº¿ç¨‹ä¸­ï¼Œå¦‚æžœæŸä¸€ä¸ªçº¿ç¨‹è¢«æŒ‚èµ·ï¼Œé‚£ä¹ˆå…¶ç»å¯¹ä¸ä¼šé˜»æ­¢å…¶ä»–çº¿ç¨‹ç»§ç»­è¿è¡Œï¼ˆNon-Blockingï¼‰ã€‚ é€šå¸¸ï¼Œåº”è¯¥æ²¡æœ‰äººä¼šæœŸå¾…ä¸€ä¸ªå¤§åž‹çš„åº”ç”¨ç¨‹åºä¸­å…¨éƒ¨é‡‡ç”¨ Lock-Free æŠ€æœ¯ï¼Œåº”æ˜¯åœ¨æœ‰ç‰¹å®šéœ€æ±‚çš„ç±»çš„è®¾è®¡ä¸Šé‡‡ç”¨ Lock-Free æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœéœ€è¦ä¸€ä¸ª Stack ç±»åº”å¯¹å¤šçº¿ç¨‹å¹¶å‘è®¿é—®çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ Lock-Free ç›¸å…³æŠ€æœ¯å®žçŽ° ConcurrentStack ç±»ï¼Œåœ¨å…¶ Push å’Œ Pop æ“ä½œä¸­è¿›è¡Œå…·ä½“çš„å®žçŽ°ã€‚åœ¨ä½¿ç”¨ Lock-Free æŠ€æœ¯å‰ï¼Œéœ€è¦é¢„å…ˆè€ƒè™‘ä¸€äº›è½¯ä»¶å·¥ç¨‹æ–¹é¢çš„æˆæœ¬ï¼š Lock-Free æŠ€æœ¯å¾ˆå®¹æ˜“è¢«é”™è¯¯çš„ä½¿ç”¨ï¼Œä»£ç åŽæœŸçš„ç»´æŠ¤ä¸­ä¹Ÿä¸å®¹æ˜“æ„è¯†åˆ°ï¼Œæ‰€ä»¥éžå¸¸å®¹æ˜“å¼•å…¥ Bugï¼Œè€Œä¸”è¿™æ ·çš„ Bug è¿˜éžå¸¸éš¾å®šä½ã€‚ Lock-Free æŠ€æœ¯çš„ç»†èŠ‚ä¸Šä¾èµ–äºŽå†…å­˜ç³»ç»Ÿæ¨¡åž‹ã€ç¼–è¯‘å™¨ä¼˜åŒ–ã€CPUæž¶æž„ç­‰ï¼Œè€Œè¿™åœ¨ä½¿ç”¨ Lock æœºåˆ¶æ—¶æ˜¯ä¸ç›¸å…³çš„ï¼Œæ‰€ä»¥ä¹Ÿå¢žåŠ äº†ç†è§£å’Œç»´æŠ¤çš„éš¾åº¦ã€‚ Lock-Free å®žçŽ°æŠ€æœ¯ æˆ‘ä»¬è¦æ»¡è¶³ Lock-Free ç¼–ç¨‹ä¸­çš„éžé˜»å¡žæ¡ä»¶æ—¶ï¼Œæœ‰ä¸€ç³»åˆ—çš„æŠ€æœ¯å’Œæ–¹æ³•å¯ä¾›ä½¿ç”¨ï¼Œå¦‚åŽŸå­æ“ä½œï¼ˆAtomic Operationsï¼‰ã€å†…å­˜æ …æ ï¼ˆMemory Barrierï¼‰ã€é¿å… ABA é—®é¢˜ï¼ˆAvoiding ABA Problemï¼‰ç­‰ã€‚ä¸‹å›¾æä¾›äº†ä¸€äº›åˆ¤æ–­ä¾æ®ï¼š åŽŸå­æ“ä½œ(Atomic Operations) åŽŸå­æ“ä½œï¼ˆAtomic Operationsï¼‰åœ¨æ“ä½œå†…å­˜æ—¶å¯ä»¥è¢«çœ‹åšæ˜¯ä¸å¯åˆ†å‰²çš„ï¼ˆIndivisibleï¼‰ï¼Œå…¶ä»–çº¿ç¨‹ä¸ä¼šæ‰“æ–­è¯¥æ“ä½œï¼Œæ²¡æœ‰æ“ä½œåªè¢«å®Œæˆä¸€éƒ¨åˆ†ä¹‹è¯´ã€‚åœ¨çŽ°ä»£çš„ CPU å¤„ç†å™¨ä¸Šï¼Œå¾ˆå¤šæ“ä½œå·²ç»è¢«è®¾è®¡ä¸ºåŽŸå­çš„ï¼Œä¾‹å¦‚å¯¹é½è¯»ï¼ˆAligned Readï¼‰å’Œå¯¹é½å†™ï¼ˆAligned Writeï¼‰ç­‰ã€‚ åœ¨C++ä¸­å¯ä»¥é€šè¿‡å¼•å…¥æ¥è¿›è¡ŒåŽŸå­æ“ä½œã€‚ RMW æ“ä½œåœ¨ä¸åŒçš„ CPU å®¶æ—ä¸­æ˜¯é€šè¿‡ä¸åŒçš„æ–¹å¼æ¥æ”¯æŒçš„ã€‚ x86/64 å’Œ Itanium æž¶æž„é€šè¿‡ Compare-And-Swap (CAS)æ–¹å¼æ¥å®žçŽ°ï¼› PowerPCã€MIPS å’Œ ARM æž¶æž„é€šè¿‡Load-Link/Store-Conditional (LL/SC) æ–¹å¼æ¥å®žçŽ°ï¼› Compare-And-Swap å¾ªçŽ¯ï¼ˆCAS Loopsï¼‰ CASæ˜¯ç”±CPUæä¾›çš„åŽŸå­æ“ä½œã€‚ é€šå¸¸å¼€å‘äººå‘˜ä¼šè®¾è®¡åœ¨ä¸€ä¸ªå¾ªçŽ¯ä¸­é‡å¤åœ°æ‰§è¡Œ CAS æ“ä½œä»¥è¯•å›¾å®Œæˆä¸€ä¸ªäº‹åŠ¡æ“ä½œã€‚è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸º 3 æ­¥ï¼š ä»ŽæŒ‡å®šçš„å†…å­˜ä½ç½®è¯»å–åŽŸå§‹çš„å€¼ï¼› æ ¹æ®è¯»å–åˆ°çš„åŽŸå§‹çš„å€¼è®¡ç®—å‡ºæ–°çš„å€¼ï¼› æ£€æµ‹å¦‚æžœå†…å­˜ä½ç½®ä»ç„¶æ˜¯åŽŸå§‹çš„å€¼æ—¶ï¼Œåˆ™å°†æ–°å€¼å†™å…¥è¯¥å†…å­˜ä½ç½®ï¼› ABA é—®é¢˜ï¼ˆABA Problemï¼‰ åœ¨å®žçŽ° CAS Loops æ—¶ï¼Œå½“å­˜åœ¨å¤šä¸ªçº¿ç¨‹äº¤é”™åœ°å¯¹å…±äº«çš„å†…å­˜åœ°å€è¿›è¡Œå¤„ç†æ—¶ï¼Œå¦‚æžœå®žçŽ°è®¾è®¡çš„ä¸æ­£ç¡®ï¼Œå°†æœ‰å¯èƒ½é­é‡ ABA é—®é¢˜ã€‚ è‹¥çº¿ç¨‹å¯¹åŒä¸€å†…å­˜åœ°å€è¿›è¡Œäº†ä¸¤æ¬¡è¯»æ“ä½œï¼Œè€Œä¸¤æ¬¡è¯»æ“ä½œå¾—åˆ°äº†ç›¸åŒçš„å€¼ï¼Œé€šè¿‡åˆ¤æ–­ â€œå€¼ç›¸åŒâ€ æ¥åˆ¤å®š â€œå€¼æ²¡å˜â€ã€‚ç„¶è€Œï¼Œåœ¨è¿™ä¸¤æ¬¡è¯»æ“ä½œçš„æ—¶é—´é—´éš”ä¹‹å†…ï¼Œå¦å¤–çš„çº¿ç¨‹å¯èƒ½å·²ç»ä¿®æ”¹äº†è¯¥å€¼ï¼Œè¿™æ ·å°±ç›¸å½“äºŽæ¬ºéª—äº†å‰é¢çš„çº¿ç¨‹ï¼Œä½¿å…¶è®¤ä¸º â€œå€¼æ²¡å˜â€ï¼Œå®žé™…ä¸Šå€¼å·²ç»è¢«ç¯¡æ”¹äº†ã€‚ ä¸‹é¢æ˜¯ ABA é—®é¢˜å‘ç”Ÿçš„è¿‡ç¨‹ï¼š T1 çº¿ç¨‹ä»Žå…±äº«çš„å†…å­˜åœ°å€è¯»å–å€¼ Aï¼› T1 çº¿ç¨‹è¢«æŠ¢å ï¼Œçº¿ç¨‹ T2 å¼€å§‹è¿è¡Œï¼› T2 çº¿ç¨‹å°†å…±äº«çš„å†…å­˜åœ°å€ä¸­çš„å€¼ç”± A ä¿®æ”¹æˆ Bï¼Œç„¶åŽåˆä¿®æ”¹å›ž Aï¼› T1 çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼Œè¯»å–å…±äº«çš„å†…å­˜åœ°å€ä¸­çš„å€¼ä»ä¸º Aï¼Œè®¤ä¸ºæ²¡æœ‰æ”¹å˜ç„¶åŽç»§ç»­æ‰§è¡Œï¼› ç”±äºŽ T1 å¹¶ä¸çŸ¥é“åœ¨ä¸¤æ¬¡è¯»å–çš„å€¼ A å·²ç»è¢« â€œéšæ€§â€ çš„ä¿®æ”¹è¿‡ï¼Œæ‰€ä»¥å¯èƒ½äº§ç”Ÿæ— æ³•é¢„æœŸçš„ç»“æžœã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨ List æ¥å­˜æ”¾ Itemï¼Œå¦‚æžœå°†ä¸€ä¸ª Item ä»Ž List ä¸­ç§»é™¤å¹¶é‡Šæ”¾äº†å…¶å†…å­˜åœ°å€ï¼Œç„¶åŽé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„ Itemï¼Œå¹¶å°†å…¶æ·»åŠ è‡³ List ä¸­ï¼Œç”±äºŽä¼˜åŒ–ç­‰å› ç´ ï¼Œæœ‰å¯èƒ½æ–°åˆ›å»ºçš„ Item çš„å†…å­˜åœ°å€ä¸Žå‰é¢åˆ é™¤çš„ Item çš„å†…å­˜åœ°å€æ˜¯ç›¸åŒçš„ï¼Œå¯¼è‡´æŒ‡å‘æ–°çš„ Item çš„æŒ‡é’ˆå› æ­¤ä¹Ÿç­‰åŒäºŽæŒ‡å‘æ—§çš„ Item çš„æŒ‡é’ˆï¼Œè¿™å°†å¼•å‘ ABA é—®é¢˜ã€‚ å†…å­˜æ¨¡åž‹ åœ¨å¤šçº¿ç¨‹ç³»ç»Ÿä¸­ï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å…±äº«çš„å†…å­˜æ—¶ï¼Œå°±éœ€è¦ä¸€ä¸ªè§„èŒƒæ¥çº¦æŸä¸åŒçš„çº¿ç¨‹è¯¥å¦‚ä½•ä¸Žå†…å­˜äº¤äº’ï¼Œè¿™ä¸ªè§„èŒƒå°±ç§°ä¹‹ä¸ºå†…å­˜æ¨¡åž‹ï¼ˆMemory Modelï¼‰ã€‚ åœ¨ä¼ ç»Ÿçš„Cä¸­ï¼Œéœ€è¦é€šè¿‡å†…å­˜æ …æ (memory barrier)çš„æ–¹å¼ï¼Œåœ¨æŒ‡ä»¤é—´æ’å…¥å†…å­˜æ …æ æ¥ä¿è¯å†…å­˜è®¿é—®å’Œä¿®æ”¹çš„æ‰§è¡Œé¡ºåºã€‚ åœ¨C++11ä¸­æä¾›äº†memoryorderçš„æ”¯æŒæ¥æ”¯æŒè·¨å¹³å°å†…å­˜æ¨¡åž‹è§„èŒƒã€‚è¯¦è§å¦ä¸€ç¯‡åšæ–‡ã€‚]]></content>
      <categories>
        <category>ä»£ç ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>C++è¿›é˜¶</tag>
        <tag>å¹¶å‘ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[c++å¤šçº¿ç¨‹]]></title>
    <url>%2F2019%2F04%2F09%2FC%2B%2B%2Fc-thread%2F</url>
    <content type="text"><![CDATA[thread ç±» &lt;thread&gt;ï¼šå¤´æ–‡ä»¶ä¸»è¦å£°æ˜Žäº† std::thread ç±»ï¼Œå¦å¤– std::this_thread å‘½åç©ºé—´ä¹Ÿåœ¨è¿™ä¸ªå¤´æ–‡ä»¶ä¸­ã€‚ std::thread æž„é€ å‡½æ•° (1)é»˜è®¤æž„é€ å‡½æ•°ï¼šåˆ›å»ºä¸€ä¸ªç©ºçš„ thread æ‰§è¡Œå¯¹è±¡ã€‚ (2) åˆå§‹åŒ–æž„é€ å‡½æ•°ï¼šåˆ›å»ºä¸€ä¸ª threadå¯¹è±¡ï¼Œè¯¥ threadå¯¹è±¡å¯è¢« joinableï¼Œæ–°äº§ç”Ÿçš„çº¿ç¨‹ä¼šè°ƒç”¨ fn å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°ç”± args ç»™å‡ºã€‚ (3)æ‹·è´æž„é€ å‡½æ•°(è¢«ç¦ç”¨)ï¼šæ„å‘³ç€ thread ä¸å¯è¢«æ‹·è´æž„é€ ã€‚ (4)move æž„é€ å‡½æ•°ï¼Œmove æž„é€ å‡½æ•°ï¼šè°ƒç”¨æˆåŠŸä¹‹åŽ x ä¸ä»£è¡¨ä»»ä½• thread æ‰§è¡Œå¯¹è±¡ã€‚ joinable thread thread ç±»ä¸­æä¾›äº†ä¸€ä¸ªæˆå‘˜å‡½æ•°bool jionable() ç”¨äºŽæ£€æµ‹çº¿ç¨‹æ˜¯å¦joinable joinable ï¼š ä»£è¡¨è¯¥çº¿ç¨‹æ˜¯å¯ç»“åˆçš„çº¿ç¨‹ã€‚å¦‚æžœçº¿ç¨‹å¤„äºŽjoinableçŠ¶æ€ï¼Œåˆ™åªèƒ½åªèƒ½è¢«åˆ›å»ºä»–çš„çº¿ç¨‹ç­‰å¾…ç»ˆæ­¢ã€‚ **not-joinable ï¼š**é€šå¸¸ä¸€ä¸‹å‡ ç§æƒ…å†µä¼šå¯¼è‡´çº¿ç¨‹æˆä¸ºnot-joinable ç”±threadçš„ç¼ºçœæž„é€ å‡½æ•°æž„é€ è€Œæˆ(thread()æ²¡æœ‰å‚æ•°)ã€‚ è¯¥threadè¢«moveè¿‡ï¼ˆåŒ…æ‹¬moveæž„é€ å’Œmoveèµ‹å€¼, åŽŸthreadè¢«é”€æ¯) è¯¥çº¿ç¨‹è°ƒç”¨è¿‡joinæˆ–è€…detach join and detach åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ä¹‹åŽï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šè¯¥å¦‚ä½•å¤„ç†è¿™ä¸ªçº¿ç¨‹çš„ç»“æŸï¼Ÿ ä¸€ç§æ–¹å¼æ˜¯ç­‰å¾…è¿™ä¸ªçº¿ç¨‹ç»“æŸï¼Œåœ¨ä¸€ä¸ªåˆé€‚çš„åœ°æ–¹è°ƒç”¨ thread å®žä¾‹çš„ join() æ–¹æ³•ï¼Œè°ƒç”¨è€…çº¿ç¨‹å°†ä¼šä¸€ç›´ç­‰å¾…ç€ç›®æ ‡çº¿ç¨‹çš„ç»“æŸï¼Œå½“ç›®æ ‡çº¿ç¨‹ç»“æŸä¹‹åŽè°ƒç”¨è€…çº¿ç¨‹ç»§ç»­è¿è¡Œï¼› å¦ä¸€ä¸ªæ–¹å¼æ˜¯å°†è¿™ä¸ªçº¿ç¨‹åˆ†ç¦»ï¼Œç”±å…¶è‡ªå·±ç»“æŸï¼Œé€šè¿‡è°ƒç”¨ thread å®žä¾‹çš„ detach() æ–¹æ³•å°†ç›®æ ‡çº¿ç¨‹ç½®äºŽåˆ†ç¦»æ¨¡å¼ã€‚ move and swap 1234567891011121314151617#include&lt;thread&gt; using namespace std; int main() &#123; thread t1([]() &#123; cout &lt;&lt; "thread1" &lt;&lt; endl; &#125;); cout &lt;&lt; "thread1' id is " &lt;&lt; t1.get_id() &lt;&lt; endl; thread t2 = move(t1);; cout &lt;&lt; "thread2' id is " &lt;&lt; t2.get_id() &lt;&lt; endl; return 0; &#125; è¿è¡Œç»“æžœ: thread1 thread1' id is 5620 thread2' id is 5620 å¯ä»¥çœ‹åˆ°ï¼Œçº¿ç¨‹t2å¯ä»¥é€šè¿‡ move ç§»åŠ¨ t1 æ¥èŽ·å– t1 çš„å…¨éƒ¨å±žæ€§ï¼Œè€Œ t1 å´é”€æ¯äº†ã€‚ ä½¿ç”¨swapä¹Ÿæœ‰åŒæ ·ç§»åŠ¨çš„æ•ˆæžœï¼š 1234567891011121314151617181920212223242526272829#include&lt;thread&gt; using namespace std; int main() &#123; thread t1([]() &#123; cout &lt;&lt; "thread1" &lt;&lt; endl; &#125;); thread t2([]() &#123; cout &lt;&lt; "thread2" &lt;&lt; endl; &#125;); cout &lt;&lt; "thread1' id is " &lt;&lt; t1.get_id() &lt;&lt; endl; cout &lt;&lt; "thread2' id is " &lt;&lt; t2.get_id() &lt;&lt; endl; cout &lt;&lt; "swap after:" &lt;&lt; endl; swap(t1, t2);//çº¿ç¨‹äº¤æ¢ cout &lt;&lt; "thread1' id is " &lt;&lt; t1.get_id() &lt;&lt; endl; cout &lt;&lt; "thread2' id is " &lt;&lt; t2.get_id() &lt;&lt; endl; return 0; &#125; è¿è¡Œç»“æžœ: thread1 thread2 thread1' id is 4836 thread2' id is 4724 swap after: thread1' id is 4724 thread2' id is 4836 è¿™ä¸¤ç§çš„ä¸åŒæ˜¯swapä»…ä»…è¿›è¡Œå®žä¾‹ï¼ˆä»¥ id ä½œæ ‡è¯†ï¼‰çš„äº’æ¢ï¼Œè€Œmoveåˆ™åœ¨è¿›è¡Œå®žä¾‹æ ‡è¯†çš„äº’æ¢ä¹‹å‰ï¼Œè¿˜è¿›è¡Œäº†è½¬ç§»ç›®çš„å®žä¾‹ï¼ˆå¦‚ä¹‹å‰çš„t2ï¼‰çš„æ¸…ç†ï¼ˆé€šè¿‡è°ƒç”¨std::terminate()ï¼‰ã€‚ yeild and sleep 123456//è®©çº¿ç¨‹ç­‰å¾…3ç§’ this_thread::sleep_for(chrono::seconds(3)); //è®©çº¿ç¨‹ç­‰å¾…ç›´åˆ°åˆ°è¾¾æŒ‡å®šæ—¶é—´this_thread::sleep_until (time);//è®©cpuæ‰§è¡Œå…¶ä»–ç©ºé—²çš„çº¿ç¨‹ this_thread::yield(); mutex Mutex åˆç§°äº’æ–¥é‡ï¼ŒC++ 11ä¸­ä¸Ž Mutex ç›¸å…³çš„ç±»ï¼ˆåŒ…æ‹¬é”ç±»åž‹ï¼‰å’Œå‡½æ•°éƒ½å£°æ˜Žåœ¨ &lt;mutex&gt; å¤´æ–‡ä»¶ä¸­ã€‚ std::mutexç”¨æ³• æž„é€ å‡½æ•°:std::mutexä¸å…è®¸æ‹·è´æž„é€ ï¼Œä¹Ÿä¸å…è®¸ move æ‹·è´ï¼Œæœ€åˆäº§ç”Ÿçš„ mutex å¯¹è±¡æ˜¯å¤„äºŽ unlocked çŠ¶æ€çš„ã€‚ lock():è°ƒç”¨çº¿ç¨‹å°†é”ä½è¯¥äº’æ–¥é‡ã€‚çº¿ç¨‹è°ƒç”¨è¯¥å‡½æ•°ä¼šå‘ç”Ÿä¸‹é¢ 3 ç§æƒ…å†µï¼š å¦‚æžœè¯¥äº’æ–¥é‡å½“å‰æ²¡æœ‰è¢«é”ä½ï¼Œåˆ™è°ƒç”¨çº¿ç¨‹å°†è¯¥äº’æ–¥é‡é”ä½ï¼Œç›´åˆ°è°ƒç”¨ unlockä¹‹å‰ï¼Œè¯¥çº¿ç¨‹ä¸€ç›´æ‹¥æœ‰è¯¥é”ã€‚ å¦‚æžœå½“å‰äº’æ–¥é‡è¢«å…¶ä»–çº¿ç¨‹é”ä½ï¼Œåˆ™å½“å‰çš„è°ƒç”¨çº¿ç¨‹è¢«é˜»å¡žä½ã€‚ å¦‚æžœå½“å‰äº’æ–¥é‡è¢«å½“å‰è°ƒç”¨çº¿ç¨‹é”ä½ï¼Œåˆ™ä¼šäº§ç”Ÿæ­»é”(deadlock)ã€‚ unlock() è§£é”ï¼Œé‡Šæ”¾å¯¹äº’æ–¥é‡çš„æ‰€æœ‰æƒã€‚ try_lock() å°è¯•é”ä½äº’æ–¥é‡ï¼Œå¦‚æžœäº’æ–¥é‡è¢«å…¶ä»–çº¿ç¨‹å æœ‰ï¼Œåˆ™å½“å‰çº¿ç¨‹ä¹Ÿä¸ä¼šè¢«é˜»å¡žã€‚çº¿ç¨‹è°ƒç”¨è¯¥å‡½æ•°ä¹Ÿä¼šå‡ºçŽ°ä¸‹é¢ 3 ç§æƒ…å†µ: å¦‚æžœå½“å‰äº’æ–¥é‡æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹å æœ‰ï¼Œåˆ™è¯¥çº¿ç¨‹é”ä½äº’æ–¥é‡ï¼Œç›´åˆ°è¯¥çº¿ç¨‹è°ƒç”¨ unlock é‡Šæ”¾äº’æ–¥é‡ã€‚ å¦‚æžœå½“å‰äº’æ–¥é‡è¢«å…¶ä»–çº¿ç¨‹é”ä½ï¼Œåˆ™å½“å‰è°ƒç”¨çº¿ç¨‹è¿”å›ž falseï¼Œè€Œå¹¶ä¸ä¼šè¢«é˜»å¡žæŽ‰ã€‚ å¦‚æžœå½“å‰äº’æ–¥é‡è¢«å½“å‰è°ƒç”¨çº¿ç¨‹é”ä½ï¼Œåˆ™ä¼šäº§ç”Ÿæ­»é”(deadlock)ã€‚ std::recursive_mutex recursive_mutex ä¸Ž mutexç›¸åŒï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯**std::recursive_mutex å…è®¸åŒä¸€ä¸ªçº¿ç¨‹å¯¹äº’æ–¥é‡å¤šæ¬¡ä¸Šé”ï¼ˆå³é€’å½’ä¸Šé”ï¼‰ï¼Œæ¥èŽ·å¾—å¯¹äº’æ–¥é‡å¯¹è±¡çš„å¤šå±‚æ‰€æœ‰æƒï¼Œç›¸å¯¹åº”çš„std::recursive_mutex é‡Šæ”¾äº’æ–¥é‡æ—¶éœ€è¦è°ƒç”¨ä¸Žè¯¥é”å±‚æ¬¡æ·±åº¦ç›¸åŒæ¬¡æ•°çš„ unlock()ã€‚** std::time_mutex time_mutexç›¸è¾ƒäºŽmutexæä¾›äº†2ä¸ªæ–°çš„æ–¹æ³•æ¥è¿›è¡Œæ—¶é—´ç›¸å…³çš„ä¸Šé”ï¼š try_lock_for å‡½æ•°æŽ¥å—ä¸€ä¸ªæ—¶é—´èŒƒå›´ï¼Œè¡¨ç¤ºåœ¨è¿™ä¸€æ®µæ—¶é—´èŒƒå›´ä¹‹å†…çº¿ç¨‹å¦‚æžœæ²¡æœ‰èŽ·å¾—é”åˆ™è¢«é˜»å¡žä½ï¼ˆä¸Ž std::mutex çš„ try_lock() ä¸åŒï¼Œtry_lock å¦‚æžœè¢«è°ƒç”¨æ—¶æ²¡æœ‰èŽ·å¾—é”åˆ™ç›´æŽ¥è¿”å›ž falseï¼‰ï¼Œå¦‚æžœåœ¨æ­¤æœŸé—´å…¶ä»–çº¿ç¨‹é‡Šæ”¾äº†é”ï¼Œåˆ™è¯¥çº¿ç¨‹å¯ä»¥èŽ·å¾—å¯¹äº’æ–¥é‡çš„é”ï¼Œå¦‚æžœè¶…æ—¶ï¼ˆå³åœ¨æŒ‡å®šæ—¶é—´å†…è¿˜æ˜¯æ²¡æœ‰èŽ·å¾—é”ï¼‰ï¼Œåˆ™è¿”å›ž falseã€‚ try_lock_until å‡½æ•°åˆ™æŽ¥å—ä¸€ä¸ªæ—¶é—´ç‚¹ä½œä¸ºå‚æ•°ï¼Œåœ¨æŒ‡å®šæ—¶é—´ç‚¹æœªåˆ°æ¥ä¹‹å‰çº¿ç¨‹å¦‚æžœæ²¡æœ‰èŽ·å¾—é”åˆ™è¢«é˜»å¡žä½ï¼Œå¦‚æžœåœ¨æ­¤æœŸé—´å…¶ä»–çº¿ç¨‹é‡Šæ”¾äº†é”ï¼Œåˆ™è¯¥çº¿ç¨‹å¯ä»¥èŽ·å¾—å¯¹äº’æ–¥é‡çš„é”ï¼Œå¦‚æžœè¶…æ—¶ï¼ˆå³åœ¨æŒ‡å®šæ—¶é—´å†…è¿˜æ˜¯æ²¡æœ‰èŽ·å¾—é”ï¼‰ï¼Œåˆ™è¿”å›ž falseã€‚ åŒæ ·çš„ä¹Ÿæœ‰å¯¹åº”çš„recursive_timed_mutexæ¥æä¾›é€’å½’ä¸Šé”ã€‚ lockç±» std::lock_guard std::lock_gurad æ˜¯ C++11 ä¸­å®šä¹‰çš„æ¨¡æ¿ç±»ã€‚å®šä¹‰å¦‚ä¸‹ï¼š â€‹ template &lt;class Mutex&gt; class lock_guard; lock_guard å¯¹è±¡é€šå¸¸ç”¨äºŽç®¡ç†æŸä¸ªé”(Lock)å¯¹è±¡ï¼Œä¸Ž Mutex RAII ç›¸å…³ï¼Œæ–¹ä¾¿çº¿ç¨‹å¯¹äº’æ–¥é‡ä¸Šé”ï¼Œå³åœ¨æŸä¸ª lock_guard å¯¹è±¡çš„å£°æ˜Žå‘¨æœŸå†…ï¼Œå®ƒæ‰€ç®¡ç†çš„é”å¯¹è±¡ä¼šä¸€ç›´ä¿æŒä¸Šé”çŠ¶æ€ï¼›è€Œ lock_guard çš„ç”Ÿå‘½å‘¨æœŸç»“æŸä¹‹åŽï¼Œå®ƒæ‰€ç®¡ç†çš„é”å¯¹è±¡ä¼šè¢«è§£é”(æ³¨ï¼šç±»ä¼¼ shared_ptr ç­‰æ™ºèƒ½æŒ‡é’ˆç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜èµ„æº)ã€‚ æ¨¡æ¿å‚æ•° Mutex ä»£è¡¨äº’æ–¥é‡ç±»åž‹ï¼Œä¾‹å¦‚ std::mutex ç±»åž‹ï¼Œå®ƒåº”è¯¥æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ BasicLockable ç±»åž‹ï¼Œæ ‡å‡†åº“ä¸­å®šä¹‰å‡ ç§åŸºæœ¬çš„ BasicLockable ç±»åž‹ï¼Œåˆ†åˆ« std::mutex, std::recursive_mutex, std::timed_mutexï¼Œstd::recursive_timed_mutexä»¥åŠ std::unique_lockã€‚ åœ¨ lock_guard å¯¹è±¡æž„é€ æ—¶ï¼Œä¼ å…¥çš„ Mutex å¯¹è±¡(å³å®ƒæ‰€ç®¡ç†çš„ Mutex å¯¹è±¡)ä¼šè¢«å½“å‰çº¿ç¨‹é”ä½ã€‚åœ¨lock_guard å¯¹è±¡è¢«æžæž„æ—¶ï¼Œå®ƒæ‰€ç®¡ç†çš„ Mutex å¯¹è±¡ä¼šè‡ªåŠ¨è§£é”ï¼Œç”±äºŽä¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨è°ƒç”¨ lock å’Œ unlock å¯¹ Mutex è¿›è¡Œä¸Šé”å’Œè§£é”æ“ä½œï¼Œå› æ­¤è¿™ä¹Ÿæ˜¯æœ€ç®€å•å®‰å…¨çš„ä¸Šé”å’Œè§£é”æ–¹å¼ï¼Œå°¤å…¶æ˜¯åœ¨ç¨‹åºæŠ›å‡ºå¼‚å¸¸åŽå…ˆå‰å·²è¢«ä¸Šé”çš„ Mutex å¯¹è±¡å¯ä»¥æ­£ç¡®è¿›è¡Œè§£é”æ“ä½œï¼Œæžå¤§åœ°ç®€åŒ–äº†ç¨‹åºå‘˜ç¼–å†™ä¸Ž Mutex ç›¸å…³çš„å¼‚å¸¸å¤„ç†ä»£ç ã€‚ æž„é€ å‡½æ•°ï¼š locking åˆå§‹åŒ– :std::lock_guard&lt;std::mutex&gt; lck(mtx); lock_guard å¯¹è±¡ç®¡ç† Mutex å¯¹è±¡ mï¼Œå¹¶åœ¨æž„é€ æ—¶å¯¹ m è¿›è¡Œä¸Šé”ï¼ˆè°ƒç”¨ m.lock()ï¼‰ã€‚ adoptingåˆå§‹åŒ–:std::lock_guard&lt;std::mutex&gt; lck(mtx, std::adopt_lock); lock_guard å¯¹è±¡ç®¡ç† Mutex å¯¹è±¡ mï¼Œä¸Ž locking åˆå§‹åŒ–ä¸åŒçš„æ˜¯ï¼Œ Mutex å¯¹è±¡ m å·²è¢«å½“å‰çº¿ç¨‹é”ä½ã€‚ æ‹·è´æž„é€ : lock_guardå¯¹è±¡çš„æ‹·è´æž„é€ å’Œç§»åŠ¨æž„é€ (move construction)å‡è¢«ç¦ç”¨ï¼Œå› æ­¤ lock_guard å¯¹è±¡ä¸å¯è¢«æ‹·è´æž„é€ æˆ–ç§»åŠ¨æž„é€  std::unique_lock C++11 æ ‡å‡†ä¸­å®šä¹‰äº†å¦å¤–ä¸€ä¸ªä¸Ž Mutex RAII ç›¸å…³ç±» unique_lockï¼Œè¯¥ç±»ä¸Ž lock_guard ç±»ç›¸ä¼¼ï¼Œä¹Ÿå¾ˆæ–¹ä¾¿çº¿ç¨‹å¯¹äº’æ–¥é‡ä¸Šé”ï¼Œä½†å®ƒæä¾›äº†æ›´å¥½çš„ä¸Šé”å’Œè§£é”æŽ§åˆ¶ã€‚ unique_lock å¯¹è±¡ä»¥ç‹¬å æ‰€æœ‰æƒçš„æ–¹å¼ï¼ˆ unique owershipï¼‰ç®¡ç† mutex å¯¹è±¡çš„ä¸Šé”å’Œè§£é”æ“ä½œï¼Œæ‰€è°“ç‹¬å æ‰€æœ‰æƒï¼Œå°±æ˜¯æ²¡æœ‰å…¶ä»–çš„ unique_lock å¯¹è±¡åŒæ—¶æ‹¥æœ‰æŸä¸ª mutex å¯¹è±¡çš„æ‰€æœ‰æƒã€‚ åœ¨æž„é€ (æˆ–ç§»åŠ¨(move)èµ‹å€¼)æ—¶ï¼Œunique_lock å¯¹è±¡éœ€è¦ä¼ é€’ä¸€ä¸ª Mutex å¯¹è±¡ä½œä¸ºå®ƒçš„å‚æ•°ï¼Œæ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡è´Ÿè´£ä¼ å…¥çš„ Mutex å¯¹è±¡çš„ä¸Šé”å’Œè§£é”æ“ä½œã€‚ std::unique_lock å¯¹è±¡ä¹Ÿèƒ½ä¿è¯åœ¨å…¶è‡ªèº«æžæž„æ—¶å®ƒæ‰€ç®¡ç†çš„ Mutex å¯¹è±¡èƒ½å¤Ÿè¢«æ­£ç¡®åœ°è§£é”ï¼ˆå³ä½¿æ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨ unlock å‡½æ•°ï¼‰ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œunique_lock å¯¹è±¡åŒæ ·ä¹Ÿä¸è´Ÿè´£ç®¡ç† Mutex å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ,åœ¨æŸä¸ª unique_lock å¯¹è±¡çš„å£°æ˜Žå‘¨æœŸå†…ï¼Œå®ƒæ‰€ç®¡ç†çš„é”å¯¹è±¡ä¼šä¸€ç›´ä¿æŒä¸Šé”çŠ¶æ€ï¼›è€Œ unique_lock çš„ç”Ÿå‘½å‘¨æœŸç»“æŸä¹‹åŽï¼Œå®ƒæ‰€ç®¡ç†çš„é”å¯¹è±¡ä¼šè¢«è§£é”ï¼Œè¿™ä¸€ç‚¹å’Œ lock_guard ç±»ä¼¼ï¼Œä½† unique_lock ç»™ç¨‹åºå‘˜æä¾›äº†æ›´å¤šçš„è‡ªç”±ã€‚ å¦å¤–ï¼Œä¸Ž lock_guard ä¸€æ ·ï¼Œæ¨¡æ¿å‚æ•° Mutex ä»£è¡¨äº’æ–¥é‡ç±»åž‹ï¼Œä¾‹å¦‚ std::mutex ç±»åž‹ï¼Œå®ƒåº”è¯¥æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ BasicLockable ç±»åž‹ã€‚ æž„é€ å‡½æ•°ï¼š é»˜è®¤æž„é€ å‡½æ•° æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡ä¸ç®¡ç†ä»»ä½• Mutex å¯¹è±¡ã€‚ locking åˆå§‹åŒ– æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡ç®¡ç† Mutex å¯¹è±¡ mï¼Œå¹¶å°è¯•è°ƒç”¨ m.lock() å¯¹ Mutex å¯¹è±¡è¿›è¡Œä¸Šé”ï¼Œå¦‚æžœæ­¤æ—¶å¦å¤–æŸä¸ª unique_lock å¯¹è±¡å·²ç»ç®¡ç†äº†è¯¥ Mutex å¯¹è±¡ mï¼Œåˆ™å½“å‰çº¿ç¨‹å°†ä¼šè¢«é˜»å¡žã€‚ try-locking åˆå§‹åŒ– æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡ç®¡ç† Mutex å¯¹è±¡ mï¼Œå¹¶å°è¯•è°ƒç”¨ m.try_lock() å¯¹ Mutex å¯¹è±¡è¿›è¡Œä¸Šé”ï¼Œä½†å¦‚æžœä¸Šé”ä¸æˆåŠŸï¼Œå¹¶ä¸ä¼šé˜»å¡žå½“å‰çº¿ç¨‹ã€‚ deferred åˆå§‹åŒ– æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡ç®¡ç† Mutex å¯¹è±¡ mï¼Œä½†æ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™å¹¶ä¸é”ä½ Mutex å¯¹è±¡ã€‚ m åº”è¯¥æ˜¯ä¸€ä¸ªæ²¡æœ‰å½“å‰çº¿ç¨‹é”ä½çš„ Mutex å¯¹è±¡ã€‚ adopting åˆå§‹åŒ– æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡ç®¡ç† Mutex å¯¹è±¡ mï¼Œ m åº”è¯¥æ˜¯ä¸€ä¸ªå·²ç»è¢«å½“å‰çº¿ç¨‹é”ä½çš„ Mutex å¯¹è±¡ã€‚(å¹¶ä¸”å½“å‰æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡æ‹¥æœ‰å¯¹é”(Lock)çš„æ‰€æœ‰æƒ)ã€‚ locking ä¸€æ®µæ—¶é—´(duration) æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡ç®¡ç† Mutex å¯¹è±¡ mï¼Œå¹¶è¯•å›¾é€šè¿‡è°ƒç”¨ m.try_lock_for(rel_time) æ¥é”ä½ Mutex å¯¹è±¡ä¸€æ®µæ—¶é—´(rel_time)ã€‚ locking ç›´åˆ°æŸä¸ªæ—¶é—´ç‚¹(time point) æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡ç®¡ç† Mutex å¯¹è±¡mï¼Œå¹¶è¯•å›¾é€šè¿‡è°ƒç”¨ m.try_lock_until(abs_time) æ¥åœ¨æŸä¸ªæ—¶é—´ç‚¹(abs_time)ä¹‹å‰é”ä½ Mutex å¯¹è±¡ã€‚ æ‹·è´æž„é€  [è¢«ç¦ç”¨] unique_lock å¯¹è±¡ä¸èƒ½è¢«æ‹·è´æž„é€ ã€‚ ç§»åŠ¨(move)æž„é€  æ–°åˆ›å»ºçš„ unique_lock å¯¹è±¡èŽ·å¾—äº†ç”± x æ‰€ç®¡ç†çš„ Mutex å¯¹è±¡çš„æ‰€æœ‰æƒ(åŒ…æ‹¬å½“å‰ Mutex çš„çŠ¶æ€)ã€‚è°ƒç”¨ move æž„é€ ä¹‹åŽï¼Œ x å¯¹è±¡å¦‚åŒé€šè¿‡é»˜è®¤æž„é€ å‡½æ•°æ‰€åˆ›å»ºçš„ï¼Œå°±ä¸å†ç®¡ç†ä»»ä½• Mutex å¯¹è±¡äº†ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œç”± (2) å’Œ (5) åˆ›å»ºçš„ unique_lock å¯¹è±¡é€šå¸¸æ‹¥æœ‰ Mutex å¯¹è±¡çš„é”ã€‚è€Œé€šè¿‡ (1) å’Œ (4) åˆ›å»ºçš„åˆ™ä¸ä¼šæ‹¥æœ‰é”ã€‚é€šè¿‡ (3)ï¼Œ(6) å’Œ (7) åˆ›å»ºçš„ unique_lock å¯¹è±¡ï¼Œåˆ™åœ¨ lock æˆåŠŸæ—¶èŽ·å¾—é”ã€‚ atomic std::atomic std::atomicå¯¹int, char, boolç­‰æ•°æ®ç»“æž„è¿›è¡ŒåŽŸå­æ€§å°è£…ï¼Œåœ¨å¤šçº¿ç¨‹çŽ¯å¢ƒä¸­ï¼Œå¯¹std::atomicå¯¹è±¡çš„è®¿é—®ä¸ä¼šé€ æˆç«žäº‰-å†’é™©ã€‚åˆ©ç”¨std::atomicå¯å®žçŽ°æ•°æ®ç»“æž„çš„æ— é”è®¾è®¡ã€‚ æž„é€ å‡½æ•° é»˜è®¤æž„é€ å‡½æ•° atomic() noexcept = default; åˆå§‹åŒ–æž„é€ å‡½æ•° constexpr atomic (T val) noexcept; æ‹·è´æž„é€ å‡½æ•° atomic (const atomic&amp;) = deleteã€‚å¯ä»¥çœ‹å‡ºatomicå¯¹è±¡æ˜¯ä¸å¯å¤åˆ¶çš„ã€‚ ç”±ä¸Šå¯çŸ¥ï¼Œatomicå¯¹è±¡å¯ä»¥ç”¨å…¶å†…éƒ¨å­˜å‚¨ç±»åž‹èµ‹å€¼ï¼Œä½†æ˜¯atomicæœ¬èº«æ˜¯ä¸èƒ½è¿›è¡Œèµ‹å€¼æ‹·è´çš„ã€‚ atomicç»å¸¸ç”¨çš„å‡½æ•°æœ‰storeå’Œloadï¼Œå¦‚ä¸‹ï¼š storeå‡½æ•° 12void store (T val, memory_order sync = memory_order_seq_cst) volatile noexcept;void store (T val, memory_order sync = memory_order_seq_cst) noexcept; å…¶å®žå°±æ˜¯ç”¨valæ›¿æ¢å†…éƒ¨ä¿å­˜çš„å€¼ã€‚å†…éƒ¨æ›¿æ¢çš„æ—¶å€™å…¶å®žæ˜¯åŠ äº†çº¿ç¨‹åŒæ­¥çš„ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒå¤šçº¿ç¨‹è®¿é—®çš„é—®é¢˜ã€‚ loadå‡½æ•° 12T load (memory_order sync = memory_order_seq_cst) const volatile noexcept;T load (memory_order sync = memory_order_seq_cst) const noexcept; è¿”å›žå†…éƒ¨ä¿å­˜çš„å€¼ï¼Œå…¶å®žå°±æ˜¯è®¿é—®å†…éƒ¨å€¼ã€‚ std::atomic_flag atomic_flagæ˜¯ä¸€ä¸ªåŽŸå­å¸ƒå°”ç±»åž‹ã€‚ä¸åŒäºŽstd::atomicçš„æ‰€æœ‰ä¸“é—¨åŒ–ï¼Œå®ƒä¿è¯æ˜¯lock_freeã€‚ä¸åƒstd::stomic&lt; bool &gt;ï¼Œstd::atomic_flagä¸æä¾›è´Ÿè½½æˆ–å­˜å‚¨æ“ä½œã€‚ æž„é€ å‡½æ•° atomic_flagåœ¨æž„å»º(æˆ–è®¾ç½®æˆ–æ¸…é™¤)ä¸Šå¤„äºŽä¸€ä¸ªæœªæŒ‡å®šçš„çŠ¶æ€ï¼Œé™¤éžå®ƒè¢«æ˜¾å¼åœ°åˆå§‹åŒ–ä¸ºATOMIC_FLAG_INITã€‚ atomic_flagå€¼ä¸èƒ½å¤åˆ¶/ç§»åŠ¨ã€‚ æˆå‘˜å‡½æ•°ï¼štest_and_set bool test_and_set (memory_order sync = memory_order_seq_cst) volatile noexcept; bool test_and_set (memory_order sync = memory_order_seq_cst) noexcept;ã€‚ è®¾ç½®atomic_flagå¹¶è¿”å›žæ˜¯å¦åœ¨è°ƒç”¨ä¹‹å‰å·²ç»è®¾ç½®çš„ã€‚ æ•´ä¸ªæ“ä½œæ˜¯åŽŸå­çš„(ä¸€ä¸ªåŽŸå­çš„è¯»-ä¿®æ”¹-å†™æ“ä½œ):å½“åœ¨è¿™ä¸ªå‡½æ•°è¢«ä¿®æ”¹çš„æ—¶å€™,è¯»å–çš„(è¿”å›ž)å€¼è¢«è¯»å–ï¼Œå€¼ä¸å—å…¶ä»–çº¿ç¨‹çš„å½±å“ã€‚ æˆå‘˜å‡½æ•°:atomic_flag_clear void clear (memory_order sync = memory_order_seq_cst) volatile noexcept; void clear (memory_order sync = memory_order_seq_cst) noexcept; æ¸…é™¤atomic_flag(å³æŠŠatomic_flag è®¾ä¸ºå‡)ã€‚æ¸…é™¤atomic_flagä½¿ä¸‹ä¸€æ¬¡è°ƒç”¨æˆå‘˜atomic_flag::test_and_setå¯¹è±¡è¿”å›žfalseã€‚ æ“ä½œæ˜¯åŽŸå­çš„ï¼ŒæŒ‰ç…§syncæ‰€æŒ‡å®šçš„å†…å­˜é¡ºåºã€‚ future std::promise promise å¯¹è±¡å¯ä»¥ä¿å­˜æŸä¸€ç±»åž‹Tå€¼ï¼Œè¯¥å€¼å¯è¢« future å¯¹è±¡è¯»å–ï¼ˆå¯èƒ½åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼‰ï¼Œ promise æä¾›äº†ä¸€ç§çº¿ç¨‹åŒæ­¥çš„æ‰‹æ®µã€‚ åœ¨ promise å¯¹è±¡æž„é€ æ—¶å¯ä»¥å’Œä¸€ä¸ªå…±äº«çŠ¶æ€ï¼ˆé€šå¸¸æ˜¯std::futureï¼‰ç›¸å…³è”ï¼Œå¹¶å¯ä»¥åœ¨ç›¸å…³è”çš„å…±äº«çŠ¶æ€(std::future)ä¸Šä¿å­˜ä¸€ä¸ªç±»åž‹ä¸º T çš„å€¼ã€‚ å¯ä»¥é€šè¿‡ get_future æ¥èŽ·å–ä¸Žè¯¥ promise å¯¹è±¡ç›¸å…³è”çš„ future å¯¹è±¡ï¼Œè°ƒç”¨è¯¥å‡½æ•°ä¹‹åŽï¼Œä¸¤ä¸ªå¯¹è±¡å…±äº«ç›¸åŒçš„å…±äº«çŠ¶æ€(shared state) promise å¯¹è±¡æ˜¯å¼‚æ­¥ Providerï¼Œå®ƒå¯ä»¥åœ¨æŸä¸€æ—¶åˆ»è®¾ç½®å…±äº«çŠ¶æ€çš„å€¼ã€‚ future å¯¹è±¡å¯ä»¥å¼‚æ­¥è¿”å›žå…±äº«çŠ¶æ€çš„å€¼ï¼Œæˆ–è€…åœ¨å¿…è¦çš„æƒ…å†µä¸‹é˜»å¡žè°ƒç”¨è€…å¹¶ç­‰å¾…å…±äº«çŠ¶æ€æ ‡å¿—å˜ä¸º readyï¼Œç„¶åŽæ‰èƒ½èŽ·å–å…±äº«çŠ¶æ€çš„å€¼ã€‚ 12345678910111213141516171819202122232425// promise example #include &lt;iostream&gt; // std::cout #include &lt;functional&gt; // std::ref #include &lt;thread&gt; // std::thread #include &lt;future&gt; // std::promise, std::future void print_int(std::future&lt;int&gt;&amp; fut) &#123; int x = fut.get(); std::cout &lt;&lt; "value: " &lt;&lt; x &lt;&lt; std::endl; &#125; int main() &#123; std::promise&lt;int&gt; prom; // create promise std::future&lt;int&gt; fut = prom.get_future(); // engagement with future std::thread th1(print_int, std::ref(fut)); // send future to new thread prom.set_value(10); // fulfill promise // (synchronizes with getting the future) th1.join(); return 0; &#125; promise åªæœ‰ç§»åŠ¨è¯­ä¹‰æ²¡æœ‰æ‹·è´è¯­ä¹‰ã€‚ std::promise::get_futureï¼šè¿”å›žä¸€ä¸ªä¸Žpromiseå…±äº«çŠ¶æ€ç›¸å…³è”çš„futureå¯¹è±¡ std::promise::set_valueï¼šè®¾ç½®å…±äº«çŠ¶æ€çš„å€¼ï¼Œæ­¤åŽpromiseå…±äº«çŠ¶æ€æ ‡è¯†å˜ä¸ºready std::promise::set_exceptionï¼šä¸ºpromiseè®¾ç½®å¼‚å¸¸ï¼Œæ­¤åŽpromiseçš„å…±äº«çŠ¶æ€æ ‡è¯†å˜ä¸ºready std::promise::set_value_at_thread_exitï¼šè®¾ç½®å…±äº«çŠ¶æ€çš„å€¼ï¼Œä½†æ˜¯ä¸å°†å…±äº«çŠ¶æ€çš„æ ‡å¿—è®¾ç½®ä¸º readyï¼Œå½“çº¿ç¨‹é€€å‡ºæ—¶è¯¥ promise å¯¹è±¡ä¼šè‡ªåŠ¨è®¾ç½®ä¸º readyï¼ˆæ³¨æ„ï¼šè¯¥çº¿ç¨‹å·²è®¾ç½®promiseçš„å€¼ï¼Œå¦‚æžœåœ¨çº¿ç¨‹ç»“æŸä¹‹åŽæœ‰å…¶ä»–ä¿®æ”¹å…±äº«çŠ¶æ€å€¼çš„æ“ä½œï¼Œä¼šæŠ›å‡ºfuture_error(promise_already_satisfied)å¼‚å¸¸ï¼‰ std::promise::swapï¼šäº¤æ¢ promise çš„å…±äº«çŠ¶æ€ std::future ç®€å•æ¥è¯´ï¼Œstd::futureæä¾›äº†ä¸€ç§è®¿é—®å¼‚æ­¥æ“ä½œç»“æžœçš„æœºåˆ¶ã€‚ ä»Žå­—é¢æ„æ€çœ‹ï¼Œå®ƒè¡¨ç¤ºæœªæ¥ã€‚é€šå¸¸ä¸€ä¸ªå¼‚æ­¥æ“ä½œæˆ‘ä»¬æ˜¯ä¸èƒ½é©¬ä¸Šå°±èŽ·å–æ“ä½œç»“æžœçš„ï¼Œåªèƒ½åœ¨æœªæ¥æŸä¸ªæ—¶å€™èŽ·å–ã€‚æˆ‘ä»¬å¯ä»¥ä»¥åŒæ­¥ç­‰å¾…çš„æ–¹å¼æ¥èŽ·å–ç»“æžœï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢futureçš„çŠ¶æ€ï¼ˆfuture_statusï¼‰æ¥èŽ·å–å¼‚æ­¥æ“ä½œçš„ç»“æžœã€‚future_statusæœ‰ä¸‰ç§çŠ¶æ€ï¼š deferredï¼šå¼‚æ­¥æ“ä½œè¿˜æ²¡å¼€å§‹ readyï¼šå¼‚æ­¥æ“ä½œå·²ç»å®Œæˆ timeoutï¼šå¼‚æ­¥æ“ä½œè¶…æ—¶ èŽ·å–futureç»“æžœæœ‰ä¸‰ç§æ–¹å¼ï¼šgetã€waitã€wait_for: get ç­‰å¾…å¼‚æ­¥æ“ä½œç»“æŸ(ready)å¹¶è¿”å›žç»“æžœ wait åªæ˜¯ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆï¼Œæ²¡æœ‰è¿”å›žå€¼ wait_for æ˜¯è¶…æ—¶ç­‰å¾…è¿”å›žç»“æžœã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++è¿›é˜¶</tag>
        <tag>å¹¶å‘ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OSIsample]]></title>
    <url>%2F2019%2F03%2F31%2FOSIsample%2F</url>
    <content type="text"><![CDATA[OSIä¸ƒå±‚ç»“æž„ç¤ºæ„å›¾]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>OSIä¸ƒå±‚ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux namespaceä¸ŽCgroupç®€è¿°]]></title>
    <url>%2F2019%2F03%2F31%2FLinux%2Fnamespace-cgroup%2F</url>
    <content type="text"><![CDATA[NameSpace æ¦‚è¿° Namespace ç”¨äºŽä¸åŒè¿›ç¨‹ç»„ä¹‹é—´çš„èµ„æºéš”ç¦»ï¼Œå…¶ç›®çš„æ˜¯å°†æŸä¸ªç‰¹å®šçš„å…¨å±€ç³»ç»Ÿèµ„æºï¼ˆglobal system resourceï¼‰é€šè¿‡æŠ½è±¡æ–¹æ³•ä½¿å¾—namespace ä¸­çš„è¿›ç¨‹çœ‹èµ·æ¥æ‹¥æœ‰å®ƒä»¬è‡ªå·±çš„éš”ç¦»çš„å…¨å±€ç³»ç»Ÿèµ„æºå®žä¾‹ã€‚ Linux å†…æ ¸ä¸­å®žçŽ°äº†å…­ç§ namespaceï¼ŒæŒ‰ç…§å¼•å…¥çš„å…ˆåŽé¡ºåºï¼Œåˆ—è¡¨å¦‚ä¸‹ï¼š namespace å¼•å…¥çš„ç›¸å…³å†…æ ¸ç‰ˆæœ¬ è¢«éš”ç¦»çš„å…¨å±€ç³»ç»Ÿèµ„æº åœ¨å®¹å™¨è¯­å¢ƒä¸‹çš„éš”ç¦»æ•ˆæžœ Mount namespaces Linux 2.4.19 æ–‡ä»¶ç³»ç»ŸæŒ‚æŽ¥ç‚¹ æ¯ä¸ªå®¹å™¨èƒ½çœ‹åˆ°ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æž„ UTS namespaces Linux 2.6.19 nodename å’Œ domainname æ¯ä¸ªå®¹å™¨å¯ä»¥æœ‰è‡ªå·±çš„ hostname å’Œ domainame PID namespaces Linux 2.6.24 è¿›ç¨‹ ID æ•°å­—ç©ºé—´ ï¼ˆprocess ID number spaceï¼‰ æ¯ä¸ª PID namespace ä¸­çš„è¿›ç¨‹å¯ä»¥æœ‰å…¶ç‹¬ç«‹çš„ PIDï¼› æ¯ä¸ªå®¹å™¨å¯ä»¥æœ‰å…¶ PID ä¸º 1 çš„root è¿›ç¨‹ï¼›ä¹Ÿä½¿å¾—å®¹å™¨å¯ä»¥åœ¨ä¸åŒçš„ host ä¹‹é—´è¿ç§»ï¼Œå› ä¸º namespace ä¸­çš„è¿›ç¨‹ ID å’Œ host æ— å…³äº†ã€‚è¿™ä¹Ÿä½¿å¾—å®¹å™¨ä¸­çš„æ¯ä¸ªè¿›ç¨‹æœ‰ä¸¤ä¸ªPIDï¼šå®¹å™¨ä¸­çš„ PID å’Œ host ä¸Šçš„ PIDã€‚ IPC namespaces Linux 2.6.19 ç‰¹å®šçš„è¿›ç¨‹é—´é€šä¿¡èµ„æºï¼ŒåŒ…æ‹¬System V IPC å’Œ POSIX message queues æ¯ä¸ªå®¹å™¨æœ‰å…¶è‡ªå·±çš„ System V IPC å’Œ POSIX æ¶ˆæ¯é˜Ÿåˆ—æ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤ï¼Œåªæœ‰åœ¨åŒä¸€ä¸ª IPC namespace çš„è¿›ç¨‹ä¹‹é—´æ‰èƒ½äº’ç›¸é€šä¿¡ Network namespaces å§‹äºŽLinux 2.6.24 å®ŒæˆäºŽ Linux 2.6.29 ç½‘ç»œç›¸å…³çš„ç³»ç»Ÿèµ„æº æ¯ä¸ªå®¹å™¨ç”¨æœ‰å…¶ç‹¬ç«‹çš„ç½‘ç»œè®¾å¤‡ï¼ŒIP åœ°å€ï¼ŒIP è·¯ç”±è¡¨ï¼Œ/proc/net ç›®å½•ï¼Œç«¯å£å·ç­‰ç­‰ã€‚è¿™ä¹Ÿä½¿å¾—ä¸€ä¸ª host ä¸Šå¤šä¸ªå®¹å™¨å†…çš„åŒä¸€ä¸ªåº”ç”¨éƒ½ç»‘å®šåˆ°å„è‡ªå®¹å™¨çš„ 80 ç«¯å£ä¸Šã€‚ User namespaces å§‹äºŽ Linux 2.6.23 å®ŒæˆäºŽ Linux 3.8) ç”¨æˆ·å’Œç»„ ID ç©ºé—´ åœ¨ user namespace ä¸­çš„è¿›ç¨‹çš„ç”¨æˆ·å’Œç»„ ID å¯ä»¥å’Œåœ¨ host ä¸Šä¸åŒï¼› æ¯ä¸ª container å¯ä»¥æœ‰ä¸åŒçš„ user å’Œ group idï¼›ä¸€ä¸ª host ä¸Šçš„éžç‰¹æƒç”¨æˆ·å¯ä»¥æˆä¸º user namespace ä¸­çš„ç‰¹æƒç”¨æˆ·ï¼› Cgroupæ¦‚è¿° åœ¨Linuxé‡Œï¼Œä¸€ç›´ä»¥æ¥å°±æœ‰å¯¹è¿›ç¨‹è¿›è¡Œåˆ†ç»„çš„æ¦‚å¿µå’Œéœ€æ±‚ï¼Œæ¯”å¦‚session groupï¼Œ progress groupç­‰ï¼ŒåŽæ¥éšç€äººä»¬å¯¹è¿™æ–¹é¢çš„éœ€æ±‚è¶Šæ¥è¶Šå¤šï¼Œæ¯”å¦‚éœ€è¦è¿½è¸ªä¸€ç»„è¿›ç¨‹çš„å†…å­˜å’ŒIOä½¿ç”¨æƒ…å†µç­‰ï¼ŒäºŽæ˜¯å‡ºçŽ°äº†cgroup,ä¸»è¦æœ‰ä¸¤å¤§ç”¨é€”: ç”¨æ¥ç»Ÿä¸€å°†è¿›ç¨‹è¿›è¡Œåˆ†ç»„ã€‚ åœ¨åˆ†ç»„çš„åŸºç¡€ä¸Šå¯¹è¿›ç¨‹è¿›è¡Œç›‘æŽ§å’Œèµ„æºæŽ§åˆ¶ç®¡ç†ç­‰ã€‚ cgroupæ˜¯Linuxä¸‹çš„ä¸€ç§å°†è¿›ç¨‹æŒ‰ç»„è¿›è¡Œç®¡ç†çš„æœºåˆ¶ï¼Œåœ¨ç”¨æˆ·å±‚çœ‹æ¥ï¼ŒcgroupæŠ€æœ¯å°±æ˜¯æŠŠç³»ç»Ÿä¸­çš„æ‰€æœ‰è¿›ç¨‹ç»„ç»‡æˆä¸€é¢—ä¸€é¢—ç‹¬ç«‹çš„æ ‘ï¼Œæ¯æ£µæ ‘éƒ½åŒ…å«ç³»ç»Ÿçš„æ‰€æœ‰è¿›ç¨‹ï¼Œæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œè€Œæ¯é¢—æ ‘åˆå’Œä¸€ä¸ªæˆ–è€…å¤šä¸ªsubsystemå…³è”ï¼Œæ ‘çš„ä½œç”¨æ˜¯å°†è¿›ç¨‹åˆ†ç»„ï¼Œè€Œsubsystemçš„ä½œç”¨å°±æ˜¯å¯¹è¿™äº›ç»„è¿›è¡Œæ“ä½œã€‚cgroupä¸»è¦åŒ…æ‹¬ä¸‹é¢ä¸¤éƒ¨åˆ†ï¼š subsystem ä¸€ä¸ªsubsystemå°±æ˜¯ä¸€ä¸ªå†…æ ¸æ¨¡å—ï¼Œä»–è¢«å…³è”åˆ°ä¸€é¢—cgroupæ ‘ä¹‹åŽï¼Œå°±ä¼šåœ¨æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ˆè¿›ç¨‹ç»„ï¼‰ä¸Šåšå…·ä½“çš„æ“ä½œã€‚subsystemç»å¸¸è¢«ç§°ä½œ&quot;resource controller&quot;ï¼Œå› ä¸ºå®ƒä¸»è¦è¢«ç”¨æ¥è°ƒåº¦æˆ–è€…é™åˆ¶æ¯ä¸ªè¿›ç¨‹ç»„çš„èµ„æºï¼Œä½†æ˜¯è¿™ä¸ªè¯´æ³•ä¸å®Œå…¨å‡†ç¡®ï¼Œå› ä¸ºæœ‰æ—¶æˆ‘ä»¬å°†è¿›ç¨‹åˆ†ç»„åªæ˜¯ä¸ºäº†åšä¸€äº›ç›‘æŽ§ï¼Œè§‚å¯Ÿä¸€ä¸‹ä»–ä»¬çš„çŠ¶æ€ï¼Œæ¯”å¦‚perf_event subsystemã€‚ hierarchy ä¸€ä¸ªhierarchyå¯ä»¥ç†è§£ä¸ºä¸€æ£µcgroupæ ‘ï¼Œæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œæ¯æ£µæ ‘éƒ½ä¼šä¸Žé›¶åˆ°å¤šä¸ªsubsystemå…³è”ã€‚åœ¨ä¸€é¢—æ ‘é‡Œé¢ï¼Œä¼šåŒ…å«Linuxç³»ç»Ÿä¸­çš„æ‰€æœ‰è¿›ç¨‹ï¼Œä½†æ¯ä¸ªè¿›ç¨‹åªèƒ½å±žäºŽä¸€ä¸ªèŠ‚ç‚¹ï¼ˆè¿›ç¨‹ç»„ï¼‰ã€‚ç³»ç»Ÿä¸­å¯ä»¥æœ‰å¾ˆå¤šé¢—cgroupæ ‘ï¼Œæ¯æ£µæ ‘éƒ½å’Œä¸åŒçš„subsystemå…³è”ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥å±žäºŽå¤šé¢—æ ‘ï¼Œå³ä¸€ä¸ªè¿›ç¨‹å¯ä»¥å±žäºŽå¤šä¸ªè¿›ç¨‹ç»„ï¼Œåªæ˜¯è¿™äº›è¿›ç¨‹ç»„å’Œä¸åŒçš„subsystemå…³è”ã€‚ç›®å‰Linuxæ”¯æŒ12ç§subsystemï¼Œå¦‚æžœä¸è€ƒè™‘ä¸ä¸Žä»»ä½•subsystemå…³è”çš„æƒ…å†µï¼ˆsystemdå°±å±žäºŽè¿™ç§æƒ…å†µï¼‰ï¼ŒLinuxé‡Œé¢æœ€å¤šå¯ä»¥å»º12é¢—cgroupæ ‘ï¼Œæ¯æ£µæ ‘å…³è”ä¸€ä¸ªsubsystemï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åªå»ºä¸€æ£µæ ‘ï¼Œç„¶åŽè®©è¿™æ£µæ ‘å…³è”æ‰€æœ‰çš„subsystemã€‚å½“ä¸€é¢—cgroupæ ‘ä¸å’Œä»»ä½•subsystemå…³è”çš„æ—¶å€™ï¼Œæ„å‘³ç€è¿™æ£µæ ‘åªæ˜¯å°†è¿›ç¨‹è¿›è¡Œåˆ†ç»„ï¼Œè‡³äºŽè¦åœ¨åˆ†ç»„çš„åŸºç¡€ä¸Šåšäº›ä»€ä¹ˆï¼Œå°†ç”±åº”ç”¨ç¨‹åºè‡ªå·±å†³å®šï¼Œsystemdå°±æ˜¯ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒLinuxæ”¯æŒ12ç§subsystemï¼Œæ¯”å¦‚é™åˆ¶CPUçš„ä½¿ç”¨æ—¶é—´ï¼Œé™åˆ¶ä½¿ç”¨çš„å†…å­˜ï¼Œç»Ÿè®¡CPUçš„ä½¿ç”¨æƒ…å†µï¼Œå†»ç»“å’Œæ¢å¤ä¸€ç»„è¿›ç¨‹ç­‰ã€‚ subsystemID å¼•å…¥çš„ç›¸å…³å†…æ ¸ç‰ˆæœ¬ æä¾›æ•ˆæžœ cpu Linux 2.6.24; CONFIG_CGROUP_SCHED ç”¨æ¥é™åˆ¶cgroupçš„CPUä½¿ cpuacct Linux 2.6.24; CONFIG_CGROUP_CPUACCT ç»Ÿè®¡cgroupçš„CPUçš„ä½¿ç”¨çŽ‡ã€‚ cpuset Linux 2.6.24; CONFIG_CPUSETS ç»‘å®šcgroupåˆ°æŒ‡å®šCPUså’ŒNUMAèŠ‚ç‚¹ã€‚ memory Linux 2.6.25; CONFIG_MEMCG ç»Ÿè®¡å’Œé™åˆ¶cgroupçš„å†…å­˜çš„ä½¿ç”¨çŽ‡ï¼ŒåŒ…æ‹¬process memory, kernel memory, å’Œswapã€‚ devices Linux 2.6.26; CONFIG_CGROUP_DEVICE é™åˆ¶cgroupåˆ›å»º(mknod)å’Œè®¿é—®è®¾å¤‡çš„æƒé™ã€‚ freezer Linux 2.6.28; CONFIG_CGROUP_FREEZER suspendå’Œrestoreä¸€ä¸ªcgroupä¸­çš„æ‰€æœ‰è¿›ç¨‹ã€‚ net_cls Linux 2.6.29; CONFIG_CGROUP_NET_CLASSID å°†ä¸€ä¸ªcgroupä¸­è¿›ç¨‹åˆ›å»ºçš„æ‰€æœ‰ç½‘ç»œåŒ…åŠ ä¸Šä¸€ä¸ªclassidæ ‡è®°ï¼Œç”¨äºŽtcå’Œiptablesã€‚ åªå¯¹å‘å‡ºåŽ»çš„ç½‘ç»œåŒ…ç”Ÿæ•ˆï¼Œå¯¹æ”¶åˆ°çš„ç½‘ç»œåŒ…ä¸èµ·ä½œç”¨ã€‚ blkio Linux 2.6.33; CONFIG_BLK_CGROUP é™åˆ¶cgroupè®¿é—®å—è®¾å¤‡çš„IOé€Ÿåº¦ã€‚ perf_event Linux 2.6.39; CONFIG_CGROUP_PERF å¯¹cgroupè¿›è¡Œæ€§èƒ½ç›‘æŽ§ net_prio Linux 3.3; CONFIG_CGROUP_NET_PRIO é’ˆå¯¹æ¯ä¸ªç½‘ç»œæŽ¥å£è®¾ç½®cgroupçš„è®¿é—®ä¼˜å…ˆçº§ã€‚ hugetlb Linux 3.5; CONFIG_CGROUP_HUGETLB é™åˆ¶cgroupçš„huge pagesçš„ä½¿ç”¨é‡ã€‚ pids Linux 4.3; CONFIG_CGROUP_PIDS é™åˆ¶ä¸€ä¸ªcgroupåŠå…¶å­å­™cgroupä¸­çš„æ€»è¿›ç¨‹æ•°ã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux åŸºç¡€</tag>
        <tag>container</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ trivialç±»åž‹]]></title>
    <url>%2F2019%2F03%2F31%2FC%2B%2B%2Fc-trivial%2F</url>
    <content type="text"><![CDATA[Trivalç±»åž‹ æœ€è¿‘åœ¨çœ‹ã€ŠSTLæºç å‰–æžã€‹æ—¶çœ‹åˆ°å¯¹äºŽTrivalå’ŒPODç±»åž‹ï¼Œæ¨¡æ¿ä¼šæœ‰ç›¸åº”çš„ç‰¹åŒ–ï¼Œå¯¹äºŽTrivalç±»åž‹çš„æ“ä½œä¸éœ€é€ä¸ªè°ƒç”¨æž„é€ å‡½æ•°å’Œæžæž„å‡½æ•°ã€‚ä½†æ˜¯ä¸æ¸…æ¥šTrivalçš„å«ä¹‰ï¼Œå› æ­¤æŸ¥äº†ä¸€ä¸‹ã€‚ A trivially copyable class is a class that: â€” has no non-trivial copy constructors (12.8), â€” has no non-trivial move constructors (12.8), â€” has no non-trivial copy assignment operators (13.5.3, 12.8), â€” has no non-trivial move assignment operators (13.5.3, 12.8), and â€” has a trivial destructor (12.4). A trivial class is a class that has a trivial default constructor (12.1) and is trivially copyable. [ Note: In particular, a trivially copyable or trivial class does not have virtual functions or virtual base classes.â€”end note ] å…¶ä»–è¦æ±‚ï¼š â‘ æ²¡æœ‰è™šæˆå‘˜ï¼ˆä¸å«è™šå‡½æ•°ä»¥åŠè™šåŸºç±»ï¼‰ â‘¡æ²¡æœ‰ç±»å†…åˆå§‹åŒ–çš„éžé™æ€æ•°æ®æˆå‘˜ â‘¢å¦‚æžœå®ƒæ‹¥æœ‰åŸºç±»æˆ–è€…éžé™æ€æˆå‘˜ï¼Œå®ƒä»¬ä¹Ÿåº”è¯¥æ˜¯trivialçš„ trivial constructor and trivial destructor trivialæž„é€ å‡½æ•°å³æž„é€ å‡½æ•°â€œä»€ä¹ˆéƒ½ä¸å¹²â€ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸å®šä¹‰ç±»çš„æž„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªå¹³å‡¡çš„é»˜è®¤æž„é€ å‡½æ•°ã€‚ä½†å¦‚æžœè¯¥ç±»å«æœ‰è™šå‡½æ•°æˆ–è€…æ•°æ®æˆå‘˜æ²¡æœ‰é»˜è®¤æž„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨æ˜¯ä¸ä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆtrivialçš„é»˜è®¤æž„é€ å‡½æ•°çš„ã€‚æžæž„å‡½æ•°ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚ trivial copy constructor and trivial copy constructor trivial æ‹·è´æž„é€ å‡½æ•°åŸºæœ¬ä¸Šç­‰åŒäºŽmemcpyè¿›è¡Œç±»åž‹çš„æž„é€ ã€‚åŒtrivial æž„é€ å‡½æ•°ä¸€æ ·ï¼Œç¼–è¯‘å™¨åœ¨ç”¨æˆ·ä¸æä¾›çš„æƒ…å†µä¸‹ï¼Œé€šå¸¸ä¼šæä¾›trivial æ‹·è´æž„é€ å‡½æ•°ã€‚ trivial ç§»åŠ¨æž„é€ å‡½æ•°æ‰§è¡Œçš„æ“ä½œä¸Žtrivial æ‹·è´æž„é€ å‡½æ•°ç›¸åŒï¼Œéƒ½æ˜¯bytewiseçš„æ‹·è´ï¼Œåªæ˜¯ç”¨äºŽç§»åŠ¨è¯­ä¹‰ã€‚ è¯¦ç»†è¯·çœ‹]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++è¿›é˜¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[copy_move_constractor]]></title>
    <url>%2F2019%2F03%2F27%2FC%2B%2B%2Fcopy-move-constractor%2F</url>
    <content type="text"><![CDATA[æ‹·è´æž„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼å‡½æ•° 12345678910//æ‹·è´æž„é€ å‡½æ•°A(const A&amp; t)&#123; ...&#125;//æ‹·è´èµ‹å€¼è¿ç®—ç¬¦A&amp; operator=(const A&amp; rhs)&#123; ...&#125; æ‹·è´æž„é€ å‡½æ•°åªåœ¨å¯¹è±¡å®žä¾‹åŒ–æ—¶æ‰ä¼šè¢«è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¤åˆ¶æž„é€ å‡½æ•°è°ƒç”¨æœŸé—´ï¼Œè¿™ä¸ªå¯¹è±¡å¤„äºŽä¸€ä¸ªæœªå†³çŠ¶æ€ï¼ˆç›´åˆ°å¤åˆ¶æž„é€ å‡½æ•°è¢«æˆåŠŸè°ƒç”¨ï¼‰ï¼Œå¦å¤–æ‹·è´æž„é€ å‡½æ•°ä¸è¿”å›žä»»ä½•å€¼ã€‚ æ‹·è´æž„é€ å‡½æ•°åº”ç”¨çš„åœºåˆæœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š 1 å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”æ˜¯å€¼ä¼ é€’æ–¹å¼ 2 å‡½æ•°çš„è¿”å›žå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”æ˜¯å€¼ä¼ é€’æ–¹å¼ 3 ç”¨ä¸€ä¸ªå¯¹è±¡åˆå§‹åŒ–å¦å¤–ä¸€ä¸ªå¯¹è±¡ èµ‹å€¼è¿ç®—ç¬¦åˆ™åœ¨ä¸€ä¸ªçŽ°å­˜çš„å¯¹è±¡è¢«èµ‹äºˆæ–°çš„å€¼æ—¶è¢«è°ƒç”¨ï¼Œå¹¶ä¸”å®ƒæœ‰è¿”å›žå€¼ã€‚ 123456789Test test; //å®žä¾‹åŒ–testå¯¹è±¡æ—¶è°ƒç”¨äº†é»˜è®¤æž„é€ å‡½æ•°Test test1=test;// test1ä½¿ç”¨äº†å¤åˆ¶æž„é€ å‡½æ•°ï¼ˆå› ä¸ºè¿™æ˜¯ä¸€ä¸ªæ–°çš„å¯¹è±¡äº§ç”Ÿï¼‰Test test2(test);//test2æ—¶ä¹Ÿæ˜¯ç”¨äº†å¤åˆ¶æž„é€ å‡½æ•°ï¼ŒTest test3=test2=test1;//è€Œtest2=test1åˆ™ä½¿ç”¨äº†èµ‹å€¼æž„é€ å‡½æ•°ï¼ˆæ²¡æœ‰æ–°çš„å¯¹è±¡äº§ç”Ÿï¼‰ï¼ŒTest test3=test2=test1;//test3=test2åˆ™ä½¿ç”¨äº†å¤åˆ¶æž„é€ å‡½æ•°ï¼ŒåŽŸå› åŒä¸Šã€‚ ç§»åŠ¨æž„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼å‡½æ•° 12345678910//ç§»åŠ¨æž„é€ å‡½æ•°A(A&amp;&amp; t)&#123; ...&#125;//ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦A&amp; operator=(A&amp;&amp; rhs)&#123; ...&#125; è¦å®žçŽ°è½¬ç§»è¯­ä¹‰ï¼Œéœ€è¦å®šä¹‰è½¬ç§»æž„é€ å‡½æ•°ï¼Œå½“ç„¶è¿˜å¯ä»¥å®šä¹‰è½¬ç§»èµ‹å€¼æ“ä½œç¬¦ã€‚å¯¹äºŽå³å€¼çš„æ‹·è´å’Œèµ‹å€¼ä¼šè°ƒç”¨è½¬ç§»æž„é€ å‡½æ•°å’Œè½¬ç§»èµ‹å€¼æ“ä½œç¬¦ã€‚å¦‚æžœè½¬ç§»æž„é€ å‡½æ•°å’Œè½¬ç§»æ‹·è´æ“ä½œç¬¦æ²¡æœ‰å®šä¹‰ï¼Œé‚£ä¹ˆæ‹·è´æž„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œç¬¦ä¼šè¢«è°ƒç”¨ã€‚ ä¸¤è€…åŒºåˆ«ä¸Žæ‹·è´æž„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦çš„åŒºåˆ«ç›¸åŒï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†è¾¨æž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨æ€è§„åˆ’æ€»ç»“]]></title>
    <url>%2F2019%2F03%2F26%2FLeetCode%2Fdynamic-programing%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€è§„åˆ’çš„ä¸¤å¤§åŽŸåˆ™[è½¬] æœ€ä¼˜å­ç»“æž„ ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜çš„ç¬¬ä¸€æ­¥å°±æ˜¯åˆ»ç”»æœ€ä¼˜è§£çš„ç»“æž„ï¼Œå¦‚æžœä¸€ä¸ªé—®é¢˜çš„è§£ç»“æž„åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œå°±ç§°æ­¤é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æž„æ€§è´¨ã€‚å› æ­¤ï¼ŒæŸä¸ªé—®é¢˜æ˜¯å¦é€‚åˆåº”ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œå®ƒæ˜¯å¦å…·æœ‰æœ€ä¼˜å­ç»“æž„æ€§è´¨æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„çº¿ç´¢ã€‚ä½¿ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æ—¶ï¼Œç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£æ¥æž„é€ åŽŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚å› æ­¤å¿…é¡»è€ƒæŸ¥æœ€ä¼˜è§£ä¸­ç”¨åˆ°çš„æ‰€æœ‰å­é—®é¢˜ã€‚ é‡å å­é—®é¢˜ åœ¨æ–æ³¢æ‹‰å¥‘æ•°åˆ—æ±‚è§£ä¸­ï¼Œå¯ä»¥çœ‹åˆ°å¤§é‡çš„é‡å å­é—®é¢˜ï¼Œæ¯”å¦‚è¯´åœ¨æ±‚fibï¼ˆ6ï¼‰çš„æ—¶å€™ï¼Œfibï¼ˆ2ï¼‰è¢«è°ƒç”¨äº†5æ¬¡ã€‚å¦‚æžœä½¿ç”¨é€’å½’ç®—æ³•çš„æ—¶å€™ä¼šåå¤çš„æ±‚è§£ç›¸åŒçš„å­é—®é¢˜ï¼Œä¸åœçš„è°ƒç”¨å‡½æ•°ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„å­é—®é¢˜ã€‚å¦‚æžœé€’å½’ç®—æ³•åå¤æ±‚è§£ç›¸åŒçš„å­é—®é¢˜ï¼Œå°±ç§°ä¸ºå…·æœ‰é‡å å­é—®é¢˜ï¼ˆoverlapping subproblemsï¼‰æ€§è´¨ã€‚åœ¨åŠ¨æ€è§„åˆ’ç®—æ³•ä¸­ä½¿ç”¨æ•°ç»„æ¥ä¿å­˜å­é—®é¢˜çš„è§£ï¼Œè¿™æ ·å­é—®é¢˜å¤šæ¬¡æ±‚è§£çš„æ—¶å€™å¯ä»¥ç›´æŽ¥æŸ¥è¡¨ä¸ç”¨è°ƒç”¨å‡½æ•°é€’å½’ã€‚ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ æž„å»ºä¸€ä¸ªåŠ¨æ€è§„åˆ’ç®—æ³•åˆ†ä¸ºå‡ ä¸ªæ­¥éª¤ï¼š åˆ»ç”»ä¸€ä¸ªæœ€ä¼˜è§£çš„ç»“æž„ç‰¹å¾ã€‚ é€’å½’åœ°å®šä¹‰æœ€ä¼˜è§£çš„å€¼ã€‚ è®¡ç®—æœ€ä¼˜è§£çš„å€¼ï¼Œé€šå¸¸é‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³•ã€‚ åˆ©ç”¨è®¡ç®—å‡ºçš„ä¿¡æ¯æž„é€ ä¸€ä¸ªæœ€ä¼˜è§£ã€‚ ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±åœ¨ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥ä¸­ï¼Œé¦–å…ˆè¦ç¡®å®šé—®é¢˜çš„å†³ç­–å¯¹è±¡ï¼ŒæŽ¥ç€å¯¹å†³ç­–å¯¹è±¡åˆ’åˆ†é˜¶æ®µå¹¶ç¡®å®šå„ä¸ªé˜¶æ®µçš„çŠ¶æ€å˜é‡ï¼Œæœ€åŽå»ºç«‹å„é˜¶æ®µçš„çŠ¶æ€å˜é‡çš„è½¬ç§»æ–¹ç¨‹ã€‚å…¶å½¢å¼å¦‚ä¸‹ï¼š çŠ¶æ€i=æœ€ä¼˜è§£ï¼ˆå½“å‰çŠ¶æ€k,ä¸‹ä¸€è½¬ç§»çŠ¶æ€ï¼‰+å˜åŒ–é‡ï¼ˆoptionalï¼‰çŠ¶æ€i = æœ€ä¼˜è§£ï¼ˆå½“å‰çŠ¶æ€k,ä¸‹ä¸€è½¬ç§»çŠ¶æ€ï¼‰+å˜åŒ–é‡ï¼ˆoptionalï¼‰ çŠ¶æ€i=æœ€ä¼˜è§£ï¼ˆå½“å‰çŠ¶æ€k,ä¸‹ä¸€è½¬ç§»çŠ¶æ€ï¼‰+å˜åŒ–é‡ï¼ˆoptionalï¼‰ å¸¸è§é—®é¢˜çš„çŠ¶æ€è½¬ç§»å…¬å¼æ€»ç»“ åŠ¨æ€è§„åˆ’çš„ç¼–ç¨‹æ¨¡æ¿ â‘ é€’å½’ç‰ˆæœ¬ 1234567891011int cut(vector&lt;int&gt; p,int n) &#123; if(n==0) return 0; int q=INT_MIN; for(int i=1;i&lt;=n;i++) &#123; q=max(q, p[i-1]+cut(p, n-i)); &#125; return q; &#125; â‘¡å¤‡å¿˜å½•ç‰ˆæœ¬ 12345678910111213141516171819202122int cutMemo(vector&lt;int&gt; p) &#123; int r[p.size()]]; for(int i=0;i&lt;=p.size();i++) r[i]=-1; return cut(p, p.size(), r); &#125; public static int cut(vector&lt;int&gt; p,int n,vector&lt;int&gt; &amp;r) &#123; int q=-1; if(r[n]&gt;=0) return r[n]; if(n==0) q=0; else &#123; for(int i=1;i&lt;=n;i++) q=max(q, cut(p, n-i,r)+p[i-1]); &#125; r[n]=q; return q; &#125; å¤‡å¿˜å½•æ–¹æ³•å°±æ˜¯åœ¨é€’å½’çš„æ—¶å€™è®°å½•ä¸‹å·²ç»è°ƒç”¨è¿‡çš„å­å‡½æ•°çš„å€¼ã€‚ â‘¢è‡ªåº•å‘ä¸Š 12345678910111213int buttom_up_cut(vector&lt;int&gt; p) &#123; int r[p.size()]; for(int i=0;i&lt;p.size();i++) &#123; int q=-1; //â‘  for(int j=0;j&lt;=i;j++) q=Math.max(q, p[j-1]+r[i-j]); r[i]=q; &#125; return r[p.size()-1]; &#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>çŸ¥è¯†æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[c++å‘½åç©ºé—´]]></title>
    <url>%2F2019%2F03%2F25%2FC%2B%2B%2Fc-namespace%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å‘½åç©ºé—´ **å‘½åç©ºé—´:**å®žé™…ä¸Šå°±æ˜¯ä¸€ä¸ªç”±ç¨‹åºè®¾è®¡è€…å‘½åçš„å†…å­˜åŒºåŸŸï¼Œç¨‹åºè®¾è®¡è€…å¯ä»¥æ ¹æ®éœ€è¦æŒ‡å®šä¸€äº›æœ‰åå­—çš„ç©ºé—´åŸŸï¼ŒæŠŠä¸€äº›å…¨å±€å®žä½“åˆ†åˆ«æ”¾åœ¨å„ä¸ªå‘½åç©ºé—´ä¸­ï¼Œä»Žè€Œä¸Žå…¶ä»–å…¨å±€å®žä½“åˆ†éš”å¼€æ¥ã€‚ 123namespace n1&#123; ...&#125; å‘½åå†²çªï¼šåªæœ‰åŒä¸€ä¸ªåå­—ç©ºé—´ä¸­åŒä¸€ä½œç”¨åŸŸä¸‹ï¼Œç›¸åŒçš„åå­—æ‰ä¼šå†²çªã€‚æ‰€ä»¥è¦è§£å†³å†²çªæ— éžå°±æ˜¯ä¿®æ”¹åå­—ç©ºé—´æˆ–è€…ä½œç”¨åŸŸã€‚ é¦–å…ˆè¯´ä¿®æ”¹ä½œç”¨åŸŸï¼Œåœ¨Cä¸­ï¼Œæ–‡ä»¶ä½œç”¨åŸŸçš„æ ‡è¯†ç¬¦æœ‰ä¸€ä¸ªé“¾æŽ¥å±žæ€§ï¼Œstaticä¿®é¥°çš„ï¼Œçš„ä½œç”¨åŸŸä»…ä»…é™äºŽæœ¬.cæ–‡ä»¶ï¼Œè€Œexternï¼ˆæˆ–è€…é»˜è®¤æƒ…å†µä¸‹ï¼‰ä½œç”¨åŸŸæ˜¯æ‰€æœ‰.cæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ªå…¶ä¸­ä¸€ä¸ªconanåŠ ä¸Šstaticä¿®é¥°ï¼Œè¿™æ ·å°±æ”¹å˜äº†ä½œç”¨åŸŸï¼Œå°±ä¸ä¼šå†²çªäº†ï¼Œä½†æ˜¯é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬æ—¢ç„¶å®šä¹‰æˆå…¨å±€å˜é‡ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›å®ƒæœ‰å¤–éƒ¨é“¾æŽ¥å±žæ€§ã€‚æˆ‘ä»¬ä¹‹æ‰€ä»¥å®šä¹‰æˆå…¨å±€å˜é‡ï¼Œå¾ˆå¯èƒ½å°±æ˜¯ä¸ºäº†è®©å…¶ä»–.cæ–‡ä»¶ä½¿ç”¨ã€‚æ‰€ä»¥staticè™½ç„¶è§£å†³äº†å†²çªï¼Œä½†æ˜¯æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚ é‚£ä¹ˆæˆ‘ä»¬åªèƒ½å¤Ÿç”¨å¦ä¸€ç§æ–¹æ³•è§£å†³å†²çªäº†ï¼Œå°±æ˜¯ä¿®æ”¹åå­—ç©ºé—´ï¼Œè¿™åœ¨Cè¯­è¨€ä¸­æ˜¯ä¸å¯è¡Œçš„ï¼Œä½†æ˜¯åœ¨Cä¸­æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºCå¯ä»¥è‡ªå®šä¹‰åå­—ç©ºé—´ã€‚ äºŒã€åµŒå¥—åå­—ç©ºé—´ 1. æ™®é€šåµŒå¥—åå­—ç©ºé—´ ä¸€ä¸ªåµŒå¥—åå­—ç©ºé—´å°±æ˜¯ä¸€ä¸ªåµŒå¥—ä½œç”¨åŸŸï¼Œå…¶ä½œç”¨åŸŸåµŒå¥—åœ¨åŒ…å«ä»–çš„åå­—ç©ºé—´ä¸­ã€‚ åœ¨å¤–éƒ¨å¼•ç”¨åµŒå¥—ç©ºé—´ä¸­çš„æˆå‘˜æ—¶,ä½¿ç”¨ä¸‹é¢çš„å½¢å¼ 1åŒ…å«åµŒå¥—ç©ºé—´çš„åå­—ç©ºé—´çš„åå­—::åµŒå¥—ç©ºé—´çš„åå­—::åµŒå¥—ç©ºé—´çš„æˆå‘˜ 2. å†…è”åµŒå¥—åå­—ç©ºé—´ C++11ä¸­ï¼Œæ–°å¢žinline namespaceï¼ŒæŒ‡ç¤ºå‘½åç©ºé—´ä¸­çš„åç§°åŒæ—¶æ˜¯å¤–å±‚å‘½åç©ºé—´ç›´æŽ¥åŒ…å«çš„åç§°ã€‚è¿™ä¾¿äºŽå‘½åç©ºé—´çš„ç‰ˆæœ¬ç®¡ç†ï¼Œå‡å°‘å†²çªã€‚ inlineæè¿°ç¬¦ä½¿å¾—å†…è”å‘½åç©ºé—´ä¸­çš„å£°æ˜Žçœ‹èµ·æ¥å°±å¥½åƒæ˜¯ç›´æŽ¥åœ¨å¤–å›´çš„å‘½åç©ºé—´ä¸­è¿›è¡Œå£°æ˜Žçš„ä¸€æ ·ã€‚ï¼ˆä½¿ç”¨inlineå…³é”®å­—å®šä¹‰çš„å†…è”åå­—ç©ºé—´æˆä¸ºé»˜è®¤åå­—ç©ºé—´ã€‚ï¼‰ inlineæè¿°ç¬¦ç”±å‘½åç©ºé—´çš„è®¾è®¡è€…æ”¾ç½®ï¼Œå³å‘½åç©ºé—´çš„ä½œè€…å¯ä»¥é€šè¿‡æ”¾ç½®inlineæè¿°ç¬¦æ¥è¡¨ç¤ºå½“å‰æœ€æ–°çš„å‘½åç©ºé—´æ˜¯å“ªä¸ª. ä¸‰ã€å…¨å±€å‘½åç©ºé—´ å…¨å±€å‘½åç©ºé—´æ˜¯éšå¼å£°æ˜Žçš„,å­˜åœ¨äºŽæ¯ä¸ªç¨‹åºä¸­ã€‚åœ¨å…¨å±€ä½œç”¨åŸŸå®šä¹‰å®žä½“çš„æ¯ä¸ªæ–‡ä»¶å°†é‚£äº›åå­—åŠ åˆ°å…¨å±€å‘½åç©ºé—´ã€‚ å¯ä»¥ç”¨ä½œç”¨åŸŸæ“ä½œç¬¦å¼•ç”¨å…¨å±€å‘½åç©ºé—´çš„æˆå‘˜ã€‚å› ä¸ºå…¨å±€å‘½åç©ºé—´æ˜¯éšå«çš„,å®ƒæ²¡æœ‰åå­—, æ‰€ä»¥ä½¿ç”¨è®°å·å¦‚ä¸‹æ–¹æ³•å¼•ç”¨å…¨å±€å‘½åç©ºé—´çš„æˆå‘˜ã€‚ 1::member_name å››ã€åŒ¿ååå­—ç©ºé—´ å‘½åç©ºé—´å¯ä»¥æ˜¯æœªå‘½åçš„,æœªå‘½åçš„å‘½åç©ºé—´åœ¨å®šä¹‰æ—¶æ²¡æœ‰ç»™å®šåå­—ã€‚å…¶å®šä¹‰æ–¹æ³•å¦‚ä¸‹ï¼š 1234namespace //No name&#123; //members....&#125; æœªå‘½åçš„å‘½åç©ºé—´ä¸Žå…¶ä»–å‘½åç©ºé—´ä¸åŒ,æœªå‘½åçš„å‘½åç©ºé—´çš„å®šä¹‰å±€éƒ¨äºŽç‰¹å®šæ–‡ä»¶,ä»Žä¸è·¨è¶Šå¤šä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚ æœªå‘½åçš„å‘½åç©ºé—´å¯ä»¥åœ¨ç»™å®šæ–‡ä»¶ä¸­ä¸è¿žç»­,ä½†ä¸èƒ½è·¨è¶Šæ–‡ä»¶,æ¯ä¸ªæ–‡ä»¶æœ‰è‡ªå·±çš„æœªå‘½åçš„å‘½åç©ºé—´ã€‚ æœªå‘½åçš„å‘½åç©ºé—´ç”¨äºŽå£°æ˜Žå±€éƒ¨äºŽæ–‡ä»¶çš„å®žä½“ã€‚åœ¨æœªå‘½åçš„å‘½åç©ºé—´ä¸­å®šä¹‰çš„å˜é‡åœ¨ç¨‹åºå¼€å§‹æ—¶åˆ›å»º,åœ¨ç¨‹åºç»“æŸä¹‹å‰ä¸€ç›´å­˜åœ¨ã€‚ æœªå‘½åçš„å‘½åç©ºé—´ä¸­å®šä¹‰çš„åå­—å¯ç›´æŽ¥ä½¿ç”¨,å› ä¸ºæ²¡æœ‰å‘½åç©ºé—´åå­—æ¥é™å®šå®ƒä»¬ã€‚ ç”±ä»¥ä¸Šç‰¹æ€§ï¼Œæœªå‘½åçš„å‘½åç©ºé—´å¯ä»¥å–ä»£æ–‡ä»¶ä¸­çš„é™æ€å£°æ˜Ž åœ¨æ ‡å‡† C++ ä¸­å¼•å…¥å‘½åç©ºé—´ä¹‹å‰,ç¨‹åºå¿…é¡»å°†åå­—å£°æ˜Žä¸ºstatic,ä½¿å®ƒä»¬çš„ä½œç”¨åŸŸçº¦æŸäºŽä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ æ–‡ä»¶ä¸­é™æ€å£°æ˜Žçš„æ–¹æ³•æ˜¯ä»Ž C è¯­è¨€ç»§æ‰¿è€Œæ¥, C++ ä¸èµžæˆæ–‡ä»¶é™æ€å£°æ˜Žï¼Œå› ä¸ºè¿™å¯èƒ½åœ¨æœªæ¥ç‰ˆæœ¬ä¸­ä¸æ”¯æŒã€‚ æ‰€ä»¥åº”è¯¥é¿å…æ–‡ä»¶é™æ€è€Œä½¿ç”¨æœªå‘½åç©ºé—´ä»£æ›¿ã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ç±»å†…å­˜ç»“æž„]]></title>
    <url>%2F2019%2F03%2F25%2FC%2B%2B%2Fc-classmemory%2F</url>
    <content type="text"><![CDATA[åŽŸæ–‡åœ°å€]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[goole styleguide å­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2019%2F03%2F25%2FPrograming%2Fstyleguide-note%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å¤´æ–‡ä»¶ 1.1. Self-contained å¤´æ–‡ä»¶ æ‰€æœ‰.hå¤´æ–‡ä»¶è¦èƒ½å¤Ÿè‡ªç»™è‡ªè¶³ã€‚æ¢è¨€ä¹‹ï¼Œç”¨æˆ·å’Œé‡æž„å·¥å…·ä¸éœ€è¦ä¸ºç‰¹åˆ«åœºåˆè€ŒåŒ…å«é¢å¤–çš„å¤´æ–‡ä»¶ã€‚ ä¸è¿‡æœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå³ä¸€ä¸ªæ–‡ä»¶å¹¶ä¸æ˜¯ self-contained çš„ï¼Œè€Œæ˜¯ä½œä¸ºæ–‡æœ¬æ’å…¥åˆ°ä»£ç æŸå¤„ã€‚æˆ–è€…ï¼Œæ–‡ä»¶å†…å®¹å®žé™…ä¸Šæ˜¯å…¶å®ƒå¤´æ–‡ä»¶çš„ç‰¹å®šå¹³å°ï¼ˆplatform-specificï¼‰æ‰©å±•éƒ¨åˆ†ã€‚è¿™äº›æ–‡ä»¶å°±è¦ç”¨ .inc æ–‡ä»¶æ‰©å±•åã€‚ 1.2. #define ä¿æŠ¤ æ‰€æœ‰å¤´æ–‡ä»¶éƒ½åº”è¯¥ä½¿ç”¨ #define æ¥é˜²æ­¢å¤´æ–‡ä»¶è¢«å¤šé‡åŒ…å«, å‘½åæ ¼å¼å½“æ˜¯: &lt;PROJECT&gt;_&lt;PATH&gt;_&lt;FILE&gt;_H_ . 1.3. å‰ç½®å£°æ˜Ž å°½å¯èƒ½åœ°é¿å…ä½¿ç”¨å‰ç½®å£°æ˜Žã€‚ä½¿ç”¨ #include åŒ…å«éœ€è¦çš„å¤´æ–‡ä»¶å³å¯ã€‚ å‰ç½®å£°æ˜Žæœ‰ä¸€äº›ä¼˜ç‚¹ï¼Œä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼š å‰ç½®å£°æ˜Žèƒ½å¤ŸèŠ‚çœç¼–è¯‘æ—¶é—´ï¼Œå¤šä½™çš„ #include ä¼šè¿«ä½¿ç¼–è¯‘å™¨å±•å¼€æ›´å¤šçš„æ–‡ä»¶ï¼Œå¤„ç†æ›´å¤šçš„è¾“å…¥ã€‚ å‰ç½®å£°æ˜Žèƒ½å¤ŸèŠ‚çœä¸å¿…è¦çš„é‡æ–°ç¼–è¯‘çš„æ—¶é—´ã€‚ #include ä½¿ä»£ç å› ä¸ºå¤´æ–‡ä»¶ä¸­æ— å…³çš„æ”¹åŠ¨è€Œè¢«é‡æ–°ç¼–è¯‘å¤šæ¬¡ã€‚ ç¼ºç‚¹ï¼š å‰ç½®å£°æ˜Žéšè—äº†ä¾èµ–å…³ç³»ï¼Œå¤´æ–‡ä»¶æ”¹åŠ¨æ—¶ï¼Œç”¨æˆ·çš„ä»£ç ä¼šè·³è¿‡å¿…è¦çš„é‡æ–°ç¼–è¯‘è¿‡ç¨‹ã€‚ å‰ç½®å£°æ˜Žå¯èƒ½ä¼šè¢«åº“çš„åŽç»­æ›´æ”¹æ‰€ç ´åã€‚å‰ç½®å£°æ˜Žå‡½æ•°æˆ–æ¨¡æ¿æœ‰æ—¶ä¼šå¦¨ç¢å¤´æ–‡ä»¶å¼€å‘è€…å˜åŠ¨å…¶ API. ä¾‹å¦‚æ‰©å¤§å½¢å‚ç±»åž‹ï¼ŒåŠ ä¸ªè‡ªå¸¦é»˜è®¤å‚æ•°çš„æ¨¡æ¿å½¢å‚ç­‰ç­‰ã€‚ å‰ç½®å£°æ˜Žæ¥è‡ªå‘½åç©ºé—´ std:: çš„ symbol æ—¶ï¼Œå…¶è¡Œä¸ºæœªå®šä¹‰ã€‚ å¾ˆéš¾åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å‰ç½®å£°æ˜Žï¼Œä»€ä¹ˆæ—¶å€™è¯¥ç”¨ #include ã€‚æžç«¯æƒ…å†µä¸‹ï¼Œç”¨å‰ç½®å£°æ˜Žä»£æ›¿ includes ç”šè‡³éƒ½ä¼šæš—æš—åœ°æ”¹å˜ä»£ç çš„å«ä¹‰ï¼š 12345678910&gt; &gt; // b.h:&gt; &gt; struct B &#123;&#125;;&gt; &gt; struct D : B &#123;&#125;;&gt; &gt; &gt; &gt; // good_user.cc:&gt; &gt; #include "b.h"&gt; &gt; void f(B*);&gt; &gt; void f(void*);&gt; &gt; void test(D* x) &#123; f(x); &#125; // calls f(B*)&gt; &gt; å¦‚æžœ #include è¢« B å’Œ D çš„å‰ç½®å£°æ˜Žæ›¿ä»£ï¼Œ test() å°±ä¼šè°ƒç”¨ f(void*) . å‰ç½®å£°æ˜Žäº†ä¸å°‘æ¥è‡ªå¤´æ–‡ä»¶çš„ symbol æ—¶ï¼Œå°±ä¼šæ¯”å•å•ä¸€è¡Œçš„ include å†—é•¿ã€‚ ä»…ä»…ä¸ºäº†èƒ½å‰ç½®å£°æ˜Žè€Œé‡æž„ä»£ç ï¼ˆæ¯”å¦‚ç”¨æŒ‡é’ˆæˆå‘˜ä»£æ›¿å¯¹è±¡æˆå‘˜ï¼‰ä¼šä½¿ä»£ç å˜å¾—æ›´æ…¢æ›´å¤æ‚. **æ³¨æ„ï¼š**å‰ç½®å£°æ˜Žçš„ç±»æ˜¯ä¸å®Œå…¨ç±»åž‹ï¼ˆincomplete typeï¼‰ï¼Œæˆ‘ä»¬åªèƒ½å®šä¹‰æŒ‡å‘è¯¥ç±»åž‹çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œæˆ–è€…å£°æ˜Žï¼ˆä½†ä¸èƒ½å®šä¹‰ï¼‰ä»¥ä¸å®Œå…¨ç±»åž‹ä½œä¸ºå‚æ•°æˆ–è€…è¿”å›žç±»åž‹çš„å‡½æ•°ã€‚æ¯•ç«Ÿç¼–è¯‘å™¨ä¸çŸ¥é“ä¸å®Œå…¨ç±»åž‹çš„å®šä¹‰ï¼Œæˆ‘ä»¬ä¸èƒ½åˆ›å»ºå…¶ç±»çš„ä»»ä½•å¯¹è±¡ï¼Œä¹Ÿä¸èƒ½å£°æ˜Žæˆç±»å†…éƒ¨çš„æ•°æ®æˆå‘˜ã€‚ 1.4. å†…è”å‡½æ•° åªæœ‰å½“å‡½æ•°åªæœ‰ 10 è¡Œç”šè‡³æ›´å°‘æ—¶æ‰å°†å…¶å®šä¹‰ä¸ºå†…è”å‡½æ•°. åœ¨é€šå¸¸æƒ…å†µä¸‹è™šå‡½æ•°å’Œé€’å½’å‡½æ•°å³ä½¿å£°æ˜Žä¸ºå†…è”ä¹Ÿä¸ä¸€å®šä¼šè¢«ç¼–è¯‘å™¨å†…è”ã€‚ åŒ…å«å¾ªçŽ¯æˆ–switchçš„å‡½æ•°å†…è”å¾€å¾€å¾—ä¸å¿å¤±ã€‚ æžæž„å‡½æ•°ç”±äºŽæœ‰éšå«æˆå‘˜å’ŒåŸºç±»è™šæž„è°ƒç”¨çš„å…³ç³»ï¼Œå› æ­¤å¾€å¾€æ¯”æƒ³è±¡çš„é•¿ï¼Œå†…è”éœ€è°¨æ…Žã€‚ 1.5. #include çš„è·¯å¾„åŠé¡ºåº ä½¿ç”¨æ ‡å‡†çš„å¤´æ–‡ä»¶åŒ…å«é¡ºåºå¯å¢žå¼ºå¯è¯»æ€§, é¿å…éšè—ä¾èµ–: å¯¹åº”å¤´æ–‡ä»¶ -&gt; C åº“ -&gt; C++ åº“ -&gt; å…¶ä»–åº“çš„ .h -&gt; æœ¬é¡¹ç›®å†…çš„ .h. é¡¹ç›®å†…å¤´æ–‡ä»¶åº”æŒ‰ç…§é¡¹ç›®æºä»£ç ç›®å½•æ ‘ç»“æž„æŽ’åˆ—, é¿å…ä½¿ç”¨ UNIX ç‰¹æ®Šçš„å¿«æ·ç›®å½• . (å½“å‰ç›®å½•) æˆ– .. (ä¸Šçº§ç›®å½•). ä¾‹å¦‚, google-awesome-project/src/base/logging.h åº”è¯¥æŒ‰å¦‚ä¸‹æ–¹å¼åŒ…å«: 1#include "base/logging.h" äºŒã€ä½œç”¨åŸŸ 1.å‘½åç©ºé—´ é¼“åŠ±åœ¨ .cc æ–‡ä»¶å†…ä½¿ç”¨åŒ¿åå‘½åç©ºé—´æˆ– static å£°æ˜Žã€‚ ä½¿ç”¨å…·åçš„å‘½åç©ºé—´æ—¶, å…¶åç§°å¯åŸºäºŽé¡¹ç›®åæˆ–ç›¸å¯¹è·¯å¾„ã€‚ ç¦æ­¢ä½¿ç”¨ using æŒ‡ç¤ºï¼ˆusing-directiveï¼‰ã€‚ ç¦æ­¢ä½¿ç”¨å†…è”å‘½åç©ºé—´ï¼ˆinline namespaceï¼‰ã€‚ éµå®ˆ å‘½åç©ºé—´å‘½å ä¸­çš„è§„åˆ™ã€‚ åƒä¹‹å‰çš„å‡ ä¸ªä¾‹å­ä¸­ä¸€æ ·ï¼Œåœ¨å‘½åç©ºé—´çš„æœ€åŽæ³¨é‡Šå‡ºå‘½åç©ºé—´çš„åå­—ã€‚ 123456789101112131415161718192021// .h æ–‡ä»¶namespace mynamespace &#123;// æ‰€æœ‰å£°æ˜Žéƒ½ç½®äºŽå‘½åç©ºé—´ä¸­// æ³¨æ„ä¸è¦ä½¿ç”¨ç¼©è¿›class MyClass &#123; public: ... void Foo();&#125;;&#125; // namespace mynamespace// .cc æ–‡ä»¶namespace mynamespace &#123;// å‡½æ•°å®šä¹‰éƒ½ç½®äºŽå‘½åç©ºé—´ä¸­void MyClass::Foo() &#123; ...&#125;&#125; // namespace mynamespace ä¸è¦åœ¨å‘½åç©ºé—´ std å†…å£°æ˜Žä»»ä½•ä¸œè¥¿, åŒ…æ‹¬æ ‡å‡†åº“çš„ç±»å‰ç½®å£°æ˜Ž. åœ¨ std å‘½åç©ºé—´å£°æ˜Žå®žä½“æ˜¯æœªå®šä¹‰çš„è¡Œä¸º, ä¼šå¯¼è‡´å¦‚ä¸å¯ç§»æ¤. å£°æ˜Žæ ‡å‡†åº“ä¸‹çš„å®žä½“, éœ€è¦åŒ…å«å¯¹åº”çš„å¤´æ–‡ä»¶. ä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨ å‘½åç©ºé—´åˆ«å é™¤éžæ˜¾å¼æ ‡è®°å†…éƒ¨å‘½åç©ºé—´ä½¿ç”¨ã€‚å› ä¸ºä»»ä½•åœ¨å¤´æ–‡ä»¶ä¸­å¼•å…¥çš„å‘½åç©ºé—´éƒ½ä¼šæˆä¸ºå…¬å¼€APIçš„ä¸€éƒ¨åˆ†ã€‚ 1234567891011121314// åœ¨ .cc ä¸­ä½¿ç”¨åˆ«åç¼©çŸ­å¸¸ç”¨çš„å‘½åç©ºé—´namespace baz = ::foo::bar::baz;// åœ¨ .h ä¸­ä½¿ç”¨åˆ«åç¼©çŸ­å¸¸ç”¨çš„å‘½åç©ºé—´namespace librarian &#123;namespace impl &#123; // ä»…é™å†…éƒ¨ä½¿ç”¨namespace sidetable = ::pipeline_diagnostics::sidetable;&#125; // namespace implinline void my_inline_function() &#123; // é™åˆ¶åœ¨ä¸€ä¸ªå‡½æ•°ä¸­çš„å‘½åç©ºé—´åˆ«å namespace baz = ::foo::bar::baz; ...&#125;&#125; // namespace librarian 2. åŒ¿åå‘½åç©ºé—´å’Œé™æ€å˜é‡ åœ¨ .cc æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªä¸éœ€è¦è¢«å¤–éƒ¨å¼•ç”¨çš„å˜é‡æ—¶ï¼Œå¯ä»¥å°†å®ƒä»¬æ”¾åœ¨åŒ¿åå‘½åç©ºé—´æˆ–å£°æ˜Žä¸º static ã€‚ä½†æ˜¯ä¸è¦åœ¨ .h æ–‡ä»¶ä¸­è¿™ä¹ˆåšã€‚ 3.éžæˆå‘˜å‡½æ•°ã€é™æ€æˆå‘˜å‡½æ•°å’Œå…¨å±€å‡½æ•° ä½¿ç”¨é™æ€æˆå‘˜å‡½æ•°æˆ–å‘½åç©ºé—´å†…çš„éžæˆå‘˜å‡½æ•°, å°½é‡ä¸è¦ç”¨è£¸çš„å…¨å±€å‡½æ•°â€¦ å°†ä¸€ç³»åˆ—å‡½æ•°ç›´æŽ¥ç½®äºŽå‘½åç©ºé—´ä¸­ï¼Œä¸è¦ç”¨ç±»çš„é™æ€æ–¹æ³•æ¨¡æ‹Ÿå‡ºå‘½åç©ºé—´çš„æ•ˆæžœï¼Œç±»çš„é™æ€æ–¹æ³•åº”å½“å’Œç±»çš„å®žä¾‹æˆ–é™æ€æ•°æ®ç´§å¯†ç›¸å…³. ç›¸æ¯”å•çº¯ä¸ºäº†å°è£…è‹¥å¹²ä¸å…±äº«ä»»ä½•é™æ€æ•°æ®çš„é™æ€æˆå‘˜å‡½æ•°è€Œåˆ›å»ºç±», ä¸å¦‚ä½¿ç”¨å‘½åç©ºé—´ã€‚ 4.å±€éƒ¨å˜é‡ å°†å‡½æ•°å˜é‡å°½å¯èƒ½ç½®äºŽæœ€å°ä½œç”¨åŸŸå†…, å¹¶åœ¨å˜é‡å£°æ˜Žæ—¶è¿›è¡Œåˆå§‹åŒ–. æœ‰ä¸€ä¾‹å¤–ï¼š å¦‚æžœå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡, æ¯æ¬¡è¿›å…¥ä½œç”¨åŸŸéƒ½è¦è°ƒç”¨å…¶æž„é€ å‡½æ•°, æ¯æ¬¡é€€å‡ºä½œç”¨åŸŸéƒ½è¦è°ƒç”¨å…¶æžæž„å‡½æ•°. è¿™ä¼šå¯¼è‡´æ•ˆçŽ‡é™ä½Ž. 1234567891011// ä½Žæ•ˆçš„å®žçŽ°for (int i = 0; i &lt; 1000000; ++i) &#123; Foo f; // æž„é€ å‡½æ•°å’Œæžæž„å‡½æ•°åˆ†åˆ«è°ƒç”¨ 1000000 æ¬¡! f.DoSomething(i);&#125;//é«˜æ•ˆçš„å®žçŽ°Foo f; // æž„é€ å‡½æ•°å’Œæžæž„å‡½æ•°åªè°ƒç”¨ 1 æ¬¡for (int i = 0; i &lt; 1000000; ++i) &#123; f.DoSomething(i);&#125; 5. é™æ€å’Œå…¨å±€å˜é‡ ç¦æ­¢å®šä¹‰é™æ€å‚¨å­˜å‘¨æœŸéžPODå˜é‡(POD : Plain Old Data åŽŸç”Ÿæ•°æ®ç±»åž‹) ç¦æ­¢ä½¿ç”¨å«æœ‰å‰¯ä½œç”¨çš„å‡½æ•°åˆå§‹åŒ–PODå…¨å±€å˜é‡ï¼Œå› ä¸ºå¤šç¼–è¯‘å•å…ƒä¸­çš„é™æ€å˜é‡æ‰§è¡Œæ—¶çš„æž„é€ å’Œæžæž„é¡ºåºæ˜¯æœªæ˜Žç¡®çš„ï¼Œè¿™å°†å¯¼è‡´ä»£ç çš„ä¸å¯ç§»æ¤ã€‚ TODO:è¿™éƒ¨åˆ†è¿˜çœ‹ä¸å¤ªæ˜Žç™½ ä¸‰ã€ç±» 1. æž„é€ å‡½æ•°èŒè´£ ä¸è¦åœ¨æž„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°ã€‚ ä¸è¦åœ¨æž„é€ å‡½æ•°ä¸­å°è¯•æŠ¥å‘Šä¸€ä¸ªéžè‡´å‘½é”™è¯¯ã€‚å¦‚æžœä»£ç å…è®¸, ç›´æŽ¥ç»ˆæ­¢ç¨‹åºæ˜¯ä¸€ä¸ªåˆé€‚çš„å¤„ç†é”™è¯¯çš„æ–¹å¼. å¦åˆ™, è€ƒè™‘ç”¨ Init() æ–¹æ³•æˆ–å·¥åŽ‚å‡½æ•°. 2. éšå¼ç±»åž‹è½¬åŒ– ä¸è¦å®šä¹‰éšå¼ç±»åž‹è½¬æ¢. å¯¹äºŽè½¬æ¢è¿ç®—ç¬¦å’Œå•å‚æ•°æž„é€ å‡½æ•°, è¯·ä½¿ç”¨ explicit å…³é”®å­—. æŽ¥å—ä¸€ä¸ª std::initializer_list ä½œä¸ºå‚æ•°çš„æž„é€ å‡½æ•°ä¹Ÿåº”å½“çœç•¥ explicit, ä»¥ä¾¿æ”¯æŒæ‹·è´åˆå§‹åŒ– (ä¾‹å¦‚ MyType m = {1, 2};) . æ‹·è´å’Œç§»åŠ¨æž„é€ å‡½æ•°ä¸åº”å½“è¢«æ ‡è®°ä¸º explicit, å› ä¸ºå®ƒä»¬å¹¶ä¸æ‰§è¡Œç±»åž‹è½¬æ¢. 3. å¯æ‹·è´ç±»åž‹å’Œå¯ç§»åŠ¨ç±»åž‹ é™¤éžä½ çš„ç±»åž‹éœ€è¦æ‰è®©å®ƒä»¬æ”¯æŒæ‹·è´ / ç§»åŠ¨. å¦åˆ™, å°±æŠŠéšå¼äº§ç”Ÿçš„æ‹·è´å’Œç§»åŠ¨å‡½æ•°ç¦ç”¨. 123// MyClass is neither copyable nor movable.MyClass(const MyClass&amp;) = delete;MyClass&amp; operator=(const MyClass&amp;) = delete; å¦‚æžœè®©ç±»åž‹å¯æ‹·è´, ä¸€å®šè¦åŒæ—¶ç»™å‡ºæ‹·è´æž„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œçš„å®šä¹‰ã€‚ å¦‚æžœè®©ç±»åž‹å¯ç§»åŠ¨ï¼Œé‚£ä¹ˆå°±ç»™å‡ºç§»åŠ¨çš„ä¸¤ä¸ªæ“ä½œ (ç§»åŠ¨æž„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ) çš„å®šä¹‰. 12345678class Foo &#123; public: Foo(Foo&amp;&amp; other) : field_(other.field) &#123;&#125; // å·®, åªå®šä¹‰äº†ç§»åŠ¨æž„é€ å‡½æ•°, è€Œæ²¡æœ‰å®šä¹‰å¯¹åº”çš„èµ‹å€¼è¿ç®—ç¬¦. private: Field field_;&#125;; 4. ç»“æž„ä½“VSç±» ä»…å½“åªæœ‰æ•°æ®æˆå‘˜æ—¶ä½¿ç”¨ struct, å…¶å®ƒä¸€æ¦‚ä½¿ç”¨ class. å¦‚æžœéœ€è¦æ›´å¤šçš„å‡½æ•°åŠŸèƒ½, class æ›´é€‚åˆ. å¦‚æžœæ‹¿ä¸å‡†, å°±ç”¨ class. 5. ç»§æ‰¿ ä½¿ç”¨ç»„åˆå¸¸å¸¸æ¯”ä½¿ç”¨ç»§æ‰¿æ›´åˆç†. å¦‚æžœä½¿ç”¨ç»§æ‰¿çš„è¯, å®šä¹‰ä¸º public ç»§æ‰¿. æ‰€æœ‰ç»§æ‰¿å¿…é¡»æ˜¯ public çš„. å¦‚æžœä½ æƒ³ä½¿ç”¨ç§æœ‰ç»§æ‰¿, ä½ åº”è¯¥æ›¿æ¢æˆæŠŠåŸºç±»çš„å®žä¾‹ä½œä¸ºæˆå‘˜å¯¹è±¡çš„æ–¹å¼. 6. å¤šé‡ç»§æ‰¿ åªåœ¨ä»¥ä¸‹æƒ…å†µæˆ‘ä»¬æ‰å…è®¸å¤šé‡ç»§æ‰¿: æœ€å¤šåªæœ‰ä¸€ä¸ªåŸºç±»æ˜¯éžæŠ½è±¡ç±»; å…¶å®ƒåŸºç±»éƒ½æ˜¯ä»¥ Interface ä¸ºåŽç¼€çš„ çº¯æŽ¥å£ç±» 7. æŽ¥å£ å½“ä¸€ä¸ªç±»æ»¡è¶³ä»¥ä¸‹è¦æ±‚æ—¶, ç§°ä¹‹ä¸ºçº¯æŽ¥å£ï¼Œè¿™äº›ç±»ä»¥ Interface ä¸ºåŽç¼€: åªæœ‰çº¯è™šå‡½æ•° (â€œ=0â€) å’Œé™æ€å‡½æ•° (é™¤äº†ä¸‹æ–‡æåˆ°çš„æžæž„å‡½æ•°). æ²¡æœ‰éžé™æ€æ•°æ®æˆå‘˜. æ²¡æœ‰å®šä¹‰ä»»ä½•æž„é€ å‡½æ•°. å¦‚æžœæœ‰, ä¹Ÿä¸èƒ½å¸¦æœ‰å‚æ•°, å¹¶ä¸”å¿…é¡»ä¸º protected. å¦‚æžœå®ƒæ˜¯ä¸€ä¸ªå­ç±», ä¹Ÿåªèƒ½ä»Žæ»¡è¶³ä¸Šè¿°æ¡ä»¶å¹¶ä»¥ Interface ä¸ºåŽç¼€çš„ç±»ç»§æ‰¿. 8.è¿ç®—ç¬¦é‡è½½ åªæœ‰åœ¨æ„ä¹‰æ˜Žæ˜¾, ä¸ä¼šå‡ºçŽ°å¥‡æ€ªçš„è¡Œä¸ºå¹¶ä¸”ä¸Žå¯¹åº”çš„å†…å»ºè¿ç®—ç¬¦çš„è¡Œä¸ºä¸€è‡´æ—¶æ‰å®šä¹‰é‡è½½è¿ç®—ç¬¦. ä¾‹å¦‚, | è¦ä½œä¸ºä½æˆ–æˆ–é€»è¾‘æˆ–æ¥ä½¿ç”¨, è€Œä¸æ˜¯ä½œä¸º shell ä¸­çš„ç®¡é“. å»ºè®®ä¸è¦å°†ä¸è¿›è¡Œä¿®æ”¹çš„äºŒå…ƒè¿ç®—ç¬¦å®šä¹‰ä¸ºæˆå‘˜å‡½æ•°. ä¸è¦å¼•å…¥ç”¨æˆ·å®šä¹‰å­—é¢é‡ã€‚ å¦‚æžœä½ å®šä¹‰äº†ä¸€ä¸ªè¿ç®—ç¬¦, è¯·å°†å…¶ç›¸å…³ä¸”æœ‰æ„ä¹‰çš„è¿ç®—ç¬¦éƒ½è¿›è¡Œå®šä¹‰, å¹¶ä¸”ä¿è¯è¿™äº›å®šä¹‰çš„è¯­ä¹‰æ˜¯ä¸€è‡´çš„ã€‚ ä¾‹å¦‚, å¦‚æžœä½ é‡è½½äº† &lt;, é‚£ä¹ˆè¯·å°†æ‰€æœ‰çš„æ¯”è¾ƒè¿ç®—ç¬¦éƒ½è¿›è¡Œé‡è½½, å¹¶ä¸”ä¿è¯å¯¹äºŽåŒä¸€ç»„å‚æ•°, &lt; å’Œ &gt; ä¸ä¼šåŒæ—¶è¿”å›ž true. 9. å­˜å–æŽ§åˆ¶ å°† æ‰€æœ‰ æ•°æ®æˆå‘˜å£°æ˜Žä¸º private, é™¤éžæ˜¯ static const ç±»åž‹æˆå‘˜ 10. è¯´æ˜Žé¡ºåº ç±»å®šä¹‰åº”ä»¥ public: å¼€å§‹, åŽè·Ÿ protected:, æœ€åŽæ˜¯ private:. çœç•¥ç©ºéƒ¨åˆ†. å»ºè®®å°†ç±»ä¼¼çš„å£°æ˜Žæ”¾åœ¨ä¸€èµ·, å¹¶ä¸”å»ºè®®ä»¥å¦‚ä¸‹çš„é¡ºåº: ç±»åž‹ (åŒ…æ‹¬ typedef, using å’ŒåµŒå¥—çš„ç»“æž„ä½“ä¸Žç±»), å¸¸é‡, å·¥åŽ‚å‡½æ•°, æž„é€ å‡½æ•°,èµ‹å€¼è¿ç®—ç¬¦, æžæž„å‡½æ•°, å…¶å®ƒå‡½æ•°, æ•°æ®æˆå‘˜. ä¸è¦å°†å¤§æ®µçš„å‡½æ•°å®šä¹‰å†…è”åœ¨ç±»å®šä¹‰ä¸­. åªæœ‰é‚£äº›æ™®é€šçš„, æˆ–æ€§èƒ½å…³é”®ä¸”çŸ­å°çš„å‡½æ•°å¯ä»¥å†…è”åœ¨ç±»å®šä¹‰ä¸­. å››ã€å‡½æ•° 1.å‚æ•°é¡ºåº å‡½æ•°çš„å‚æ•°é¡ºåºä¸º: è¾“å…¥å‚æ•°åœ¨å…ˆ, åŽè·Ÿè¾“å‡ºå‚æ•°. è¾“å…¥å‚æ•°é€šå¸¸æ˜¯å€¼å‚æˆ– const å¼•ç”¨, è¾“å‡ºå‚æ•°æˆ–è¾“å…¥/è¾“å‡ºå‚æ•°åˆ™ä¸€èˆ¬ä¸ºéž const æŒ‡é’ˆ. 2.ç¼–å†™ç®€çŸ­å‡½æ•° æžœå‡½æ•°è¶…è¿‡ 40 è¡Œ, å¯ä»¥æ€ç´¢ä¸€ä¸‹èƒ½ä¸èƒ½åœ¨ä¸å½±å“ç¨‹åºç»“æž„çš„å‰æä¸‹å¯¹å…¶è¿›è¡Œåˆ†å‰². 3. å¼•ç”¨å‚æ•° å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­, æ‰€æœ‰å¼•ç”¨å‚æ•°éƒ½å¿…é¡»æ˜¯ const è¾“å…¥å‚æ•°æ˜¯å€¼å‚æˆ– const å¼•ç”¨, è¾“å‡ºå‚æ•°ä¸ºæŒ‡é’ˆ. è¾“å…¥å‚æ•°å¯ä»¥æ˜¯ const æŒ‡é’ˆ, ä½†å†³ä¸èƒ½æ˜¯éž const çš„å¼•ç”¨å‚æ•°, é™¤éžç‰¹æ®Šè¦æ±‚, æ¯”å¦‚ swap(). è¿™å®žé™…ä¸Šæ˜¯Google codestyle çš„ä¸€ä¸ªç¡¬æ€§çº¦å®š 4. å‡½æ•°é‡è½½ è‹¥è¦ä½¿ç”¨å‡½æ•°é‡è½½, åˆ™å¿…é¡»èƒ½è®©è¯»è€…ä¸€çœ‹è°ƒç”¨ç‚¹å°±èƒ¸æœ‰æˆç«¹, è€Œä¸ç”¨èŠ±å¿ƒæ€çŒœæµ‹è°ƒç”¨çš„é‡è½½å‡½æ•°åˆ°åº•æ˜¯å“ªä¸€ç§. è¿™ä¸€è§„åˆ™ä¹Ÿé€‚ç”¨äºŽæž„é€ å‡½æ•°. 5. ç¼ºçœå‚æ•° åªå…è®¸åœ¨éžè™šå‡½æ•°ä¸­ä½¿ç”¨ç¼ºçœå‚æ•°, ä¸”å¿…é¡»ä¿è¯ç¼ºçœå‚æ•°çš„å€¼å§‹ç»ˆä¸€è‡´. . (ä¾‹å¦‚, ä¸è¦å†™åƒ void f(int n = counter++); è¿™æ ·çš„ä»£ç .) å¯¹äºŽè™šå‡½æ•°, ä¸å…è®¸ä½¿ç”¨ç¼ºçœå‚æ•°, å› ä¸ºåœ¨è™šå‡½æ•°ä¸­ç¼ºçœå‚æ•°ä¸ä¸€å®šèƒ½æ­£å¸¸å·¥ä½œ 6. å‡½æ•°è¿”å›žç±»åž‹åŽç½®è¯­æ³• åªæœ‰åœ¨å¸¸è§„å†™æ³• (è¿”å›žç±»åž‹å‰ç½®) ä¸ä¾¿äºŽä¹¦å†™æˆ–ä¸ä¾¿äºŽé˜…è¯»æ—¶ä½¿ç”¨è¿”å›žç±»åž‹åŽç½®è¯­æ³•. äº”ã€å‘½åçº¦å®š 1.å˜é‡ å˜é‡ (åŒ…æ‹¬å‡½æ•°å‚æ•°) å’Œæ•°æ®æˆå‘˜åä¸€å¾‹å°å†™, å•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿è¿žæŽ¥. ç±»çš„æˆå‘˜å˜é‡ä»¥ä¸‹åˆ’çº¿ç»“å°¾, ä½†ç»“æž„ä½“çš„å°±ä¸ç”¨, å¦‚: a_local_variable, a_struct_data_member, a_class_data_member_. 123456789101112131415161718string table_name; // å¥½ - ç”¨ä¸‹åˆ’çº¿.string tablename; // å¥½ - å…¨å°å†™.string tableName; // å·® - æ··åˆå¤§å°å†™class TableInfo &#123; ... private: string table_name_; // å¥½ - åŽåŠ ä¸‹åˆ’çº¿. string tablename_; // å¥½. static Pool&lt;TableInfo&gt;* pool_; // å¥½.&#125;;struct UrlTableProperties &#123; string name; int num_entries; static Pool&lt;UrlTableProperties&gt;* pool;&#125;; 2.å¸¸é‡å‘½å å£°æ˜Žä¸º constexpr æˆ– const çš„å˜é‡, æˆ–åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å…¶å€¼å§‹ç»ˆä¿æŒä¸å˜çš„, å‘½åæ—¶ä»¥ â€œkâ€ å¼€å¤´, å¤§å°å†™æ··åˆ. ä¾‹å¦‚:const int kDaysInAWeek = 7; 4.ç±»åž‹å‘½å ç±»åž‹åç§°é‡‡ç”¨é©¼å³°å¼å‘½å, ä¸åŒ…å«ä¸‹åˆ’çº¿: MyExcitingClass, MyExcitingEnum. 5.å®å‘½å å°½é‡ä¸è¦ä½¿ç”¨å® å¦‚æžœä½ ä¸€å®šè¦ç”¨, åƒè¿™æ ·å‘½å: MY_MACRO_THAT_SCARES_SMALL_CHILDREN. 6.æžšä¸¾å‘½å æžšä¸¾çš„å‘½ååº”å½“å’Œ å¸¸é‡ æˆ– å® ä¸€è‡´: kEnumName æˆ–æ˜¯ ENUM_NAME. 7. å‡½æ•°å‘½å å¸¸è§„å‡½æ•°ä½¿ç”¨é©¼å³°å¼å‘½åã€‚ ä¾‹å¦‚ï¼š MyExcitingFunction(), MyExcitingMethod(), å–å€¼å’Œè®¾å€¼å‡½æ•°è¦ä¸Žå˜é‡ååŒ¹é…ï¼Œå¹¶é‡‡ç”¨ä¸‹åˆ’çº¿è¿žæŽ¥ ä¾‹å¦‚ï¼š ``my_exciting_member_variable(),set_my_exciting_member_variable()`. 8. å‘½åç©ºé—´å‘½å å‘½åç©ºé—´ä»¥å°å†™å­—æ¯å‘½åã€‚ è¦æ³¨æ„é¿å…åµŒå¥—å‘½åç©ºé—´çš„åå­—ä¹‹é—´å’Œå¸¸è§çš„é¡¶çº§å‘½åç©ºé—´çš„åå­—ä¹‹é—´å‘ç”Ÿå†²çªã€‚ é¡¶çº§å‘½åç©ºé—´çš„åç§°åº”å½“æ˜¯é¡¹ç›®åæˆ–è€…æ˜¯è¯¥å‘½åç©ºé—´ä¸­çš„ä»£ç æ‰€å±žçš„å›¢é˜Ÿçš„åå­—ã€‚ å‘½åç©ºé—´ä¸­çš„ä»£ç , åº”å½“å­˜æ”¾äºŽå’Œå‘½åç©ºé—´çš„åå­—åŒ¹é…çš„æ–‡ä»¶å¤¹æˆ–å…¶å­æ–‡ä»¶å¤¹ä¸­ã€‚ 9.æ–‡ä»¶å‘½å æ–‡ä»¶åè¦å…¨éƒ¨å°å†™ã€‚ å¯ä»¥ä¾ç…§é¡¹ç›®çš„çº¦å®šåŒ…å«ä¸‹åˆ’çº¿ (_) æˆ–è¿žå­—ç¬¦ (-)ã€‚å¦‚æžœæ²¡æœ‰çº¦å®š, é‚£ä¹ˆ â€œ_â€ æ›´å¥½ã€‚ C++ æ–‡ä»¶è¦ä»¥ .cc ç»“å°¾, å¤´æ–‡ä»¶ä»¥ .h ç»“å°¾. ä¸“é—¨æ’å…¥æ–‡æœ¬çš„æ–‡ä»¶åˆ™ä»¥ .inc ç»“å°¾ã€‚ ä¸è¦ä½¿ç”¨å·²ç»å­˜åœ¨äºŽ /usr/include ä¸‹çš„æ–‡ä»¶åã€‚ é€šå¸¸åº”å°½é‡è®©æ–‡ä»¶åæ›´åŠ æ˜Žç¡®. http_server_logs.h å°±æ¯” logs.h è¦å¥½ã€‚ å†…è”å‡½æ•°å®šä¹‰å¿…é¡»æ”¾åœ¨ .h æ–‡ä»¶ä¸­ã€‚ å¤æ‚çš„å†…è”å‡½æ•°çš„å®šä¹‰, å¯ä»¥æ”¾åœ¨åŽç¼€åä¸º -inl.h çš„å¤´æ–‡ä»¶ä¸­ã€‚ å…­ã€æ³¨é‡Š 1.æ–‡ä»¶æ³¨é‡Š åœ¨æ¯ä¸€ä¸ªæ–‡ä»¶å¼€å¤´åŠ å…¥ç‰ˆæƒå…¬å‘Š. æ–‡ä»¶æ³¨é‡Šæè¿°äº†è¯¥æ–‡ä»¶çš„å†…å®¹ã€‚ å¦‚æžœä¸€ä¸ªæ–‡ä»¶åªå£°æ˜Ž, æˆ–å®žçŽ°, æˆ–æµ‹è¯•äº†ä¸€ä¸ªå¯¹è±¡, å¹¶ä¸”è¿™ä¸ªå¯¹è±¡å·²ç»åœ¨å®ƒçš„å£°æ˜Žå¤„è¿›è¡Œäº†è¯¦ç»†çš„æ³¨é‡Š, é‚£ä¹ˆå°±æ²¡å¿…è¦å†åŠ ä¸Šæ–‡ä»¶æ³¨é‡Šã€‚é™¤æ­¤ä¹‹å¤–çš„å…¶ä»–æ–‡ä»¶éƒ½éœ€è¦æ–‡ä»¶æ³¨é‡Š. 2.ç±»æ³¨é‡Š æ¯ä¸ªç±»çš„å®šä¹‰éƒ½è¦é™„å¸¦ä¸€ä»½æ³¨é‡Š, æè¿°ç±»çš„åŠŸèƒ½å’Œç”¨æ³•, é™¤éžå®ƒçš„åŠŸèƒ½ç›¸å½“æ˜Žæ˜¾. 12345678910// Iterates over the contents of a GargantuanTable.// Example:// GargantuanTableIterator* iter = table-&gt;NewIterator();// for (iter-&gt;Seek("foo"); !iter-&gt;done(); iter-&gt;Next()) &#123;// process(iter-&gt;key(), iter-&gt;value());// &#125;// delete iter;class GargantuanTableIterator &#123; ...&#125;; 3.å‡½æ•°æ³¨é‡Š å‡½æ•°å£°æ˜Žå¤„çš„æ³¨é‡Šæè¿°å‡½æ•°åŠŸèƒ½; å®šä¹‰å¤„çš„æ³¨é‡Šæè¿°å‡½æ•°å®žçŽ°. å‡½æ•°å£°æ˜Žå¤„æ³¨é‡Šçš„å†…å®¹: å‡½æ•°çš„è¾“å…¥è¾“å‡º. å¯¹ç±»æˆå‘˜å‡½æ•°è€Œè¨€: å‡½æ•°è°ƒç”¨æœŸé—´å¯¹è±¡æ˜¯å¦éœ€è¦ä¿æŒå¼•ç”¨å‚æ•°, æ˜¯å¦ä¼šé‡Šæ”¾è¿™äº›å‚æ•°. å‡½æ•°æ˜¯å¦åˆ†é…äº†å¿…é¡»ç”±è°ƒç”¨è€…é‡Šæ”¾çš„ç©ºé—´. å‚æ•°æ˜¯å¦å¯ä»¥ä¸ºç©ºæŒ‡é’ˆ. æ˜¯å¦å­˜åœ¨å‡½æ•°ä½¿ç”¨ä¸Šçš„æ€§èƒ½éšæ‚£. å¦‚æžœå‡½æ•°æ˜¯å¯é‡å…¥çš„, å…¶åŒæ­¥å‰ææ˜¯ä»€ä¹ˆ? å‡½æ•°å®šä¹‰å¤„æ³¨é‡Šï¼š å¦‚æžœå‡½æ•°çš„å®žçŽ°è¿‡ç¨‹ä¸­ç”¨åˆ°äº†å¾ˆå·§å¦™çš„æ–¹å¼, é‚£ä¹ˆåœ¨å‡½æ•°å®šä¹‰å¤„åº”å½“åŠ ä¸Šè§£é‡Šæ€§çš„æ³¨é‡Š. å¦‚æžœå‡½æ•°å‚æ•°çš„æ„ä¹‰ä¸æ˜Žæ˜¾ï¼Œå¯é‡‡ç”¨ä»¥ä¸‹æ–¹å¼ï¼š å¦‚æžœå‚æ•°æ˜¯ä¸€ä¸ªå­—é¢å¸¸é‡, å¹¶ä¸”è¿™ä¸€å¸¸é‡åœ¨å¤šå¤„å‡½æ•°è°ƒç”¨ä¸­è¢«ä½¿ç”¨, ç”¨ä»¥æŽ¨æ–­å®ƒä»¬ä¸€è‡´, ä½ åº”å½“ç”¨ä¸€ä¸ªå¸¸é‡åè®©è¿™ä¸€çº¦å®šå˜å¾—æ›´æ˜Žæ˜¾, å¹¶ä¸”ä¿è¯è¿™ä¸€çº¦å®šä¸ä¼šè¢«æ‰“ç ´ã€‚ è€ƒè™‘æ›´æ”¹å‡½æ•°çš„ç­¾å, è®©æŸä¸ª bool ç±»åž‹çš„å‚æ•°å˜ä¸º enum ç±»åž‹, è¿™æ ·å¯ä»¥è®©è¿™ä¸ªå‚æ•°çš„å€¼è¡¨è¾¾å…¶æ„ä¹‰ã€‚ å¦‚æžœæŸä¸ªå‡½æ•°æœ‰å¤šä¸ªé…ç½®é€‰é¡¹, ä½ å¯ä»¥è€ƒè™‘å®šä¹‰ä¸€ä¸ªç±»æˆ–ç»“æž„ä½“ä»¥ä¿å­˜æ‰€æœ‰çš„é€‰é¡¹, å¹¶ä¼ å…¥ç±»æˆ–ç»“æž„ä½“çš„å®žä¾‹ã€‚ ç”¨å…·åå˜é‡ä»£æ›¿å¤§æ®µè€Œå¤æ‚çš„åµŒå¥—è¡¨è¾¾å¼ã€‚ ä¸‡ä¸å¾—å·²æ—¶, æ‰è€ƒè™‘åœ¨è°ƒç”¨ç‚¹ç”¨æ³¨é‡Šé˜æ˜Žå‚æ•°çš„æ„ä¹‰ã€‚ ä¾‹ï¼š 12345ProductOptions options;options.set_precision_decimals(7);options.set_use_cache(ProductOptions::kDontUseCache);const DecimalNumber product = CalculateProduct(values, options, /*completion_callback=*/nullptr); 4. å˜é‡æ³¨é‡Š é€šå¸¸å˜é‡åæœ¬èº«è¶³ä»¥å¾ˆå¥½è¯´æ˜Žå˜é‡ç”¨é€”. æŸäº›æƒ…å†µä¸‹, ä¹Ÿéœ€è¦é¢å¤–çš„æ³¨é‡Šè¯´æ˜Ž. ç±»æ•°æ®æˆå‘˜ æ¯ä¸ªç±»æ•°æ®æˆå‘˜ (ä¹Ÿå«å®žä¾‹å˜é‡æˆ–æˆå‘˜å˜é‡) éƒ½åº”è¯¥ç”¨æ³¨é‡Šè¯´æ˜Žç”¨é€”ã€‚ å¦‚æžœæœ‰å˜é‡çš„æŠ½è±¡å±žæ€§(ä¾‹å¦‚ç‰¹æ®Šå€¼, æ•°æ®æˆå‘˜ä¹‹é—´çš„å…³ç³», ç”Ÿå‘½å‘¨æœŸç­‰)ä¸èƒ½å¤Ÿç”¨ç±»åž‹ä¸Žå˜é‡åæ˜Žç¡®è¡¨è¾¾, åˆ™åº”å½“åŠ ä¸Šæ³¨é‡Šã€‚ ç„¶è€Œ, å¦‚æžœå˜é‡ç±»åž‹ä¸Žå˜é‡åå·²ç»è¶³ä»¥æè¿°ä¸€ä¸ªå˜é‡, é‚£ä¹ˆå°±ä¸å†éœ€è¦åŠ ä¸Šæ³¨é‡Š. å…¨å±€å˜é‡ å’Œæ•°æ®æˆå‘˜ä¸€æ ·, æ‰€æœ‰å…¨å±€å˜é‡ä¹Ÿè¦æ³¨é‡Šè¯´æ˜Žå«ä¹‰åŠç”¨é€”, ä»¥åŠä½œä¸ºå…¨å±€å˜é‡çš„åŽŸå› ã€‚ 5.ä»£ç æ³¨é‡Š å¯¹äºŽä»£ç ä¸­å·§å¦™çš„, æ™¦æ¶©çš„, æœ‰è¶£çš„, é‡è¦çš„åœ°æ–¹åŠ ä»¥æ³¨é‡Š. ä»£ç å‰æ³¨é‡Š å·§å¦™æˆ–å¤æ‚çš„ä»£ç æ®µå‰è¦åŠ æ³¨é‡Š. æ¯”å¦‚: 1234567// Divide result by two, taking into account that x// contains the carry from the add.for (int i = 0; i &lt; result-&gt;size(); i++) &#123; x = (x &lt;&lt; 8) + (*result)[i]; (*result)[i] = x &gt;&gt; 1; x &amp;= 1;&#125; è¡Œæ³¨é‡Š æ¯”è¾ƒéšæ™¦çš„åœ°æ–¹è¦åœ¨è¡Œå°¾åŠ å…¥æ³¨é‡Š. åœ¨è¡Œå°¾ç©ºä¸¤æ ¼è¿›è¡Œæ³¨é‡Š. æ¯”å¦‚: 123456789101112DoSomething(); // Comment here so the comments line up.DoSomethingElseThatIsLonger(); // Two spaces between the code and the comment.&#123; // One space before comment when opening a new scope is allowed, // thus the comment lines up with the following comments and code. DoSomethingElse(); // Two spaces before line comments normally.&#125;std::vector&lt;string&gt; list&#123; // Comments in braced lists describe the next element... "First item", // .. and should be aligned appropriately."Second item"&#125;;DoSomething(); /* For trailing block comments, one space is fine. */ 6.TODOæ³¨é‡Šä¸Žå¼ƒç”¨æ³¨é‡Š TODOæ³¨é‡Šè¦ä½¿ç”¨å…¨å¤§å†™çš„å­—ç¬¦ä¸²TODO, åœ¨éšåŽçš„åœ†æ‹¬å·é‡Œå†™ä¸Šä½ çš„åå­—, é‚®ä»¶åœ°å€, bug ID, æˆ–å…¶å®ƒèº«ä»½æ ‡è¯†å’Œä¸Žè¿™ä¸€TODO` ç›¸å…³çš„ issueã€‚ æ‚¨å¯ä»¥å†™ä¸ŠåŒ…å«å…¨å¤§å†™çš„ DEPRECATED çš„æ³¨é‡Š, ä»¥æ ‡è®°æŸæŽ¥å£ä¸ºå¼ƒç”¨çŠ¶æ€. æ³¨é‡Šå¯ä»¥æ”¾åœ¨æŽ¥å£å£°æ˜Žå‰, æˆ–è€…åŒä¸€è¡Œã€‚ åœ¨ DEPRECATED ä¸€è¯åŽ, åœ¨æ‹¬å·ä¸­ç•™ä¸‹æ‚¨çš„åå­—, é‚®ç®±åœ°å€ä»¥åŠå…¶ä»–èº«ä»½æ ‡è¯†ã€‚ ä¸ƒã€æ ¼å¼ 1. ä¸€äº›æ™®éæ ¼å¼ æ¯ä¸€è¡Œä»£ç å­—ç¬¦æ•°ä¸è¶…è¿‡ 80åˆ—ã€‚ å°½é‡ä¸ä½¿ç”¨éž ASCII å­—ç¬¦, ä½¿ç”¨æ—¶å¿…é¡»ä½¿ç”¨ UTF-8 ç¼–ç ã€‚ åªä½¿ç”¨ç©ºæ ¼, æ¯æ¬¡ç¼©è¿› 2 ä¸ªç©ºæ ¼ã€‚ å˜é‡åˆå§‹åŒ–ç”¨ =, () å’Œ {} å‡å¯ã€‚ é¢„å¤„ç†æŒ‡ä»¤ä¸è¦ç¼©è¿›, ä»Žè¡Œé¦–å¼€å§‹ã€‚ æ°´å¹³ç•™ç™½çš„ä½¿ç”¨æ ¹æ®åœ¨ä»£ç ä¸­çš„ä½ç½®å†³å®š. æ°¸è¿œä¸è¦åœ¨è¡Œå°¾æ·»åŠ æ²¡æ„ä¹‰çš„ç•™ç™½ã€‚ ä¸åœ¨ä¸‡ä¸å¾—å·², ä¸è¦ä½¿ç”¨ç©ºè¡Œ. å°¤å…¶æ˜¯: ä¸¤ä¸ªå‡½æ•°å®šä¹‰ä¹‹é—´çš„ç©ºè¡Œä¸è¦è¶…è¿‡ 2 è¡Œ, å‡½æ•°ä½“é¦–å°¾ä¸è¦ç•™ç©ºè¡Œ, å‡½æ•°ä½“ä¸­ä¹Ÿä¸è¦éšæ„æ·»åŠ ç©ºè¡Œ. 2. å‡½æ•°å£°æ˜Žä¸Žå®šä¹‰ è¿”å›žç±»åž‹å’Œå‡½æ•°ååœ¨åŒä¸€è¡Œ, å‚æ•°ä¹Ÿå°½é‡æ”¾åœ¨åŒä¸€è¡Œ, å¦‚æžœæ”¾ä¸ä¸‹å°±å¯¹å½¢å‚åˆ†è¡Œã€‚ å¦‚æžœåŒä¸€è¡Œæ–‡æœ¬å¤ªå¤š, æ”¾ä¸ä¸‹æ‰€æœ‰å‚æ•°: 12345ReturnType ClassName::ReallyLongFunctionName(Type par_name1, Type par_name2, Type par_name3) &#123; DoSomething(); ...&#125; ç”šè‡³è¿žç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ”¾ä¸ä¸‹: 1234567ReturnType LongClassName::ReallyReallyReallyLongFunctionName( Type par_name1, // 4 space indent Type par_name2, Type par_name3) &#123; DoSomething(); // 2 space indent ...&#125; æ³¨æ„ä»¥ä¸‹å‡ ç‚¹: ä½¿ç”¨å¥½çš„å‚æ•°å. åªæœ‰åœ¨å‚æ•°æœªè¢«ä½¿ç”¨æˆ–è€…å…¶ç”¨é€”éžå¸¸æ˜Žæ˜¾æ—¶, æ‰èƒ½çœç•¥å‚æ•°å. å¦‚æžœè¿”å›žç±»åž‹å’Œå‡½æ•°ååœ¨ä¸€è¡Œæ”¾ä¸ä¸‹, åˆ†è¡Œ. å¦‚æžœè¿”å›žç±»åž‹ä¸Žå‡½æ•°å£°æ˜Žæˆ–å®šä¹‰åˆ†è¡Œäº†, ä¸è¦ç¼©è¿›. å·¦åœ†æ‹¬å·æ€»æ˜¯å’Œå‡½æ•°ååœ¨åŒä¸€è¡Œ. å‡½æ•°åå’Œå·¦åœ†æ‹¬å·é—´æ°¸è¿œæ²¡æœ‰ç©ºæ ¼. åœ†æ‹¬å·ä¸Žå‚æ•°é—´æ²¡æœ‰ç©ºæ ¼. å·¦å¤§æ‹¬å·æ€»åœ¨æœ€åŽä¸€ä¸ªå‚æ•°åŒä¸€è¡Œçš„æœ«å°¾å¤„, ä¸å¦èµ·æ–°è¡Œ. å³å¤§æ‹¬å·æ€»æ˜¯å•ç‹¬ä½äºŽå‡½æ•°æœ€åŽä¸€è¡Œ, æˆ–è€…ä¸Žå·¦å¤§æ‹¬å·åŒä¸€è¡Œ. å³åœ†æ‹¬å·å’Œå·¦å¤§æ‹¬å·é—´æ€»æ˜¯æœ‰ä¸€ä¸ªç©ºæ ¼. æ‰€æœ‰å½¢å‚åº”å°½å¯èƒ½å¯¹é½. ç¼ºçœç¼©è¿›ä¸º 2 ä¸ªç©ºæ ¼. æ¢è¡ŒåŽçš„å‚æ•°ä¿æŒ 4 ä¸ªç©ºæ ¼çš„ç¼©è¿›. ä¸è¦åœ¨ return è¡¨è¾¾å¼é‡ŒåŠ ä¸Šéžå¿…é¡»çš„åœ†æ‹¬å·ã€‚ 3.Lambdaè¡¨è¾¾å¼ Lambda è¡¨è¾¾å¼å¯¹å½¢å‚å’Œå‡½æ•°ä½“çš„æ ¼å¼åŒ–å’Œå…¶ä»–å‡½æ•°ä¸€è‡´; æ•èŽ·åˆ—è¡¨åŒç†, è¡¨é¡¹ç”¨é€—å·éš”å¼€ã€‚ è‹¥ç”¨å¼•ç”¨æ•èŽ·, åœ¨å˜é‡åå’Œ &amp; ä¹‹é—´ä¸ç•™ç©ºæ ¼. 12int x = 0;auto add_to_x = [&amp;x](int n) &#123; x += n; &#125;; 4.å‡½æ•°è°ƒç”¨ å¦‚æžœæ²¡æœ‰å…¶å®ƒé¡¾è™‘çš„è¯, å°½å¯èƒ½ç²¾ç®€è¡Œæ•°, æ¯”å¦‚æŠŠå¤šä¸ªå‚æ•°é€‚å½“åœ°æ”¾åœ¨åŒä¸€è¡Œé‡Œ. å¦‚æžœåŒä¸€è¡Œæ”¾ä¸ä¸‹, å¯æ–­ä¸ºå¤šè¡Œ, åŽé¢æ¯ä¸€è¡Œéƒ½å’Œç¬¬ä¸€ä¸ªå®žå‚å¯¹é½, å·¦åœ†æ‹¬å·åŽå’Œå³åœ†æ‹¬å·å‰ä¸è¦ç•™ç©ºæ ¼ï¼š 12bool retval = DoSomething(averyveryveryverylongargument1, argument2, argument3); å‚æ•°ä¹Ÿå¯ä»¥æ”¾åœ¨æ¬¡è¡Œ, ç¼©è¿›å››æ ¼ï¼š 12345678if (...) &#123; ... ... if (...) &#123; DoSomething( argument1, argument2, // 4 ç©ºæ ¼ç¼©è¿› argument3, argument4); &#125; å¦‚æžœä¸€äº›å‚æ•°æœ¬èº«å°±æ˜¯ç•¥å¤æ‚çš„è¡¨è¾¾å¼, ä¸”é™ä½Žäº†å¯è¯»æ€§, é‚£ä¹ˆå¯ä»¥ç›´æŽ¥åˆ›å»ºä¸´æ—¶å˜é‡æè¿°è¯¥è¡¨è¾¾å¼, å¹¶ä¼ é€’ç»™å‡½æ•°ï¼š 12int my_heuristic = scores[x] * y + bases[x];bool retval = DoSomething(my_heuristic, x, y, z); æˆ–è€…æ”¾ç€ä¸ç®¡, è¡¥å……ä¸Šæ³¨é‡Šï¼š 12bool retval = DoSomething(scores[x] * y + bases[x], // Score heuristic. x, y, z); 5.æ¡ä»¶è¯­å¥ 1234567if (condition) &#123; // åœ†æ‹¬å·é‡Œæ²¡æœ‰ç©ºæ ¼. ... // 2 ç©ºæ ¼ç¼©è¿›.&#125; else if (...) &#123; // else ä¸Ž if çš„å³æ‹¬å·åŒä¸€è¡Œ. ...&#125; else &#123; ...&#125; å¦‚æžœèƒ½å¢žå¼ºå¯è¯»æ€§, ç®€çŸ­çš„æ¡ä»¶è¯­å¥å…è®¸å†™åœ¨åŒä¸€è¡Œ. åªæœ‰å½“è¯­å¥ç®€å•å¹¶ä¸”æ²¡æœ‰ä½¿ç”¨ else å­å¥æ—¶ä½¿ç”¨: 12if (x == kFoo) return new Foo();if (x == kBar) return new Bar(); å¦‚æžœè¯­å¥æœ‰ else åˆ†æ”¯åˆ™ä¸å…è®¸: 123// ä¸å…è®¸ - å½“æœ‰ ELSE åˆ†æ”¯æ—¶ IF å—å´å†™åœ¨åŒä¸€è¡Œif (x) DoThis();else DoThat(); é€šå¸¸, å•è¡Œè¯­å¥ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·, å¦‚æžœä½ å–œæ¬¢ç”¨ä¹Ÿæ²¡é—®é¢˜,ä½†å¦‚æžœè¯­å¥ä¸­æŸä¸ª if-else åˆ†æ”¯ä½¿ç”¨äº†å¤§æ‹¬å·çš„è¯, å…¶å®ƒåˆ†æ”¯ä¹Ÿå¿…é¡»ä½¿ç”¨: 123456789101112131415161718// ä¸å¯ä»¥è¿™æ ·å­ - IF æœ‰å¤§æ‹¬å· ELSE å´æ²¡æœ‰.if (condition) &#123; foo;&#125; else bar;// ä¸å¯ä»¥è¿™æ ·å­ - ELSE æœ‰å¤§æ‹¬å· IF å´æ²¡æœ‰.if (condition) foo;else &#123; bar;&#125;// åªè¦å…¶ä¸­ä¸€ä¸ªåˆ†æ”¯ç”¨äº†å¤§æ‹¬å·, ä¸¤ä¸ªåˆ†æ”¯éƒ½è¦ç”¨ä¸Šå¤§æ‹¬å·.if (condition) &#123; foo;&#125; else &#123; bar;&#125; 6.å¾ªçŽ¯å’Œswitchè¯­å¥ switch è¯­å¥ å¦‚æžœæœ‰ä¸æ»¡è¶³ case æ¡ä»¶çš„æžšä¸¾å€¼, switch åº”è¯¥æ€»æ˜¯åŒ…å«ä¸€ä¸ª default åŒ¹é… (å¦‚æžœæœ‰è¾“å…¥å€¼æ²¡æœ‰ case åŽ»å¤„ç†, ç¼–è¯‘å™¨å°†ç»™å‡º warning). å¦‚æžœ default åº”è¯¥æ°¸è¿œæ‰§è¡Œä¸åˆ°, ç®€å•çš„åŠ æ¡ assert: 12345678910111213switch (var) &#123; case 0: &#123; // 2 ç©ºæ ¼ç¼©è¿› ... // 4 ç©ºæ ¼ç¼©è¿› break; &#125; case 1: &#123; ... break; &#125; default: &#123; assert(false); &#125;&#125; å¾ªçŽ¯è¯­å¥ åœ¨å•è¯­å¥å¾ªçŽ¯é‡Œ, æ‹¬å·å¯ç”¨å¯ä¸ç”¨ï¼š 123456for (int i = 0; i &lt; kSomeNumber; ++i) printf("I love you\n");for (int i = 0; i &lt; kSomeNumber; ++i) &#123; printf("I take it back\n");&#125; ç©ºå¾ªçŽ¯ä½“åº”ä½¿ç”¨ {} æˆ– continue, è€Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„åˆ†å·. 12345while (condition) &#123; // åå¤å¾ªçŽ¯ç›´åˆ°æ¡ä»¶å¤±æ•ˆ.&#125;for (int i = 0; i &lt; kSomeNumber; ++i) &#123;&#125; // å¯ - ç©ºå¾ªçŽ¯ä½“.while (condition) continue; // å¯ - contunue è¡¨æ˜Žæ²¡æœ‰é€»è¾‘. 7.æŒ‡é’ˆå’Œå¼•ç”¨è¡¨è¾¾å¼ å¥ç‚¹æˆ–ç®­å¤´å‰åŽä¸è¦æœ‰ç©ºæ ¼ã€‚ æŒ‡é’ˆ/åœ°å€æ“ä½œç¬¦ (*, &amp;) ä¹‹åŽä¸èƒ½æœ‰ç©ºæ ¼. 8.ç±» å£°æ˜Ž ç±»å£°æ˜Ž (ä¸‹é¢çš„ä»£ç ä¸­ç¼ºå°‘æ³¨é‡Š, å‚è€ƒ ç±»æ³¨é‡Š) çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹: 12345678910111213141516171819class MyClass : public OtherClass &#123; public: // æ³¨æ„æœ‰ä¸€ä¸ªç©ºæ ¼çš„ç¼©è¿› MyClass(); // æ ‡å‡†çš„ä¸¤ç©ºæ ¼ç¼©è¿› explicit MyClass(int var); ~MyClass() &#123;&#125; void SomeFunction(); void SomeFunctionThatDoesNothing() &#123; &#125; void set_some_var(int var) &#123; some_var_ = var; &#125; int some_var() const &#123; return some_var_; &#125; private: bool SomeInternalFunction(); int some_var_; int some_other_var_;&#125;; æ³¨æ„äº‹é¡¹: æ‰€æœ‰åŸºç±»ååº”åœ¨ 80 åˆ—é™åˆ¶ä¸‹å°½é‡ä¸Žå­ç±»åæ”¾åœ¨åŒä¸€è¡Œ. å…³é”®è¯ public:, protected:, private: è¦ç¼©è¿› 1 ä¸ªç©ºæ ¼. é™¤ç¬¬ä¸€ä¸ªå…³é”®è¯ (ä¸€èˆ¬æ˜¯ public) å¤–, å…¶ä»–å…³é”®è¯å‰è¦ç©ºä¸€è¡Œ. å¦‚æžœç±»æ¯”è¾ƒå°çš„è¯ä¹Ÿå¯ä»¥ä¸ç©º. è¿™äº›å…³é”®è¯åŽä¸è¦ä¿ç•™ç©ºè¡Œ. public æ”¾åœ¨æœ€å‰é¢, ç„¶åŽæ˜¯ protected, æœ€åŽæ˜¯ private. æž„é€ å‡½æ•° ä¸‹é¢ä¸¤ç§åˆå§‹å€¼åˆ—è¡¨æ–¹å¼éƒ½å¯ä»¥æŽ¥å—: 123456789101112131415161718192021222324// å¦‚æžœæ‰€æœ‰å˜é‡èƒ½æ”¾åœ¨åŒä¸€è¡Œ:MyClass::MyClass(int var) : some_var_(var) &#123; DoSomething();&#125;// å¦‚æžœä¸èƒ½æ”¾åœ¨åŒä¸€è¡Œ,// å¿…é¡»ç½®äºŽå†’å·åŽ, å¹¶ç¼©è¿› 4 ä¸ªç©ºæ ¼MyClass::MyClass(int var) : some_var_(var), some_other_var_(var + 1) &#123; DoSomething();&#125;// å¦‚æžœåˆå§‹åŒ–åˆ—è¡¨éœ€è¦ç½®äºŽå¤šè¡Œ, å°†æ¯ä¸€ä¸ªæˆå‘˜æ”¾åœ¨å•ç‹¬çš„ä¸€è¡Œ// å¹¶é€è¡Œå¯¹é½MyClass::MyClass(int var) : some_var_(var), // 4 space indent some_other_var_(var + 1) &#123; // lined up DoSomething();&#125;// å³å¤§æ‹¬å· &#125; å¯ä»¥å’Œå·¦å¤§æ‹¬å· &#123; æ”¾åœ¨åŒä¸€è¡Œ// å¦‚æžœè¿™æ ·åšåˆé€‚çš„è¯MyClass::MyClass(int var) : some_var_(var) &#123;&#125; 9.å‘½åç©ºé—´ å‘½åç©ºé—´å†…å®¹ä¸ç¼©è¿› 10.æ°´å¹³ç•™ç™½ é€šç”¨ 123456789101112131415void f(bool b) &#123; // å·¦å¤§æ‹¬å·å‰æ€»æ˜¯æœ‰ç©ºæ ¼. ...int i = 0; // åˆ†å·å‰ä¸åŠ ç©ºæ ¼.// åˆ—è¡¨åˆå§‹åŒ–ä¸­å¤§æ‹¬å·å†…çš„ç©ºæ ¼æ˜¯å¯é€‰çš„.// å¦‚æžœåŠ äº†ç©ºæ ¼, é‚£ä¹ˆä¸¤è¾¹éƒ½è¦åŠ ä¸Š.int x[] = &#123; 0 &#125;;int x[] = &#123;0&#125;;// ç»§æ‰¿ä¸Žåˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å†’å·å‰åŽæ’æœ‰ç©ºæ ¼.class Foo : public Bar &#123; public: // å¯¹äºŽå•è¡Œå‡½æ•°çš„å®žçŽ°, åœ¨å¤§æ‹¬å·å†…åŠ ä¸Šç©ºæ ¼ // ç„¶åŽæ˜¯å‡½æ•°å®žçŽ° Foo(int b) : Bar(), baz_(b) &#123;&#125; // å¤§æ‹¬å·é‡Œé¢æ˜¯ç©ºçš„è¯, ä¸åŠ ç©ºæ ¼. void Reset() &#123; baz_ = 0; &#125; // ç”¨æ‹¬å·æŠŠå¤§æ‹¬å·ä¸Žå®žçŽ°åˆ†å¼€. å¾ªçŽ¯å’Œæ¡ä»¶è¯­å¥ 1234567891011121314if (b) &#123; // if æ¡ä»¶è¯­å¥å’Œå¾ªçŽ¯è¯­å¥å…³é”®å­—åŽå‡æœ‰ç©ºæ ¼.&#125; else &#123; // else å‰åŽæœ‰ç©ºæ ¼.&#125;while (test) &#123;&#125; // åœ†æ‹¬å·å†…éƒ¨ä¸ç´§é‚»ç©ºæ ¼.switch (i) &#123;for (int i = 0; i &lt; 5; ++i) &#123;switch ( i ) &#123; // å¾ªçŽ¯å’Œæ¡ä»¶è¯­å¥çš„åœ†æ‹¬å·é‡Œå¯ä»¥ä¸Žç©ºæ ¼ç´§é‚».if ( test ) &#123; // åœ†æ‹¬å·, ä½†è¿™å¾ˆå°‘è§. æ€»ä¹‹è¦ä¸€è‡´.for ( int i = 0; i &lt; 5; ++i ) &#123;for ( ; i &lt; 5 ; ++i) &#123; // å¾ªçŽ¯é‡Œå†… ; åŽæ’æœ‰ç©ºæ ¼, ; å‰å¯ä»¥åŠ ä¸ªç©ºæ ¼.switch (i) &#123; case 1: // switch case çš„å†’å·å‰æ— ç©ºæ ¼. ... case 2: break; // å¦‚æžœå†’å·æœ‰ä»£ç , åŠ ä¸ªç©ºæ ¼ æ“ä½œç¬¦ 1234567891011121314// èµ‹å€¼è¿ç®—ç¬¦å‰åŽæ€»æ˜¯æœ‰ç©ºæ ¼.x = 0;// å…¶å®ƒäºŒå…ƒæ“ä½œç¬¦ä¹Ÿå‰åŽæ’æœ‰ç©ºæ ¼, ä¸è¿‡å¯¹äºŽè¡¨è¾¾å¼çš„å­å¼å¯ä»¥ä¸åŠ ç©ºæ ¼.// åœ†æ‹¬å·å†…éƒ¨æ²¡æœ‰ç´§é‚»ç©ºæ ¼.v = w * x + y / z;v = w*x + y/z;v = w * (x + z);// åœ¨å‚æ•°å’Œä¸€å…ƒæ“ä½œç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼.x = -5;++x;if (x &amp;&amp; !y) ... æ¨¡æ¿å’Œè½¬åŒ– 123456// å°–æ‹¬å·(&lt; and &gt;) ä¸ä¸Žç©ºæ ¼ç´§é‚», &lt; å‰æ²¡æœ‰ç©ºæ ¼, &gt; å’Œ ( ä¹‹é—´ä¹Ÿæ²¡æœ‰.vector&lt;string&gt; x;y = static_cast&lt;char*&gt;(x);// åœ¨ç±»åž‹ä¸ŽæŒ‡é’ˆæ“ä½œç¬¦ä¹‹é—´ç•™ç©ºæ ¼ä¹Ÿå¯ä»¥, ä½†è¦ä¿æŒä¸€è‡´.vector&lt;char *&gt; x;]]></content>
      <categories>
        <category>å¼€å‘è§„èŒƒ</category>
      </categories>
      <tags>
        <tag>C++ code style</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tempelte_specialize]]></title>
    <url>%2F2019%2F03%2F25%2FC%2B%2B%2Ftempelte-specialize%2F</url>
    <content type="text"><![CDATA[å‡½æ•°æ¨¡æ¿å…·ä½“åŒ– Cä¸­å…è®¸ä½¿ç”¨æ¨¡æ¿æ¥è¿›è¡Œæ³›åž‹ç¼–ç¨‹ï¼Œåœ¨Cä¸­æ¨¡æ¿åŽŸåž‹å¦‚ä¸‹æ‰€ç¤ºï¼š 12template &lt;typename T&gt;void swap(T &amp;a, T &amp;b) æ¨¡æ¿åŽŸåž‹ä¸æä¾›å‡½æ•°å£°æ˜Žå’Œå®šä¹‰ï¼Œéœ€è¦ç»è¿‡æ¨¡æ¿å…·ä½“åŒ–è¿‡ç¨‹ç”Ÿæˆç›¸åº”å£°æ˜Žå’Œå®šä¹‰ã€‚ 1. éšå¼å®žä¾‹åŒ– æœ€åˆï¼Œç¼–è¯‘å™¨åªèƒ½é€šè¿‡éšå¼å®žä¾‹åŒ–ï¼Œé€šè¿‡å¯¹å‚æ•°åˆ—è¡¨çš„ç±»åž‹æŽ¨æ–­ï¼Œæ¥ä½¿ç”¨æ¨¡æ¿ç”Ÿæˆå¯¹åº”å‡½æ•°å®šä¹‰ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼›å¦‚å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„å‡½æ•°æ¨¡æ¿ï¼š 1234short a, b;swap(a, b); // T ä¸º short ç±»åž‹int c, d;swap(c, d); // T ä¸º int ç±»åž‹ 2. æ˜¾å¼å®žä¾‹åŒ– çŽ°åœ¨C++è¿˜å…è®¸æ˜¾å¼å®žä¾‹åŒ–(explicit instrantiation)ã€‚è¿™æ„å‘³ç€å¯ä»¥ç›´æŽ¥å‘½ä»¤ç¼–è¯‘å™¨åˆ›å»ºç‰¹å®šçš„å®žä¾‹ï¼Œå…¶è¯­æ³•æœ‰ä¸¤ç§å½¢å¼ï¼š 123template void swap&lt;int&gt;(int, int); //æ˜¾å¼å®žä¾‹åŒ–å£°æ˜Žorswap&lt;int&gt;(a,b) //ç›´æŽ¥åœ¨ç¨‹åºä¸­è°ƒç”¨ æ˜¾ç¤ºå®žä¾‹åŒ–å¯ä»¥çœåŽ»ç¼–è¯‘å™¨çš„ç±»åž‹æŽ¨æ–­è¿‡ç¨‹ã€‚ 3.æ˜¾å¼å…·ä½“åŒ– æ˜¾å¼å®žä¾‹åŒ–å’Œæ˜¾å¼å…·ä½“åŒ–åŒºåˆ«åœ¨äºŽï¼šè¿™äº›å£°æ˜Žçš„æ„æ€æ˜¯â€œä¸è¦ä½¿ç”¨swap()æ¨¡æ¿æ¥ç”Ÿæˆå‡½æ•°å®šä¹‰ï¼Œè€Œåº”ä½¿ç”¨ä¸“é—¨ä¸ºintç±»åž‹æ˜¾å¼åœ°å®šä¹‰çš„å‡½æ•°å®šä¹‰ã€‚â€è¿™äº›åŽŸåž‹å¿…é¡»æœ‰è‡ªå·±çš„å‡½æ•°å®šä¹‰ã€‚æ˜¾å¼å…·ä½“åŒ–å£°æ˜Žåœ¨å…³é”®å­—templateåŽåŒ…å«&lt;&gt;ï¼Œè€Œæ˜¾å¼å®žä¾‹åŒ–æ²¡æœ‰ã€‚ æ˜¾å¼å…·ä½“åŒ–æœ‰ä¸¤ç§ç­‰ä»·å£°æ˜Žï¼š 12template &lt;&gt; void swap&lt;int&gt; (int &amp;, int &amp;); //explicit specializationtemplate &lt;&gt; void swap (int &amp;, int &amp;); //æ ¹æ®å‚æ•°åˆ—è¡¨çš„å…·ä½“åŒ– è­¦å‘Šï¼šè¯•å›¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­(æˆ–è½¬æ¢å•å…ƒ)ä¸­ä½¿ç”¨åŒä¸€ç§ç±»åž‹çš„æ˜¾å¼å®žä¾‹åŒ–å’Œæ˜¾å¼å…·ä½“åŒ– å°†å‡ºé”™ã€‚ å¸¸è§„æ¨¡æ¿ï¼Œå…·ä½“åŒ–æ¨¡æ¿ï¼Œéžæ¨¡æ¿å‡½æ•°çš„ä¼˜å…ˆè°ƒç”¨é¡ºåºï¼š éžæ¨¡æ¿å‡½æ•°ï¼ˆæ™®é€šå‡½æ•°ï¼‰&gt; å…·ä½“åŒ–æ¨¡æ¿å‡½æ•° &gt; å¸¸è§„æ¨¡æ¿ ç±»æ¨¡æ¿å…·ä½“åŒ– ä½¿ç”¨ç±»æ¨¡æ¿å¯ä»¥é€šè¿‡ç±»æ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆå¤šä¸ªç±»ï¼Œå…¶æ¨¡æ¿å®šä¹‰å¦‚ä¸‹ï¼š 1234template&lt;typename T1, typename T2&gt;class Point &#123; ...&#125; 1.éšå¼å®žä¾‹åŒ– 2.æ˜¾å¼å®žä¾‹åŒ– è¿™ä¸¤ä¸ªéƒ¨åˆ†çš„å®žä¾‹åŒ–è¯­æ³•ï¼Œç±»æ¨¡æ¿å’Œå‡½æ•°æ¨¡æ¿æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚ 3.æ˜¾ç¤ºå…·ä½“åŒ– ç±»æ¨¡æ¿çš„æ˜¾ç¤ºå…·ä½“åŒ–è¯­æ³•å¦‚ä¸‹ï¼š 1234template&lt;&gt;class Point&lt;char *, char *&gt; &#123; ...&#125; å…¶ä¸­æ¨¡æ¿ç±»æ–¹æ³•çš„å®žçŽ°çš„å…·ä½“åŒ–è¯­æ³•å’Œå‡½æ•°æ¨¡æ¿æœ‰æ‰€åŒºåˆ«ï¼Œä¸éœ€è¦å¸¦æ¨¡æ¿å¤´template&lt;&gt;ï¼š 123void Point&lt;char*, char*&gt;::display() const &#123; cout&lt;&lt;"x="&lt;&lt;m_x&lt;&lt;", y="&lt;&lt;m_y&lt;&lt;endl;&#125; 4. éƒ¨åˆ†æ˜¾å¼å…·ä½“åŒ– ç±»æ¨¡æ¿è¿˜æ”¯æŒéƒ¨åˆ†æ˜¾å¼å…·ä½“åŒ–ï¼Œå³åªå…·ä½“åŒ–éƒ¨åˆ†æ¨¡æ¿å‚æ•°ç±»åž‹ï¼š 12345678910template&lt;typename T2&gt;class Point&lt;char*, T2&gt; &#123; ...&#125;// éƒ¨åˆ†æ˜¾å¼å…·ä½“åŒ–è¿˜æ˜¯éœ€è¦åŠ ä¸Šæ¨¡æ¿å¤´template&lt;typename T2&gt;void Point&lt;char*,T2&gt;::display() const &#123; cout&lt;&lt;"x="&lt;&lt;m_x&lt;&lt;" | y="&lt;&lt;m_y&lt;&lt;endl;&#125; éƒ¨åˆ†æ˜¾å¼å…·ä½“åŒ–åªèƒ½ç”¨äºŽç±»æ¨¡æ¿ï¼Œä¸èƒ½ç”¨äºŽå‡½æ•°æ¨¡æ¿ã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ç±»åž‹è½¬æ¢ç¬¦]]></title>
    <url>%2F2019%2F03%2F22%2FC%2B%2B%2FC-cast%2F</url>
    <content type="text"><![CDATA[å››ç§ç±»åž‹è½¬æ¢è¿ç®—ç¬¦ dynamic_cast ç”¨äºŽå¤šæ€ç±»åž‹çš„è½¬æ¢ static_cast ç”¨äºŽéžå¤šæ€ç±»åž‹çš„è½¬æ¢ const_cast ç”¨äºŽåˆ é™¤const ,volatile å’Œ __unaligned å±žæ€§ reinterpret_cast ç”¨äºŽä½çš„ç®€å•é‡æ–°è§£é‡Š dynamic_cast 1dynamic_cast&lt;type&gt;(expression); å°†expressionè½¬æ¢ä¸ºtypeç±»åž‹,åœ¨è¿è¡ŒæœŸé—´è½¬æ¢ï¼Œä¸”ä¼šæ‰§è¡Œè¿è¡Œæ—¶æ£€æŸ¥ï¼Œæ€§èƒ½æœ‰ç›¸åº”æ¶ˆè€—ã€‚ è½¬æ¢ç±»åž‹å¿…é¡»æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€å¼•ç”¨æˆ–è€…voidï¼Œç”¨äºŽå°†åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨å®‰å…¨åœ°è½¬æ¢æˆæ´¾ç”Ÿç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼›* dynamic_caståœ¨è¿è¡ŒæœŸé—´å¼ºåˆ¶è½¬æ¢ï¼Œè¿è¡Œæ—¶è¿›è¡Œç±»åž‹è½¬æ¢æ£€æŸ¥ï¼› å¯¹æŒ‡é’ˆè¿›è¡Œè½¬æ¢ï¼Œå¤±è´¥è¿”å›žnullï¼ŒæˆåŠŸè¿”å›žtypeç±»åž‹çš„å¯¹è±¡æŒ‡é’ˆï¼Œå¯¹äºŽå¼•ç”¨çš„è½¬æ¢ï¼Œå¤±è´¥æŠ›å‡ºä¸€ä¸ªbad_cast ï¼ŒæˆåŠŸè¿”å›žtypeç±»åž‹çš„å¼•ç”¨ï¼› dynamic_castä¸èƒ½ç”¨äºŽå†…ç½®ç±»åž‹çš„è½¬æ¢ï¼› ç”¨äºŽç±»çš„è½¬æ¢ï¼ŒåŸºç±»ä¸­ä¸€å®šè¦æœ‰virtualå®šä¹‰çš„è™šå‡½æ•°ï¼ˆä¿è¯å¤šæ€æ€§ï¼‰ï¼Œä¸ç„¶ä¼šç¼–è¯‘é”™è¯¯ã€‚ å¯ä»¥åœ¨æ•´ä¸ªç±»å±‚æ¬¡ç»“æž„ä¸­ç§»åŠ¨æŒ‡é’ˆï¼ŒåŒ…æ‹¬å‘ä¸Šè½¬æ¢ã€å‘ä¸‹è½¬æ¢ static_cast 1static_cast&lt;type&gt;(expression); å°†expressionè½¬æ¢ä¸ºtypeç±»åž‹ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å®Œæˆã€‚æœ‰ä¸‹å‡ ä¸ªåº”ç”¨åœºæ™¯ï¼š ç”¨äºŽéžå¤šæ€ç±»åž‹çš„è½¬æ¢ **å†…ç½®ç±»åž‹è½¬æ¢ï¼š**è½¬æ¢è¿‡ç¨‹ä¸­çš„ç²¾åº¦æŸå¤±ç”±å¼€å‘è€…è´Ÿè´£ï¼Œé™¤éžæ— æ³•å®Œæˆç±»åž‹è½¬åŒ–ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¸ä¼šè­¦å‘Šæˆ–æŠ¥é”™ã€‚ æŠŠvoid*è½¬åŒ–ä¸ºç›®æ ‡ç±»åž‹æŒ‡é’ˆ æŠŠä»»æ„ç±»åž‹è½¬åŒ–ä¸ºvoid åŸºç±»ä¸Žæ´¾ç”Ÿç±»ä¹‹é—´æŒ‡é’ˆæˆ–å¼•ç”¨çš„è½¬æ¢ï¼šç”±äºŽä¸ä¼šè¿›è¡Œç±»åž‹æ£€æŸ¥ï¼Œæ‰€ä»¥å‘ä¸Šè½¬æ¢æ—¶å®‰å…¨çš„ï¼Œå‘ä¸‹è½¬æ¢æ˜¯ä¸å®‰å…¨çš„ã€‚ éœ€è¦æ³¨æ„static_castæ— æ³•è½¬æ¢expressionçš„const/volitale/__unalignedå±žæ€§ï¼ˆä¼šæŠ¥ç¼–è¯‘æ—¶é”™è¯¯ï¼‰ã€‚ const_cast 1const_cast&lt;type&gt;(expression); å¯ä»¥æä¾›ä¸€ä¸ªç§»é™¤expressionçš„const/volitale/__unalignedå±žæ€§çš„æŒ‡é’ˆï¼Œä½†åªé™åŒç±»åž‹é—´è½¬æ¢ã€‚ const_castä¸èƒ½æ‰§è¡Œå…¶ä»–ä»»ä½•ç±»åž‹è½¬æ¢ï¼Œåªèƒ½ç”¨äºŽåŒç±»åž‹ä¹‹é—´ä¸åŒconst/volitaleå±žæ€§çš„ç§»é™¤ã€‚å¦åˆ™ä¼šæŠ¥ç¼–è¯‘æ—¶é”™è¯¯ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œconst_casté€šå¸¸å¯¹æŒ‡é’ˆå’Œå¼•ç”¨è¿›è¡Œè½¬æ¢ï¼Œè€Œæ— æ³•ç›´æŽ¥ç§»é™¤å†…ç½®ç±»åž‹çš„const/volitaleå±žæ€§ï¼Œæ¢è¨€ä¹‹ï¼Œè¿™ç§è¯­æ³•ç›´æŽ¥æä¾›äº†ä¸€ä¸ªå…·æœ‰å†™æƒé™çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œå¯ä»¥é€šè¿‡é—´æŽ¥è®¿é—®çš„æ–¹å¼ï¼Œä¿®æ”¹å¸¸é‡ã€‚ reinterpret_cast 1reinterpret_cast&lt;type&gt;(expression); reinterpret_cast å…è®¸å°†ä»»ä½•æŒ‡é’ˆè½¬æ¢ä¸ºä»»ä½•å…¶ä»–æŒ‡é’ˆç±»åž‹ã€‚ ä¹Ÿå…è®¸å°†ä»»ä½•æ•´æ•°ç±»åž‹è½¬æ¢ä¸ºä»»ä½•æŒ‡é’ˆç±»åž‹ä»¥åŠåå‘è½¬æ¢ã€‚ ç”¨äºŽä½çš„ç®€å•é‡æ–°è§£é‡Š,æœ¬è´¨ä½œç”¨æ˜¯é‡æ–°å®šä¹‰å†…å­˜æ•°æ®çš„è§£é‡Šæ–¹å¼ï¼Œè€Œä¸è¿›è¡Œä»»ä½•äºŒè¿›åˆ¶è½¬æ¢. æ»¥ç”¨ reinterpret_cast è¿ç®—ç¬¦å¯èƒ½å¾ˆå®¹æ˜“å¸¦æ¥é£Žé™©ã€‚ é™¤éžæ‰€éœ€è½¬æ¢æœ¬èº«æ˜¯ä½Žçº§åˆ«çš„ï¼Œå¦åˆ™åº”ä½¿ç”¨å…¶ä»–å¼ºåˆ¶è½¬æ¢è¿ç®—ç¬¦ä¹‹ä¸€ã€‚ å…è®¸å°†ä»»ä½•æŒ‡é’ˆè½¬æ¢ä¸ºä»»ä½•å…¶ä»–æŒ‡é’ˆç±»åž‹ï¼ˆå¦‚ char* åˆ° int* æˆ– One_class* åˆ° Unrelated_class* ä¹‹ç±»çš„è½¬æ¢ï¼Œä½†å…¶æœ¬èº«å¹¶ä¸å®‰å…¨ï¼‰ ä¹Ÿå…è®¸å°†ä»»ä½•æ•´æ•°ç±»åž‹è½¬æ¢ä¸ºä»»ä½•æŒ‡é’ˆç±»åž‹ä»¥åŠåå‘è½¬æ¢ã€‚ reinterpret_cast è¿ç®—ç¬¦ä¸èƒ½ä¸¢æŽ‰ constã€volatile æˆ– __unaligned ç‰¹æ€§ã€‚ reinterpret_cast çš„ä¸€ä¸ªå®žé™…ç”¨é€”æ˜¯åœ¨å“ˆå¸Œå‡½æ•°ä¸­ï¼Œå³ï¼Œé€šè¿‡è®©ä¸¤ä¸ªä¸åŒçš„å€¼å‡ ä¹Žä¸ä»¥ç›¸åŒçš„ç´¢å¼•ç»“å°¾çš„æ–¹å¼å°†å€¼æ˜ å°„åˆ°ç´¢å¼•ã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonä¼ å€¼ä¸Žä¼ å¼•ç”¨]]></title>
    <url>%2F2019%2F03%2F22%2FPython%2Fpyrhon-valve-reference%2F</url>
    <content type="text"><![CDATA[å¯å˜å¯¹è±¡ä¸Žä¸å¯å˜å¯¹è±¡ è¦æ˜Žç™½pythonåœ¨å‚æ•°ä¼ é€’å’Œèµ‹å€¼è¿‡ç¨‹ä¸­çš„è¡Œä¸ºï¼Œé¦–å…ˆè¦æ˜Žç™½pythonä¸­çš„ä¸¤ç±»å¯¹è±¡ï¼šå¯å˜å¯¹è±¡ä¸Žä¸å¯å˜å¯¹è±¡ã€‚ **ä¸å¯å˜å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ‰€æŒ‡å‘çš„å†…å­˜ä¸­çš„å€¼ä¸èƒ½è¢«æ”¹å˜ã€‚**å¯¹äºŽè¿™æ ·çš„å¯¹è±¡è§£é‡Šå™¨ä¼šé‡‡å–COWçš„ç­–ç•¥ï¼Œå³å½“æ”¹å˜æŸä¸ªå˜é‡æ—¶å€™ï¼Œä¼šæŠŠæŠŠåŽŸæ¥çš„å€¼å¤åˆ¶ä¸€ä»½åŽå†æ”¹å˜ï¼Œè¿™ä¼šå¼€è¾Ÿä¸€ä¸ªæ–°çš„åœ°å€ï¼Œå˜é‡å†æŒ‡å‘è¿™ä¸ªæ–°çš„åœ°å€ã€‚ å¯å˜å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ‰€æŒ‡å‘çš„å†…å­˜ä¸­çš„å€¼å¯ä»¥è¢«æ”¹å˜ã€‚å˜é‡ï¼ˆå‡†ç¡®çš„è¯´æ˜¯å¼•ç”¨ï¼‰æ”¹å˜åŽï¼Œå®žé™…ä¸Šæ˜¯å…¶æ‰€æŒ‡çš„å€¼ç›´æŽ¥å‘ç”Ÿæ”¹å˜ï¼Œå¹¶æ²¡æœ‰å‘ç”Ÿå¤åˆ¶è¡Œä¸ºï¼Œä¹Ÿæ²¡æœ‰å¼€è¾Ÿæ–°çš„å‡ºåœ°å€ï¼Œé€šä¿—ç‚¹è¯´å°±æ˜¯åŽŸåœ°æ”¹å˜ã€‚ Python çš„å‚æ•°ä¼ é€’ä¸Žèµ‹å€¼ pythonçš„å‡½æ•°ä¼ å‚ä»¥åŠèµ‹å€¼æ˜¯ä»¥ä¸€ç§â€œä¼ å¯¹è±¡å¼•ç”¨â€çš„æ–¹å¼å®Œæˆçš„ï¼Œä½†æ˜¯ç”±äºŽå¯¹è±¡ç±»åž‹ä¸åŒï¼Œåœ¨ä¿®æ”¹æ—¶ï¼Œä¼šæœ‰ä¸åŒçš„ç»“æžœã€‚ å¦‚æžœå‡½æ•°æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼ˆæ¯”å¦‚å­—å…¸æˆ–è€…åˆ—è¡¨ï¼‰çš„å¼•ç”¨ï¼Œå°±èƒ½ä¿®æ”¹å¯¹è±¡çš„åŽŸå§‹å€¼**ï¼ï¼ç›¸å½“äºŽé€šè¿‡â€œä¼ å¼•ç”¨â€æ¥ä¼ é€’å¯¹è±¡ã€‚** å¦‚æžœå‡½æ•°æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªä¸å¯å˜å¯¹è±¡ï¼ˆæ¯”å¦‚æ•°å€¼ç±»åž‹ã€å­—ç¬¦æˆ–è€…å…ƒç»„ï¼‰çš„å¼•ç”¨ï¼Œå°±ä¸èƒ½ç›´æŽ¥ä¿®æ”¹åŽŸå§‹å¯¹è±¡**ï¼ï¼ç›¸å½“äºŽé€šè¿‡â€œä¼ å€¼â€™æ¥ä¼ é€’å¯¹è±¡ã€‚** å¦å¤–éœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼Œä¸å¯å˜çš„å±žæ€§æ˜¯ç”±å¤–è‡³å†…çš„ï¼Œä¹Ÿå³å¦‚æžœä¸€ä¸ªå…ƒç»„å†…æœ‰å¤šä¸ªæ•°ç»„ï¼Œåˆ™è¿™äº›æ•°ç»„ä½œä¸ºå…ƒç»„å†…çš„å…ƒç´ ï¼Œä¹Ÿæ˜¯ä¸å¯å˜çš„ã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>æ¦‚å¿µè¾¨æž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[destoryå’Œdesallocateçš„åŒºåˆ«]]></title>
    <url>%2F2019%2F03%2F21%2FC%2B%2B%2Fdestory-desallocate%2F</url>
    <content type="text"><![CDATA[deallocateï¼š 123456template &lt;class T&gt; inline void _deallocate(T* buffer) &#123; ::operator delete(buffer); //ä¸ºä»€ä¹ˆä¸ç”¨ delete [] ? ,operator delete åŒºåˆ«äºŽ delete //operator delete æ˜¯ä¸€ä¸ªåº•å±‚æ“ä½œç¬¦ &#125; destory: 12345template &lt;class T&gt; inline void _destory(T *ptr) &#123; ptr-&gt;~T(); &#125; destoryè´Ÿè´£è°ƒç”¨ç±»åž‹çš„æžæž„å‡½æ•°ï¼Œé”€æ¯ç›¸åº”å†…å­˜ä¸Šçš„å†…å®¹ï¼ˆä½†é”€æ¯åŽå†…å­˜åœ°å€ä»ä¿ç•™ï¼‰ deallocateè´Ÿè´£é‡Šæ”¾å†…å­˜ï¼ˆæ­¤æ—¶ç›¸åº”å†…å­˜ä¸­çš„å€¼åœ¨æ­¤ä¹‹å‰åº”è°ƒç”¨destoryé”€æ¯ï¼Œå°†å†…å­˜åœ°å€è¿”å›žç»™ç³»ç»Ÿï¼Œä»£è¡¨è¿™éƒ¨åˆ†åœ°å€ä½¿ç”¨å¼•ç”¨-1ï¼‰ åŽŸæ–‡åœ°å€]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†è¾¨æž</tag>
        <tag>å†…å­˜ç®¡ç†</tag>
        <tag>malloc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mallocã€callocã€reallocçš„åŒºåˆ«]]></title>
    <url>%2F2019%2F03%2F21%2FC%2B%2B%2Fmalloc-calloc-realloc%2F</url>
    <content type="text"><![CDATA[å‡½æ•°åŽŸåž‹ï¼š 1. malloc â€‹ void* malloc(unsigned size); â€‹ åœ¨å †å†…å­˜ä¸­åˆ†é…ä¸€å—é•¿åº¦ä¸ºsizeå­—èŠ‚çš„è¿žç»­åŒºåŸŸï¼Œå‚æ•°sizeä¸ºéœ€è¦å†…å­˜ç©ºé—´çš„é•¿åº¦ã€‚ 2. calloc â€‹ void* calloc(size_t numElements, size_t sizeOfElement); â€‹ ä¸Žmallocç›¸ä¼¼ï¼Œå‚æ•°sizeOfElementä¸ºå•ä½å…ƒç´ é•¿åº¦ï¼ˆä¾‹å¦‚ï¼šsizeof(int)ï¼‰ï¼ŒnumElementsä¸ºå…ƒç´ ä¸ªæ•°ï¼Œå³åœ¨å†…å­˜ä¸­ç”³è¯·numElements * sizeOfElementå­—èŠ‚å¤§å°çš„è¿žç»­å†…å­˜ç©ºé—´ã€‚ 3. realloc â€‹ void* realloc(void* ptr, unsigned newsize); ä½¿ç”¨reallocå‡½æ•°ä¸ºptré‡æ–°åˆ†é…å¤§å°ä¸ºsizeçš„ä¸€å—å†…å­˜ç©ºé—´ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªå‡½æ•°çš„å·¥ä½œæµç¨‹ï¼š â€‹ (1)ï¼Œå¯¹ptrè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æžœpträ¸ºNULLï¼Œåˆ™å‡½æ•°ç›¸å½“äºŽmalloc(new_size)ï¼Œè¯•ç€åˆ†é…ä¸€å—å¤§å°ä¸ºnew_sizeçš„å†…å­˜ï¼Œå¦‚æžœæˆåŠŸå°†åœ°å€è¿”å›žï¼Œå¦åˆ™è¿”å›žNULLã€‚å¦‚æžœpträ¸ä¸ºNULLï¼Œåˆ™è¿›å…¥(2)ã€‚ â€‹ (2)ï¼ŒæŸ¥çœ‹ptræ˜¯ä¸æ˜¯åœ¨å †ä¸­ï¼Œå¦‚æžœä¸æ˜¯çš„è¯ä¼šæŠ›å‡ºrealloc invalid pointerå¼‚å¸¸ã€‚å¦‚æžœptråœ¨å †ä¸­ï¼Œåˆ™æŸ¥çœ‹new_sizeå¤§å°ï¼Œå¦‚æžœnew_sizeå¤§å°ä¸º0ï¼Œåˆ™ç›¸å½“äºŽfree(ptr)ï¼Œå°†ptræŒ‡å‘çš„å†…å­˜ç©ºé—´é‡Šæ”¾æŽ‰ï¼Œè¿”å›žNULLã€‚å¦‚æžœnew_sizeå°äºŽåŽŸå¤§å°ï¼Œåˆ™pträ¸­çš„æ•°æ®å¯èƒ½ä¼šä¸¢å¤±ï¼Œåªæœ‰new_sizeå¤§å°çš„æ•°æ®ä¼šä¿å­˜ï¼›å¦‚æžœsizeç­‰äºŽåŽŸå¤§å°ï¼Œç­‰äºŽä»€ä¹ˆéƒ½æ²¡æœ‰åšï¼›å¦‚æžœsizeå¤§äºŽåŽŸå¤§å°ï¼Œåˆ™æŸ¥çœ‹ptræŒ‡å‘çš„ä½ç½®è¿˜æœ‰æ²¡æœ‰è¶³å¤Ÿçš„è¿žç»­å†…å­˜ç©ºé—´ï¼Œå¦‚æžœæœ‰çš„è¯ï¼Œåˆ†é…æ›´å¤šçš„ç©ºé—´ï¼Œè¿”å›žçš„åœ°å€å’Œptrç›¸åŒï¼Œå¦‚æžœæ²¡æœ‰çš„è¯ï¼Œåœ¨æ›´å¤§çš„ç©ºé—´å†…æŸ¥æ‰¾ï¼Œå¦‚æžœæ‰¾åˆ°sizeå¤§å°çš„ç©ºé—´ï¼Œå°†æ—§çš„å†…å®¹æ‹·è´åˆ°æ–°çš„å†…å­˜ä¸­ï¼ŒæŠŠæ—§çš„å†…å­˜é‡Šæ”¾æŽ‰ï¼Œåˆ™è¿”å›žæ–°åœ°å€ï¼Œå¦åˆ™è¿”å›žNULLã€‚ åŒºåˆ« å‡½æ•°mallocä¸èƒ½åˆå§‹åŒ–æ‰€åˆ†é…çš„å†…å­˜ç©ºé—´,è€Œå‡½æ•°callocèƒ½.å¦‚æžœç”±malloc()å‡½æ•°åˆ†é…çš„å†…å­˜ç©ºé—´åŽŸæ¥æ²¡æœ‰è¢«ä½¿ç”¨è¿‡ï¼Œåˆ™å…¶ä¸­çš„æ¯ä¸€ä½å¯èƒ½éƒ½æ˜¯0;åä¹‹, å¦‚æžœè¿™éƒ¨åˆ†å†…å­˜æ›¾ç»è¢«åˆ†é…è¿‡,åˆ™å…¶ä¸­å¯èƒ½é—ç•™æœ‰å„ç§å„æ ·çš„æ•°æ®.ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨malloc()å‡½æ•°çš„ç¨‹åºå¼€å§‹æ—¶(å†…å­˜ç©ºé—´è¿˜æ²¡æœ‰è¢«é‡æ–°åˆ†é…)èƒ½æ­£å¸¸è¿›è¡Œ,ä½†ç»è¿‡ä¸€æ®µæ—¶é—´(å†…å­˜ç©ºé—´è¿˜å·²ç»è¢«é‡æ–°åˆ†é…)å¯èƒ½ä¼šå‡ºçŽ°é—®é¢˜. å‡½æ•°calloc() ä¼šå°†æ‰€åˆ†é…çš„å†…å­˜ç©ºé—´ä¸­çš„æ¯ä¸€ä½éƒ½åˆå§‹åŒ–ä¸ºé›¶,ä¹Ÿå°±æ˜¯è¯´,å¦‚æžœä½ æ˜¯ä¸ºå­—ç¬¦ç±»åž‹æˆ–æ•´æ•°ç±»åž‹çš„å…ƒç´ åˆ†é…å†…å­˜,é‚£ä¹ˆè¿™äº›å…ƒç´ å°†ä¿è¯ä¼šè¢«åˆå§‹åŒ–ä¸º0;å¦‚æžœä½ æ˜¯ä¸ºæŒ‡é’ˆç±»åž‹çš„å…ƒç´ åˆ†é…å†…å­˜,é‚£ä¹ˆè¿™äº›å…ƒç´ é€šå¸¸ä¼šè¢«åˆå§‹åŒ–ä¸ºç©ºæŒ‡é’ˆ;å¦‚æžœä½ ä¸ºå®žåž‹æ•°æ®åˆ†é…å†…å­˜,åˆ™è¿™äº›å…ƒç´ ä¼šè¢«åˆå§‹åŒ–ä¸ºæµ®ç‚¹åž‹çš„é›¶. å‡½æ•°mallocå‘ç³»ç»Ÿç”³è¯·åˆ†é…æŒ‡å®šsizeä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´.è¿”å›žç±»åž‹æ˜¯ voidç±»åž‹.voidè¡¨ç¤ºæœªç¡®å®šç±»åž‹çš„æŒ‡é’ˆ.C,C++è§„å®šï¼Œvoid* ç±»åž‹å¯ä»¥å¼ºåˆ¶è½¬æ¢ä¸ºä»»ä½•å…¶å®ƒç±»åž‹çš„æŒ‡é’ˆ. reallocå¯ä»¥å¯¹ç»™å®šçš„æŒ‡é’ˆæ‰€æŒ‡çš„ç©ºé—´è¿›è¡Œæ‰©å¤§æˆ–è€…ç¼©å°ï¼Œæ— è®ºæ˜¯æ‰©å¼ æˆ–æ˜¯ç¼©å°ï¼ŒåŽŸæœ‰å†…å­˜çš„ä¸­å†…å®¹å°†ä¿æŒä¸å˜.å½“ç„¶ï¼Œå¯¹äºŽç¼©å°ï¼Œåˆ™è¢«ç¼©å°çš„é‚£ä¸€éƒ¨åˆ†çš„å†…å®¹ä¼šä¸¢å¤±.reallocå¹¶ä¸ä¿è¯è°ƒæ•´åŽçš„å†…å­˜ç©ºé—´å’ŒåŽŸæ¥çš„å†…å­˜ç©ºé—´ä¿æŒåŒä¸€å†…å­˜åœ°å€.ç›¸åï¼Œreallocè¿”å›žçš„æŒ‡é’ˆå¾ˆå¯èƒ½æŒ‡å‘ä¸€ä¸ªæ–°çš„åœ°å€. reallocæ˜¯ä»Žå †ä¸Šåˆ†é…å†…å­˜çš„.å½“æ‰©å¤§ä¸€å—å†…å­˜ç©ºé—´æ—¶ï¼Œrealloc()è¯•å›¾ç›´æŽ¥ä»Žå †ä¸ŠçŽ°å­˜çš„æ•°æ®åŽé¢çš„é‚£äº›å­—èŠ‚ä¸­èŽ·å¾—é™„åŠ çš„å­—èŠ‚ï¼Œå¦‚æžœèƒ½å¤Ÿæ»¡è¶³ï¼Œè‡ªç„¶å¤©ä¸‹å¤ªå¹³ï¼›å¦‚æžœæ•°æ®åŽé¢çš„å­—èŠ‚ä¸å¤Ÿï¼Œé—®é¢˜å°±å‡ºæ¥äº†ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨å †ä¸Šç¬¬ä¸€ä¸ªæœ‰è¶³å¤Ÿå¤§å°çš„è‡ªç”±å—ï¼ŒçŽ°å­˜çš„æ•°æ®ç„¶åŽå°±è¢«æ‹·è´è‡³æ–°çš„ä½ç½®ï¼Œè€Œè€å—åˆ™æ”¾å›žåˆ°å †ä¸Š.è¿™å¥è¯ä¼ é€’çš„ä¸€ä¸ªé‡è¦çš„ä¿¡æ¯å°±æ˜¯æ•°æ®å¯èƒ½è¢«ç§»åŠ¨.]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†è¾¨æž</tag>
        <tag>å†…å­˜ç®¡ç†</tag>
        <tag>malloc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[malloc å’Œnew]]></title>
    <url>%2F2019%2F03%2F18%2FC%2B%2B%2Fmalocandnew%2F</url>
    <content type="text"><![CDATA[â€‹ malloc() ä¸Ž free()ç›¸å¯¹åº”ï¼Œnew/new[]ä¸Ždelete/delete[]ç›¸å¯¹åº”ï¼Œéƒ½åº”é…å¯¹ä½¿ç”¨ã€‚ ç”³è¯·å†…å­˜ä½ç½®ä¸åŒ newæ“ä½œç¬¦å¯ä»¥ä»Žå…¶ä»–ä½ç½®ä¸Šåˆ†é…å†…å­˜ï¼Œä¸ä¸€å®šå±€é™äºŽå †ã€‚ mallocå‡½æ•°ä»Žå †ä¸ŠåŠ¨æ€åˆ†é…å†…å­˜ã€‚ è¿”å›žç±»åž‹å®‰å…¨æ€§ newæ“ä½œç¬¦è¿”å›žçš„æ˜¯å¯¹è±¡ç±»åž‹çš„æŒ‡é’ˆï¼Œç±»åž‹åŒ¹é…ï¼Œæ•…ç±»åž‹å®‰å…¨ã€‚ mallocå‡½æ•°åˆ†é…æˆåŠŸè¿”å›žvoid*ï¼Œéœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»åž‹è½¬æ¢ã€‚ å†…å­˜åˆ†é…å¤±è´¥æ—¶çš„è¿”å›žå€¼ newåˆ†é…å¤±è´¥ä¼šæŠ›å‡ºbac_allocå¼‚å¸¸ã€‚mallocåˆ†é…å†…å­˜å¤±è´¥æ—¶è¿”å›žNULLã€‚ ç©ºé—´å¤§å°æŒ‡å®šæ–¹å¼ä¸åŒ new ä¼šæ ¹æ®ç±»åž‹æŽ¨æ–­éœ€è¦åˆ†é…çš„å†…å­˜çš„å¤§å°ã€‚mallocéœ€è¦è‡ªè¡Œè®¡ç®—æŒ‡å‡ºå†…å­˜å¤§å°ã€‚ åˆ†é…è¡Œä¸ºä¸åŒ newåˆ†é…å†…å­˜ä¼šæœ‰3ä¸ªæ­¥éª¤ï¼š ç¬¬ä¸€æ­¥ï¼šè°ƒç”¨operator new å‡½æ•°ï¼ˆå¯¹äºŽæ•°ç»„æ˜¯operator new[]ï¼‰åˆ†é…ä¸€å—è¶³å¤Ÿå¤§çš„ï¼ŒåŽŸå§‹çš„ï¼Œæœªå‘½åçš„å†…å­˜ç©ºé—´ä»¥ä¾¿å­˜å‚¨ç‰¹å®šç±»åž‹çš„å¯¹è±¡ã€‚ ç¬¬äºŒæ­¥ï¼šç¼–è¯‘å™¨è¿è¡Œç›¸åº”çš„æž„é€ å‡½æ•°ä»¥æž„é€ å¯¹è±¡ï¼Œå¹¶ä¸ºå…¶ä¼ å…¥åˆå€¼ã€‚ ç¬¬ä¸‰æ­¥ï¼šå¯¹è±¡æž„é€ å®ŒæˆåŽï¼Œè¿”å›žä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆã€‚ malloc åªä¼šå¼€è¾Ÿç©ºé—´ã€‚ å¯¹æ•°ç»„çš„å¤„ç† C++æä¾›äº†new[]ä¸Ždelete[]æ¥ä¸“é—¨å¤„ç†æ•°ç»„ç±»åž‹: A * ptr = new A[10];//åˆ†é…10ä¸ªAå¯¹è±¡ ä½¿ç”¨new[]åˆ†é…çš„å†…å­˜å¿…é¡»ä½¿ç”¨delete[]è¿›è¡Œé‡Šæ”¾ï¼šdelete [] ptr; newå¯¹æ•°ç»„çš„æ”¯æŒä½“çŽ°åœ¨å®ƒä¼šåˆ†åˆ«è°ƒç”¨æž„é€ å‡½æ•°å‡½æ•°åˆå§‹åŒ–æ¯ä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä¸ºæ¯ä¸ªå¯¹è±¡è°ƒç”¨æžæž„å‡½æ•°ã€‚æ³¨æ„delete[]è¦ä¸Žnew[]é…å¥—ä½¿ç”¨ï¼Œä¸ç„¶ä¼šæ‰¾å‡ºæ•°ç»„å¯¹è±¡éƒ¨åˆ†é‡Šæ”¾çš„çŽ°è±¡ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚ è€Œmallocï¼Œå®ƒå¹¶ä¸çŸ¥é“ä½ åœ¨è¿™å—å†…å­˜ä¸Šè¦æ”¾çš„æ•°ç»„è¿˜æ˜¯åˆ«çš„ä¸œè¥¿ï¼Œåæ­£å®ƒå°±ç»™ä½ ä¸€å—åŽŸå§‹çš„å†…å­˜ï¼Œåœ¨ç»™ä½ ä¸ªå†…å­˜çš„åœ°å€å°±å®Œäº‹ã€‚æ‰€ä»¥å¦‚æžœè¦åŠ¨æ€åˆ†é…ä¸€ä¸ªæ•°ç»„çš„å†…å­˜ï¼Œè¿˜éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è‡ªå®šæ•°ç»„çš„å¤§å°ï¼š æ˜¯å¦å¯ä»¥è¢«é‡è½½ opeartor new /operator deleteå¯ä»¥è¢«é‡è½½ è€Œmalloc/freeå¹¶ä¸å…è®¸é‡è½½ã€‚ èƒ½å¦ç›´è§‚åœ°é‡æ–°åˆ†é…å†…å­˜ ä½¿ç”¨mallocåˆ†é…çš„å†…å­˜åŽï¼Œå¦‚æžœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘çŽ°å†…å­˜ä¸è¶³ï¼Œå¯ä»¥ä½¿ç”¨reallocå‡½æ•°è¿›è¡Œå†…å­˜é‡æ–°åˆ†é…å®žçŽ°å†…å­˜çš„æ‰©å……ã€‚reallocå…ˆåˆ¤æ–­å½“å‰çš„æŒ‡é’ˆæ‰€æŒ‡å†…å­˜æ˜¯å¦æœ‰è¶³å¤Ÿçš„è¿žç»­ç©ºé—´ï¼Œå¦‚æžœæœ‰ï¼ŒåŽŸåœ°æ‰©å¤§å¯åˆ†é…çš„å†…å­˜åœ°å€ï¼Œå¹¶ä¸”è¿”å›žåŽŸæ¥çš„åœ°å€æŒ‡é’ˆï¼›å¦‚æžœç©ºé—´ä¸å¤Ÿï¼Œå…ˆæŒ‰ç…§æ–°æŒ‡å®šçš„å¤§å°åˆ†é…ç©ºé—´ï¼Œå°†åŽŸæœ‰æ•°æ®ä»Žå¤´åˆ°å°¾æ‹·è´åˆ°æ–°åˆ†é…çš„å†…å­˜åŒºåŸŸï¼Œè€ŒåŽé‡Šæ”¾åŽŸæ¥çš„å†…å­˜åŒºåŸŸã€‚ newæ²¡æœ‰ã€‚ newä¸Žmallocæ˜¯å¦å¯ä»¥ç›¸äº’è°ƒç”¨ operator new /operator deleteçš„å®žçŽ°å¯ä»¥åŸºäºŽmallocï¼Œè€Œmallocçš„å®žçŽ°ä¸å¯ä»¥åŽ»è°ƒç”¨newã€‚ å®¢æˆ·å¤„ç†å†…å­˜åˆ†é…ä¸è¶³ åœ¨operator newæŠ›å‡ºå¼‚å¸¸ä»¥åæ˜ ä¸€ä¸ªæœªèŽ·å¾—æ»¡è¶³çš„éœ€æ±‚ä¹‹å‰ï¼Œå®ƒä¼šå…ˆè°ƒç”¨ä¸€ä¸ªç”¨æˆ·æŒ‡å®šçš„é”™è¯¯å¤„ç†å‡½æ•°ã€‚ å¯¹äºŽmallocï¼Œå®¢æˆ·å¹¶ä¸èƒ½å¤ŸåŽ»ç¼–ç¨‹å†³å®šå†…å­˜ä¸è¶³ä»¥åˆ†é…æ—¶è¦å¹²ä»€ä¹ˆäº‹ï¼Œåªèƒ½çœ‹ç€mallocè¿”å›žNULLã€‚]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>å†…å­˜ç®¡ç† - malloc - çŸ¥è¯†è¾¨æž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[LeetCode]æ•°ç»„ç±»é—®é¢˜å¿ƒå¾—å°ç»“]]></title>
    <url>%2F2019%2F03%2F02%2FLeetCode%2Farray%2F</url>
    <content type="text"><![CDATA[å¸¸ç”¨æ–¹æ³•ä¸Žå‡½æ•° åœ¨C++ä¸­ï¼Œå¸¸ç”¨vectoræ¥ä½œä¸ºæ•°ç»„å®¹å™¨ã€‚å› æ­¤æˆ‘ä»¬åªè®¨è®ºvectorçš„ç›¸å…³æ–¹æ³•ä¸Žå‡½æ•°ã€‚ æ–¹æ³• ä½œç”¨ a.empty() åˆ¤æ–­aæ˜¯å¦ä¸ºç©ºï¼Œç©ºåˆ™è¿”å›žture,ä¸ç©ºåˆ™è¿”å›žfalse a.erase(a.begin()+1,a.begin()+3) åˆ é™¤aä¸­ç¬¬1ä¸ªï¼ˆä»Žç¬¬0ä¸ªç®—èµ·ï¼‰åˆ°ç¬¬2ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ é™¤çš„å…ƒç´ ä»Ža.begin()+1ç®—èµ·ï¼ˆåŒ…æ‹¬å®ƒï¼‰ä¸€ç›´åˆ°a.begin()+ 3ï¼ˆä¸åŒ…æ‹¬å®ƒï¼‰ a.size() è¿”å›žaä¸­å…ƒç´ çš„ä¸ªæ•° a.resize(10,2) å°†açš„çŽ°æœ‰å…ƒç´ ä¸ªæ•°è°ƒè‡³10ä¸ªï¼Œå¤šåˆ™åˆ ï¼Œå°‘åˆ™è¡¥ï¼Œå…¶å€¼ä¸º2 a.swap(b) bä¸ºå‘é‡ï¼Œå°†aä¸­çš„å…ƒç´ å’Œbä¸­çš„å…ƒç´ è¿›è¡Œæ•´ä½“æ€§äº¤æ¢ a.insert(a.begin()+1,3,5) åœ¨açš„ç¬¬1ä¸ªå…ƒç´ ï¼ˆä»Žç¬¬0ä¸ªç®—èµ·ï¼‰çš„ä½ç½®æ’å…¥3ä¸ªæ•°ï¼Œå…¶å€¼éƒ½ä¸º5 a.insert(a.begin()+1,5) åœ¨açš„ç¬¬1ä¸ªå…ƒç´ ï¼ˆä»Žç¬¬0ä¸ªç®—èµ·ï¼‰çš„ä½ç½®æ’å…¥æ•°å€¼5ï¼Œå¦‚aä¸º1,2,3,4ï¼Œæ’å…¥å…ƒç´ åŽä¸º1,5,2,3,4 C++ç®—æ³•åº“ä¸­æä¾›äº†è®¸å¤šç®—æ³•å‡½æ•°å¯ä»¥å¯¹vectorè¿›è¡Œæ“ä½œï¼Œä½¿ç”¨æ—¶è¦åŒ…å«å¤´æ–‡ä»¶#include&lt;algorithm&gt; å‡½æ•° ä½œç”¨ sort(a.begin(),a.end()) å¯¹aä¸­çš„ä»Ža.begin()ï¼ˆåŒ…æ‹¬å®ƒï¼‰åˆ°a.end()ï¼ˆä¸åŒ…æ‹¬å®ƒï¼‰çš„å…ƒç´ è¿›è¡Œä»Žå°åˆ°å¤§æŽ’åˆ— reverse(a.begin(),a.end()); å¯¹aä¸­çš„ä»Ža.begin()ï¼ˆåŒ…æ‹¬å®ƒï¼‰åˆ°a.end()ï¼ˆä¸åŒ…æ‹¬å®ƒï¼‰çš„å…ƒç´ å€’ç½®ï¼Œä½†ä¸æŽ’åˆ—ï¼Œå¦‚aä¸­å…ƒç´ ä¸º1,3,2,4,å€’ç½®åŽä¸º4,2,3,1 copy(a.begin(),a.end(),b.begin()+1) æŠŠaä¸­çš„ä»Ža.begin()ï¼ˆåŒ…æ‹¬å®ƒï¼‰åˆ°a.end()ï¼ˆä¸åŒ…æ‹¬å®ƒï¼‰çš„å…ƒç´ å¤åˆ¶åˆ°bä¸­ï¼Œä»Žb.begin()+1çš„ä½ç½®ï¼ˆåŒ…æ‹¬å®ƒï¼‰å¼€å§‹å¤åˆ¶ï¼Œè¦†ç›–æŽ‰åŽŸæœ‰å…ƒç´  find(a.begin(),a.end(),10) åœ¨aä¸­çš„ä»Ža.begin()ï¼ˆåŒ…æ‹¬å®ƒï¼‰åˆ°a.end()ï¼ˆä¸åŒ…æ‹¬å®ƒï¼‰çš„å…ƒç´ ä¸­æŸ¥æ‰¾10ï¼Œè‹¥å­˜åœ¨è¿”å›žå…¶åœ¨å‘é‡ä¸­çš„ä½ç½® æ•°ç»„éåŽ† æ•°ç»„éåŽ†ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œï¼ˆ1ï¼‰ä¸‹æ ‡è®¿é—®éåŽ†ï¼Œï¼ˆ2ï¼‰ä½¿ç”¨è¿­ä»£å™¨éåŽ†ã€‚ ä½¿ç”¨ä¸‹æ ‡éåŽ† 1234int a[6]=&#123;1,2,3,4,5,6&#125;;vector&lt;int&gt; b(a,a+4);for(int i=0;i&lt;=b.size()-1;i++) cout&lt;&lt;b[i]&lt;&lt;" "; ä½¿ç”¨è¿­ä»£å™¨éåŽ† 1234int a[6]=&#123;1,2,3,4,5,6&#125;;vector&lt;int&gt; b(a,a+4);for(vector&lt;int&gt;::iterator it=b.begin();it!=b.end();it++) cout&lt;&lt;*it&lt;&lt;" "; å¸¸è§é¢˜åž‹åŠå…¶å¸¸è§æ€è·¯ ç‰¹å®šæ¨¡å¼çš„æœç´¢é—®é¢˜ â€‹ è¿™ç±»é¢˜åž‹ä¼šæä¾›ä½ ä¸€ä¸ªç‰¹å®šçš„æ¨¡å¼ï¼Œè¦æ±‚ä½ åœ¨æ•°ç»„ä¸­æœç´¢ï¼Œä¸€èˆ¬è¦æ±‚å›žç­”å‡ºçŽ°ä½ç½®æˆ–è€…æ˜¯å¦å­˜åœ¨ï¼Œä¸»è¦è€ƒå¯Ÿæ•°ç»„çš„éåŽ†ã€‚ æš´åŠ›æœç´¢ ç›´æŽ¥éåŽ†å³å¯ï¼Œä¸€èˆ¬éƒ½è¦Oï¼ˆn^2)çš„å¤æ‚åº¦ï¼Œæ ¹æ®ä¸€äº›é¢˜ç›®å…·ä½“çš„ä¸åŒå¯ä»¥åšä¸€äº›ç®€åŒ–ã€‚ åŒæŒ‡é’ˆæ³• ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆæ¥è¿›è¡ŒéåŽ†ï¼Œå¯ä»¥ä¿ç•™æ›´å¤šçš„ä¿¡æ¯æ˜“äºŽåˆ¤æ–­ï¼ŒåŒæ—¶ä¹Ÿå‡å°‘åˆ¤æ–­ã€‚ä¸€èˆ¬åˆ†ä¸ºå¿«æŒ‡é’ˆ+æ…¢æŒ‡é’ˆå’Œå¤´æŒ‡é’ˆ+å°¾æŒ‡é’ˆä¸¤ç§æ¨¡å¼ã€‚ è½¬åŒ–æ³• å¦‚æžœé¢˜ç›®ä¸­çš„æ¨¡å¼ç»„åˆæ¯”è¾ƒæœ‰é™ï¼Œåˆ™å¯ä»¥ä»Žæ¨¡å¼æœ¬èº«å‡ºå‘è¿›è¡Œé—®é¢˜è½¬åŒ–ï¼Œå°†å¯¹æ•°ç»„çš„éåŽ†è½¬åŒ–ä¸ºæœ‰é™æ¨¡å¼çš„ç»Ÿè®¡ï¼Œå¤æ‚åº¦å¯é™è‡³Oï¼ˆnï¼‰ç”šè‡³Oï¼ˆ1ï¼‰ã€‚ é€ä¸ªä¿®æ”¹é—®é¢˜ é‡å¤é—®é¢˜ äº¤æ¢ä¸Žæ—‹è½¬é—®é¢˜]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ•°ç»„</tag>
        <tag>LeetCode Summary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€LeetCodeã€‘åˆçº§ç®—æ³•â€”â€”æ•°ç»„]]></title>
    <url>%2F2019%2F02%2F28%2FLeetCode%2FLeetcode-array%2F</url>
    <content type="text"><![CDATA[[LeetCode]# 217 å­˜åœ¨é‡å¤å…ƒç´  ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚ å¦‚æžœä»»ä½•å€¼åœ¨æ•°ç»„ä¸­å‡ºçŽ°è‡³å°‘ä¸¤æ¬¡ï¼Œå‡½æ•°è¿”å›ž trueã€‚å¦‚æžœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ç›¸åŒï¼Œåˆ™è¿”å›ž falseã€‚ ç¤ºä¾‹ 1: 123&gt; è¾“å…¥: [1,2,3,1]&gt; è¾“å‡º: true&gt; ç¤ºä¾‹ 2: 123&gt; è¾“å…¥: [1,2,3,4]&gt; è¾“å‡º: false&gt; ç¤ºä¾‹ 3: 123&gt; è¾“å…¥: [1,1,1,3,3,4,3,2,4,2]&gt; è¾“å‡º: true&gt; è§£ç­”æ€è·¯ æš´åŠ›æœç´¢ï¼š æœ€å®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•ï¼Œå½“ç„¶é€Ÿåº¦éžå¸¸æ…¢ã€‚ 1234567891011121314151617class Solution &#123;public: bool containsDuplicate(vector&lt;int&gt;&amp; nums) &#123; if(nums.empty())&#123; return false; &#125; int len =nums.size(); for(int i =0; i&lt;len;i++)&#123; for(int j =i+1; j&lt;len;j++)&#123; if (nums[i] == nums[j])&#123; return true; &#125; &#125; &#125; return false; &#125;&#125;; å…ˆæŽ’åº è¿™ä¸ªæ–¹æ³•çš„å¥½å¤„åœ¨äºŽï¼šæŽ’åºåŽé‡å¤å…ƒç´ å°±å˜æˆç›¸é‚»å…ƒç´ äº†ï¼Œä¹‹åŽçš„æ£€ç´¢æ—¶é—´å‡å°‘ä¸ºO(1). 1234567891011class Solution &#123;public: bool containsDuplicate(vector&lt;int&gt;&amp; nums) &#123; sort(nums.begin(),nums.end()); int len=nums.size(); for(int i=0;i&lt;len-1;i++)&#123; if(nums[i]==nums[i+1]) return 1; &#125; return 0; &#125;&#125;; [LeetCode] #122 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº â…¡ ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½èŽ·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚ **æ³¨æ„ï¼š**ä½ ä¸èƒ½åŒæ—¶å‚ä¸Žå¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æŽ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚ ç¤ºä¾‹ 1: 12345&gt; è¾“å…¥: [7,1,5,3,6,4]&gt; è¾“å‡º: 7&gt; è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½èŽ·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚&gt; éšåŽï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½èŽ·å¾—åˆ©æ¶¦ = 6-3 = 3 ã€‚&gt; ç¤ºä¾‹ 2: 123456&gt; è¾“å…¥: [1,2,3,4,5]&gt; è¾“å‡º: 4&gt; è§£é‡Š: åœ¨ç¬¬ 1 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½èŽ·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚&gt; æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æŽ¥è¿žè´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åŽå†å°†å®ƒä»¬å–å‡ºã€‚&gt; å› ä¸ºè¿™æ ·å±žäºŽåŒæ—¶å‚ä¸Žäº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æŽ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚&gt; ç¤ºä¾‹ 3: 1234&gt; è¾“å…¥: [7,6,4,3,1]&gt; è¾“å‡º: 0&gt; è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚&gt; è§£ç­”æ€è·¯ æš´åŠ›æ³• éåŽ†æ‰€æœ‰å¯èƒ½ç»„åˆï¼Œæ—¶é—´å¤æ‚åº¦é«˜è¾¾O(n^n),å¾ˆæ˜Žæ˜¾ä¸æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚ 12345678910111213141516171819202122int calculateMaxProfit(vector&lt;int&gt; &amp;prices, int start)&#123;//è°ƒç”¨æ­¤calculateMaxProfitå‡½æ•°ä½¿ç”¨é€’å½’æš´åŠ›æ³• if(start &gt;= prices.size()) return 0; int maxProfit = 0; for (int i = start; i &lt; prices.size() - 1; i++) &#123; int tempProfit = 0; for (int j = i + 1; j &lt; prices.size(); j++) &#123; if (prices[i] &lt; prices[j]) &#123; int profit = prices[j] - prices[i] + calculateMaxProfit(prices, j + 1); if(profit &gt; tempProfit) tempProfit = profit; &#125; &#125; if(tempProfit &gt; maxProfit) maxProfit = tempProfit; &#125; return maxProfit;&#125; è´ªå¿ƒæ³• äº‹å®žä¸Šç”±äºŽåªèƒ½è¿›è¡Œä¸€æ¬¡äº¤æ˜“ï¼Œä¸”äº¤æ˜“æ—¥è¿žç»­ï¼Œå› æ­¤ï¼Œåˆ©ç”¨è´ªå¿ƒç®—æ³•ï¼Œå±€éƒ¨æœ€ä¼˜è§£å³å…¨å±€æœ€ä¼˜è§£ã€‚ 123456789101112131415class Solution &#123;public: int maxProfit(vector&lt;int&gt;&amp; prices) &#123; if(prices.empty())&#123; return 0; &#125; int max =0; for (int i=0; i&lt;prices.size()-1; i++ )&#123; if(prices[i]&lt;prices[i+1])&#123; max += prices[i+1] - prices[i] ; &#125; &#125; return max; &#125;&#125;; [LeetCode]#189 æ—‹è½¬æ•°ç»„ ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³ç§»åŠ¨ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éžè´Ÿæ•°ã€‚ ç¤ºä¾‹ 1: 1234567&gt; è¾“å…¥: [1,2,3,4,5,6,7] å’Œ k = 3&gt; è¾“å‡º: [5,6,7,1,2,3,4]&gt; è§£é‡Š:&gt; å‘å³æ—‹è½¬ 1 æ­¥: [7,1,2,3,4,5,6]&gt; å‘å³æ—‹è½¬ 2 æ­¥: [6,7,1,2,3,4,5]&gt; å‘å³æ—‹è½¬ 3 æ­¥: [5,6,7,1,2,3,4]&gt; ç¤ºä¾‹ 2: 123456&gt; è¾“å…¥: [-1,-100,3,99] å’Œ k = 2&gt; è¾“å‡º: [3,99,-1,-100]&gt; è§£é‡Š: &gt; å‘å³æ—‹è½¬ 1 æ­¥: [99,-1,-100,3]&gt; å‘å³æ—‹è½¬ 2 æ­¥: [3,99,-1,-100]&gt; è¯´æ˜Ž: å°½å¯èƒ½æƒ³å‡ºæ›´å¤šçš„è§£å†³æ–¹æ¡ˆï¼Œè‡³å°‘æœ‰ä¸‰ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ è¦æ±‚ä½¿ç”¨ç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„åŽŸåœ°ç®—æ³•ã€‚ è§£ç­”æ€è·¯ ç›´æŽ¥ç§»åŠ¨ å°†æ•°ç»„å‘å³ç§»åŠ¨Kæ¬¡ï¼Œæ¯æ¬¡ç§»åŠ¨ä¸€æ ¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(Kn). 123456789101112131415161718class Solution &#123;public: void rotate(vector&lt;int&gt;&amp; nums, int k) &#123; if(nums.empty())&#123; return; &#125; int temp =0; int len = nums.size(); for(int i =0; i&lt;k;i++)&#123; temp = nums[len-1]; for(int j =0; j&lt;len-1;j++)&#123; nums[len-1 - j] = nums[len-2 - j]; &#125; nums[0] = temp; &#125; return; &#125;&#125;; ç¿»è½¬æ³• è¿™æ˜¯ä¸€ä¸ªå¾ˆå·§å¦™çš„æ–¹æ³•ï¼š åˆ©ç”¨æ•°ç»„çš„length - k æŠŠæ•°ç»„ åˆ†ä¸ºä¸¤åŠï¼› 1.ç¿»è½¬å·¦è¾¹å’Œå³è¾¹çš„æ•°ç»„ï¼› 2.ç¿»è½¬æ€»æ•°ç»„ã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯O(n),ç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚ 12345678910111213141516171819202122class Solution &#123;public: void rotate(vector&lt;int&gt;&amp; nums, int k) &#123; int n=nums.size(); k=k%n; if(k==0) return ; reverseString(nums,0,n-k-1); reverseString(nums,n-k,n-1); reverseString(nums,0,n-1); &#125; void reverseString(vector&lt;int&gt;&amp; nums,int from,int to) &#123; while(from&lt;to) &#123; int temp=nums[from]; nums[from++]=nums[to]; nums[to--]=temp; &#125; &#125;&#125;; [LeetCode]# 217 å­˜åœ¨é‡å¤å…ƒç´  ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚ å¦‚æžœä»»ä½•å€¼åœ¨æ•°ç»„ä¸­å‡ºçŽ°è‡³å°‘ä¸¤æ¬¡ï¼Œå‡½æ•°è¿”å›ž trueã€‚å¦‚æžœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ç›¸åŒï¼Œåˆ™è¿”å›ž falseã€‚ ç¤ºä¾‹ 1: 123&gt; è¾“å…¥: [1,2,3,1]&gt; è¾“å‡º: true&gt; ç¤ºä¾‹ 2: 123&gt; è¾“å…¥: [1,2,3,4]&gt; è¾“å‡º: false&gt; ç¤ºä¾‹ 3: 123&gt; è¾“å…¥: [1,1,1,3,3,4,3,2,4,2]&gt; è¾“å‡º: true&gt; è§£ç­”æ€è·¯ æš´åŠ›æœç´¢ ç›¸è¾ƒäºŽæœ€æœ´ç´ çš„éåŽ†ç•¥æœ‰æ”¹è¿›ï¼Œæ¯æ¬¡åªæœç´¢ç›¸åº”å…ƒç´ åŽé¢çš„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä»æ˜¯O(n^2). 1234567891011121314151617class Solution &#123;public: bool containsDuplicate(vector&lt;int&gt;&amp; nums) &#123; if(nums.empty())&#123; return false; &#125; int len =nums.size(); for(int i =0; i&lt;len;i++)&#123; for(int j =i+1; j&lt;len;j++)&#123; if (nums[i] == nums[j])&#123; return true; &#125; &#125; &#125; return false; &#125;&#125;; æŽ’åºåŽæ£€æµ‹ è¿™ç§æ–¹æ³•éžå¸¸å¿«ã€‚å…ˆå¯¹æ•°ç»„è¿›è¡ŒæŽ’åºï¼Œè¿™æ ·ç›¸åŒçš„å…ƒç´ ä¸€å®šæ˜¯æŒ¨ç€çš„ï¼Œé‚£ä¹ˆåªéœ€è¦å¯¹æ¯ä¸€å¯¹æŒ¨ç€çš„å…ƒç´ è¿›è¡Œåˆ¤æ–­å³å¯ã€‚ 123456789101112public boolean containsDuplicate(int[] nums) &#123; if (nums.length &lt;= 1) &#123; return false; &#125; Arrays.sort(nums); for (int i = 0; i &lt; nums.length - 1; i++) &#123; if (nums[i] == nums[i + 1]) &#123; return true; &#125; &#125; return false;&#125; [LeetCode]# 136 åªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­— ç»™å®šä¸€ä¸ªéžç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºçŽ°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºçŽ°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºçŽ°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚ è¯´æ˜Žï¼š ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®žçŽ°å—ï¼Ÿ ç¤ºä¾‹ 1: 123&gt; è¾“å…¥: [2,2,1]&gt; è¾“å‡º: 1&gt; ç¤ºä¾‹ 2: 123&gt; è¾“å…¥: [4,1,2,1,2]&gt; è¾“å‡º: 4&gt; è§£é¢˜æ€è·¯ æŽ’åºåŽæŸ¥æ‰¾ æŽ’åºåŽé‡å¤æ•°å­—å°†ä¼šå˜æˆç›¸é‚»å…ƒç´ ï¼Œè¿™æ—¶æœç´¢æ—¶é—´å¤æ‚åº¦å°±ä¸‹é™ä¸ºO(n)ã€‚ 12345678910111213141516171819202122class Solution &#123;public: int singleNumber(vector&lt;int&gt;&amp; nums) &#123; if(nums.empty())&#123; return 0; &#125; if(nums.size()==1)&#123; return nums[0]; &#125; sort(nums.begin(),nums.end()); int k=0; for(int i=0;i&lt;nums.size();i++)&#123; if(nums[k] != nums[i])&#123; if((i-k)&lt;=1)&#123; return nums[k]; &#125; k = i; &#125; &#125; return nums[nums.size()-1]; &#125;&#125;; å¼‚æˆ–æ“ä½œ å¼‚æˆ–æ“ä½œå¯ä»¥åŒºåˆ†ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒã€‚ä¹Ÿå°±æ˜¯å½“a b ä¸¤ä¸ªå€¼ç›¸åŒæ—¶ï¼Œè¿”å›ž0ï¼›a bä¸¤ä¸ªå€¼ä¸ç›¸ç­‰æ˜¯ï¼Œè¿”å›ž1ã€‚ç›¸åŒä¸ºçœŸï¼Œä¸ç›¸åŒä¸ºå‡ã€‚ åŒæ—¶æœ‰ï¼š0 ^ a = a 1234567class Solution &#123; public int singleNumber(int[] nums) &#123; int result = nums[0]; for (int i = 1; i &lt; nums.length; i++) result ^= nums[i]; return result; &#125;&#125; [LeetCode]#283 ç§»åŠ¨é›¶ ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéžé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚ ç¤ºä¾‹: 123&gt; è¾“å…¥: [0,1,0,3,12]&gt; è¾“å‡º: [1,3,12,0,0]&gt; è¯´æ˜Ž: å¿…é¡»åœ¨åŽŸæ•°ç»„ä¸Šæ“ä½œï¼Œä¸èƒ½æ‹·è´é¢å¤–çš„æ•°ç»„ã€‚ å°½é‡å‡å°‘æ“ä½œæ¬¡æ•°ã€‚ è§£é¢˜æ€è·¯ ä¾æ¬¡åŽç§» 12345678910111213141516171819202122class Solution &#123;public: void moveZeroes(vector&lt;int&gt;&amp; nums) &#123; if(nums.empty())&#123; return; &#125; for(vector&lt;int&gt;::iterator it = nums.begin(); it != nums.end(); it++)&#123; if((*it)==0)&#123; vector&lt;int&gt;::iterator zit = it; for(vector&lt;int&gt;::iterator jt = it+1 ; jt != nums.end(); jt++)&#123; if((*jt)!=0)&#123; int temp = *jt; *jt = 0; *zit = temp; zit = jt; &#125; &#125; &#125; &#125; &#125;&#125;; [LeetCode]#68 æ—‹è½¬å›¾åƒ ç»™å®šä¸€ä¸ª n Ã— n çš„äºŒç»´çŸ©é˜µè¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚ å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚ è¯´æ˜Žï¼š ä½ å¿…é¡»åœ¨åŽŸåœ°æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æŽ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚è¯·ä¸è¦ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚ ç¤ºä¾‹ 1: 1234567891011121314&gt; ç»™å®š matrix = &gt; [&gt; [1,2,3],&gt; [4,5,6],&gt; [7,8,9]&gt; ],&gt; &gt; åŽŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:&gt; [&gt; [7,4,1],&gt; [8,5,2],&gt; [9,6,3]&gt; ]&gt; ç¤ºä¾‹ 2: 12345678910111213141516&gt; ç»™å®š matrix =&gt; [&gt; [ 5, 1, 9,11],&gt; [ 2, 4, 8,10],&gt; [13, 3, 6, 7],&gt; [15,14,12,16]&gt; ], &gt; &gt; åŽŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:&gt; [&gt; [15,13, 2, 5],&gt; [14, 3, 4, 1],&gt; [12, 6, 8, 9],&gt; [16, 7,10,11]&gt; ]&gt; è§£é¢˜æ€è·¯ é€ä¸ªç§»åŠ¨ ç”±äºŽæ˜¯æ—‹è½¬90Â°ï¼Œå› æ­¤å°†ç¬¬ä¸€ä¸ªå…ƒç´ æ—‹è½¬90Â°åŽå†å°†ä¸‹ä¸€ä¸ªå…ƒç´ ä¾æ¬¡ç§»åŠ¨ï¼Œè¿™æ ·4æ­¥å³å¯åœæ­¢å›žåˆ°åŽŸä½ã€‚ 123456789101112131415class Solution &#123;public: void rotate(vector&lt;vector&lt;int&gt; &gt; &amp;matrix) &#123; int n = matrix.size(); for (int i = 0; i &lt; n / 2; ++i) &#123; for (int j = i; j &lt; n - 1 - i; ++j) &#123; int tmp = matrix[i][j]; matrix[i][j] = matrix[n - 1 - j][i]; matrix[n - 1 - j][i] = matrix[n - 1 - i][n - 1 - j]; matrix[n - 1 - i][n - 1 - j] = matrix[j][n - 1 - i]; matrix[j][n - 1 - i] = tmp; &#125; &#125; &#125;&#125;; ç¿»è½¬1 é¦–å…ˆä»¥ä»Žå¯¹è§’çº¿ä¸ºè½´ç¿»è½¬ï¼Œç„¶åŽå†ä»¥xè½´ä¸­çº¿ä¸Šä¸‹ç¿»è½¬å³å¯å¾—åˆ°ç»“æžœã€‚ 12345678910111213141516class Solution &#123;public: void rotate(vector&lt;vector&lt;int&gt; &gt; &amp;matrix) &#123; int n = matrix.size(); for (int i = 0; i &lt; n - 1; ++i) &#123; for (int j = 0; j &lt; n - i; ++j) &#123; swap(matrix[i][j], matrix[n - 1- j][n - 1 - i]); &#125; &#125; for (int i = 0; i &lt; n / 2; ++i) &#123; for (int j = 0; j &lt; n; ++j) &#123; swap(matrix[i][j], matrix[n - 1 - i][j]); &#125; &#125; &#125;&#125;; ç¿»è½¬2 å…ˆå¯¹åŽŸæ•°ç»„å–å…¶è½¬ç½®çŸ©é˜µï¼Œç„¶åŽæŠŠæ¯è¡Œçš„æ•°å­—ç¿»è½¬å¯å¾—åˆ°ç»“æžœã€‚ 123456789101112class Solution &#123;public: void rotate(vector&lt;vector&lt;int&gt; &gt; &amp;matrix) &#123; int n = matrix.size(); for (int i = 0; i &lt; n; ++i) &#123; for (int j = i + 1; j &lt; n; ++j) &#123; swap(matrix[i][j], matrix[j][i]); &#125; reverse(matrix[i].begin(), matrix[i].end()); &#125; &#125;&#125;; [LeetCode]#36 æœ‰æ•ˆçš„æ•°ç‹¬ åˆ¤æ–­ä¸€ä¸ª 9x9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦æ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚ æ•°å­— 1-9 åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºçŽ°ä¸€æ¬¡ã€‚ æ•°å­— 1-9 åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºçŽ°ä¸€æ¬¡ã€‚ æ•°å­— 1-9 åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®žçº¿åˆ†éš”çš„ 3x3 å®«å†…åªèƒ½å‡ºçŽ°ä¸€æ¬¡ã€‚ ä¸Šå›¾æ˜¯ä¸€ä¸ªéƒ¨åˆ†å¡«å……çš„æœ‰æ•ˆçš„æ•°ç‹¬ã€‚ æ•°ç‹¬éƒ¨åˆ†ç©ºæ ¼å†…å·²å¡«å…¥äº†æ•°å­—ï¼Œç©ºç™½æ ¼ç”¨ '.' è¡¨ç¤ºã€‚ ç¤ºä¾‹ 1: 1234567891011121314&gt; è¾“å…¥:&gt; [&gt; [&quot;5&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,&quot;7&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],&gt; [&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;1&quot;,&quot;9&quot;,&quot;5&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],&gt; [&quot;.&quot;,&quot;9&quot;,&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;,&quot;.&quot;],&gt; [&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;3&quot;],&gt; [&quot;4&quot;,&quot;.&quot;,&quot;.&quot;,&quot;8&quot;,&quot;.&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,&quot;1&quot;],&gt; [&quot;7&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;],&gt; [&quot;.&quot;,&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;2&quot;,&quot;8&quot;,&quot;.&quot;],&gt; [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;4&quot;,&quot;1&quot;,&quot;9&quot;,&quot;.&quot;,&quot;.&quot;,&quot;5&quot;],&gt; [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;7&quot;,&quot;9&quot;]&gt; ]&gt; è¾“å‡º: true&gt; ç¤ºä¾‹ 2: 12345678910111213141516&gt; è¾“å…¥:&gt; [&gt; [&quot;8&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,&quot;7&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],&gt; [&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;1&quot;,&quot;9&quot;,&quot;5&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],&gt; [&quot;.&quot;,&quot;9&quot;,&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;,&quot;.&quot;],&gt; [&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;3&quot;],&gt; [&quot;4&quot;,&quot;.&quot;,&quot;.&quot;,&quot;8&quot;,&quot;.&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,&quot;1&quot;],&gt; [&quot;7&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;],&gt; [&quot;.&quot;,&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;2&quot;,&quot;8&quot;,&quot;.&quot;],&gt; [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;4&quot;,&quot;1&quot;,&quot;9&quot;,&quot;.&quot;,&quot;.&quot;,&quot;5&quot;],&gt; [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;7&quot;,&quot;9&quot;]&gt; ]&gt; è¾“å‡º: false&gt; è§£é‡Š: é™¤äº†ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ•°å­—ä»Ž 5 æ”¹ä¸º 8 ä»¥å¤–ï¼Œç©ºæ ¼å†…å…¶ä»–æ•°å­—å‡ä¸Ž ç¤ºä¾‹1 ç›¸åŒã€‚&gt; ä½†ç”±äºŽä½äºŽå·¦ä¸Šè§’çš„ 3x3 å®«å†…æœ‰ä¸¤ä¸ª 8 å­˜åœ¨, å› æ­¤è¿™ä¸ªæ•°ç‹¬æ˜¯æ— æ•ˆçš„ã€‚&gt; è¯´æ˜Ž: ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç‹¬ï¼ˆéƒ¨åˆ†å·²è¢«å¡«å……ï¼‰ä¸ä¸€å®šæ˜¯å¯è§£çš„ã€‚ åªéœ€è¦æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚ ç»™å®šæ•°ç‹¬åºåˆ—åªåŒ…å«æ•°å­— 1-9 å’Œå­—ç¬¦ '.' ã€‚ ç»™å®šæ•°ç‹¬æ°¸è¿œæ˜¯ 9x9 å½¢å¼çš„ã€‚ è§£é¢˜æ€è·¯ è½¬æ¢ å°†æ•°ç»„å†…çš„æ•°çš„åŒºåŸŸé—®é¢˜è½¬æ¢ä¸ºå¤šä¸ªåæ ‡æ¯”è¾ƒçš„é—®é¢˜ã€‚è¿™ä¸ªè§£å†³æ–¹æ¡ˆæœ‰æ›´å¹¿æ³›çš„é€šç”¨æ€§ï¼Œå¯¹å…¶ä»–å°ºå¯¸çš„æ•°ç‹¬ä¹Ÿé€‚ç”¨ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950class Solution &#123;public: bool isValidSudoku(vector&lt;vector&lt;char&gt;&gt;&amp; board) &#123; map&lt;int,vector&lt;pair&lt;int,int&gt;&gt;&gt; num_map; if(board.empty())&#123; return false; &#125; //è®°å½•æ¯ä¸ªæ•°åŠå…¶åæ ‡ for(int i = 0; i&lt; board.size(); i++)&#123; for(int j = 0; j&lt; board[i].size();j++)&#123; if(isdigit(board[i][j]) )&#123; pair&lt;int,int&gt; k = make_pair(i,j); int num = int(board[i][j]); if(num_map[num].empty())&#123; vector&lt;pair&lt;int,int&gt;&gt; list; list.push_back(k); num_map[num] = list; &#125; else&#123; num_map[num].push_back(k); &#125; &#125; &#125; &#125; //æ¯”è¾ƒç›¸åŒæ•°å­—çš„åæ ‡ for(map&lt;int,vector&lt;pair&lt;int,int&gt;&gt;&gt;::iterator iter=num_map.begin();iter!=num_map.end();iter++)&#123; int len = iter-&gt;second.size(); vector&lt;pair&lt;int,int&gt;&gt; array = iter-&gt;second; if(len&gt;1)&#123; for(int i = 0; i&lt;len;i++)&#123; for(int j = i+1; j&lt;len; j++)&#123; pair&lt;int,int&gt; item1 = array[i]; pair&lt;int,int&gt; item2 = array[j]; if(item1.first==item2.first || item1.second == item2.second || (item2.first/3 == item1.first/3 &amp;&amp; item2.second/3 == item1.second/3 ))&#123; cout &lt;&lt; item1.first &lt;&lt; item1.second&lt;&lt;endl; cout &lt;&lt; item2.first &lt;&lt; item2.second&lt;&lt;endl; return false; &#125; &#125; &#125; &#125; &#125; return true; &#125;&#125;; åˆ©ç”¨è¾¹ç•Œ ç”±äºŽæ•°ç»„éƒ½æ˜¯9*9å½¢å¼ï¼Œä¸”3 * 3æ–¹æ ¼å›ºå®š,æ•…é‡‡ç”¨æ•°ç»„ä¸‹æ ‡è¾¹ç•Œå³å¯åŒºåˆ†ã€‚ 12345678910111213141516171819public boolean isValidSudoku(char[][] board) &#123; for(int i = 0; i&lt;9; i++)&#123; HashSet&lt;Character&gt; rows = new HashSet&lt;Character&gt;(); HashSet&lt;Character&gt; columns = new HashSet&lt;Character&gt;(); HashSet&lt;Character&gt; cube = new HashSet&lt;Character&gt;(); for (int j = 0; j &lt; 9;j++)&#123; if(board[i][j]!='.' &amp;&amp; !rows.add(board[i][j])) return false; if(board[j][i]!='.' &amp;&amp; !columns.add(board[j][i])) return false; int RowIndex = 3*(i/3); int ColIndex = 3*(i%3); if(board[RowIndex + j/3][ColIndex + j%3]!='.' &amp;&amp; !cube.add(board[RowIndex + j/3][ColIndex + j%3])) return false; &#125; &#125; return true; &#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[bash-å˜é‡ä¸Žè¡¨è¾¾å¼]]></title>
    <url>%2F2019%2F01%2F26%2FShell_Bash%2Fbash-%E5%8F%98%E9%87%8F%E4%B8%8E%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Shellå˜é‡ å˜é‡å®šä¹‰ å®šä¹‰å˜é‡å¦‚ä¸‹ï¼š 123variable=valuevariable='value'variable="value" æ³¨æ„ï¼Œå˜é‡åå’Œ=ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œè¿™å¯èƒ½å’Œä½ ç†Ÿæ‚‰çš„æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½ä¸ä¸€æ ·ã€‚åŒæ—¶ï¼Œå˜é‡åçš„å‘½åé¡»éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œé¦–ä¸ªå­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚ ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚ ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚ ä¸èƒ½ä½¿ç”¨bashé‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨helpå‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚ ä½¿ç”¨å˜é‡ ä½¿ç”¨ä¸€ä¸ªå®šä¹‰è¿‡çš„å˜é‡ï¼Œåªè¦åœ¨å˜é‡åå‰é¢åŠ ç¾Žå…ƒç¬¦å·$å³å¯ï¼Œå¦‚ï¼š 12author=echo $authorecho $&#123;author&#125; å˜é‡åå¤–é¢çš„èŠ±æ‹¬å·{ }æ˜¯å¯é€‰çš„ï¼ŒåŠ ä¸åŠ éƒ½è¡Œï¼ŒåŠ èŠ±æ‹¬å·æ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š 1skill=&quot;Java&quot;echo &quot;I am good at $&#123;skill&#125;Script&quot; å¦‚æžœä¸ç»™ skill å˜é‡åŠ èŠ±æ‹¬å·ï¼Œå†™æˆecho &quot;I am good at $skillScript&quot;ï¼Œè§£é‡Šå™¨å°±ä¼šæŠŠ $skillScript å½“æˆä¸€ä¸ªå˜é‡. å•å¼•å·ä¸ŽåŒå¼•å· ä»¥å•å¼•å·' 'åŒ…å›´å˜é‡çš„å€¼æ—¶ï¼Œå•å¼•å·é‡Œé¢æ˜¯ä»€ä¹ˆå°±è¾“å‡ºä»€ä¹ˆï¼Œå³ä½¿å†…å®¹ä¸­æœ‰å˜é‡å’Œå‘½ä»¤ï¼ˆå‘½ä»¤éœ€è¦åå¼•èµ·æ¥ï¼‰ä¹Ÿä¼šæŠŠå®ƒä»¬åŽŸæ ·è¾“å‡ºã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒé€‚åˆå®šä¹‰æ˜¾ç¤ºçº¯å­—ç¬¦ä¸²çš„æƒ…å†µï¼Œå³ä¸å¸Œæœ›è§£æžå˜é‡ã€å‘½ä»¤ç­‰çš„åœºæ™¯ã€‚ ä»¥åŒå¼•å·&quot; &quot;åŒ…å›´å˜é‡çš„å€¼æ—¶ï¼Œè¾“å‡ºæ—¶ä¼šå…ˆè§£æžé‡Œé¢çš„å˜é‡å’Œå‘½ä»¤ï¼Œè€Œä¸æ˜¯æŠŠåŒå¼•å·ä¸­çš„å˜é‡åå’Œå‘½ä»¤åŽŸæ ·è¾“å‡ºã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒé€‚åˆå­—ç¬¦ä¸²ä¸­é™„å¸¦æœ‰å˜é‡å’Œå‘½ä»¤å¹¶ä¸”æƒ³å°†å…¶è§£æžåŽå†è¾“å‡ºçš„å˜é‡å®šä¹‰ã€‚ ç‰¹æ®Šå˜é‡ å˜é‡ å«ä¹‰ $0 å½“å‰è„šæœ¬çš„æ–‡ä»¶åã€‚ $nï¼ˆnâ‰¥1ï¼‰ ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ã€‚n æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç¬¬å‡ ä¸ªå‚æ•°ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ $1ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ $2ã€‚ $# ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ä¸ªæ•°ã€‚ $* ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚ $@ ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚å½“è¢«åŒå¼•å·&quot; &quot;åŒ…å«æ—¶ï¼Œ$@ ä¸Ž $* ç¨æœ‰ä¸åŒã€‚ $? ä¸Šä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼Œæˆ–å‡½æ•°çš„è¿”å›žå€¼ã€‚ $$ å½“å‰ Shell è¿›ç¨‹ IDã€‚å¯¹äºŽ Shell è„šæœ¬ï¼Œå°±æ˜¯è¿™äº›è„šæœ¬æ‰€åœ¨çš„è¿›ç¨‹ IDã€‚ è¡¨è¾¾å¼ä¸Žæ“ä½œç¬¦ æ¯”è¾ƒæ“ä½œç¬¦ å¯¹åº”çš„æ“ä½œ æ•´æ•°æ“ä½œ å­—ç¬¦ä¸²æ“ä½œ ç›¸åŒ -eq = ä¸åŒ -ne != å¤§äºŽ -gt &gt; å°äºŽ -lt &lt; å¤§äºŽæˆ–ç­‰äºŽ -ge å°äºŽæˆ–ç­‰äºŽ -le ä¸ºç©º -z ä¸ä¸ºç©º -n å­—ç¬¦ä¸²æ“ä½œç¬¦ å­—ç¬¦ä¸²æ›¿æ¢ æ ¼å¼ è§£é‡Š ${varname:-word} è¿”å›žé»˜è®¤å€¼ ${varname:=word} è®¾ç½®varnameé»˜è®¤å€¼ ${varname:?message} ä¸ºç©ºæ—¶è¾“å‡ºæŠ¥é”™ä¿¡æ¯ï¼Œmessageå¯ä»¥ä¸ºç©º ${varname:+word} è‹¥ä¸ºç©ºï¼Œè¿”å›žwordï¼Œå¦åˆ™è¿”å›žç©º ${varname:offset:length} è¿”å›žä»Žoffsetå¼€å§‹é•¿åº¦ä¸ºlengthçš„å­ä¸²ã€‚:lengthå¯çœç•¥ï¼Œåˆ™å­ä¸²ä¸€ç›´åˆ°æœ«å°¾ã€‚è‹¥offsetå°äºŽ0ï¼Œoffsetä¸ºå­—ç¬¦ä¸²æœ«å°¾ã€‚è‹¥offsetä¸º@ï¼Œlengthä¸ºä»Žå‚æ•°offsetå¼€å§‹çš„å‚æ•°æ•°ç›® å­—ç¬¦ä¸²åŒ¹é… æ ¼å¼ è§£é‡Š ${variable#pattern} åˆ é™¤å¼€å¤´çš„æœ€çŸ­åŒ¹é…éƒ¨åˆ† ${variable##pattern} åˆ é™¤å¼€å¤´çš„æœ€é•¿åŒ¹é…éƒ¨åˆ† ${variable%pattern} åˆ é™¤ç»“å°¾çš„æœ€çŸ­åŒ¹é…éƒ¨åˆ† ${variable%%pattern} åˆ é™¤ç»“å°¾çš„æœ€é•¿åŒ¹é…éƒ¨åˆ† ${variable/pattern/string} ä½¿ç”¨stringæ›¿æ¢åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œpatternä¸­å¯ä»¥ä»¥#æˆ–%å¼€å¤´ ${variable//pattern/string} æ›¿æ¢æ‰€æœ‰çš„å­—ç¬¦ä¸² èŽ·å–å­—ç¬¦ä¸²é•¿åº¦ å‘½ä»¤ è§£é‡Š ${#variable} è¿”å›žvariableçš„é•¿åº¦ å­—ç¬¦ä¸²æˆªå– æ ¼å¼ è¯´æ˜Ž ${string: start :length} ä»Ž string å­—ç¬¦ä¸²çš„å·¦è¾¹ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå‘å³æˆªå– length ä¸ªå­—ç¬¦ã€‚ ${string: start} ä»Ž string å­—ç¬¦ä¸²çš„å·¦è¾¹ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹æˆªå–ï¼Œç›´åˆ°æœ€åŽã€‚ ${string: 0-start :length} ä»Ž string å­—ç¬¦ä¸²çš„å³è¾¹ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå‘å³æˆªå– length ä¸ªå­—ç¬¦ã€‚ ${string: 0-start} ä»Ž string å­—ç¬¦ä¸²çš„å³è¾¹ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹æˆªå–ï¼Œç›´åˆ°æœ€åŽã€‚ ${string#*chars} ä»Ž string å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºçŽ° *chars çš„ä½ç½®å¼€å§‹ï¼Œæˆªå– *chars å³è¾¹çš„æ‰€æœ‰å­—ç¬¦ã€‚ ${string##*chars} ä»Ž string å­—ç¬¦ä¸²æœ€åŽä¸€æ¬¡å‡ºçŽ° *chars çš„ä½ç½®å¼€å§‹ï¼Œæˆªå– *chars å³è¾¹çš„æ‰€æœ‰å­—ç¬¦ã€‚ ${string%*chars} ä»Ž string å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºçŽ° *chars çš„ä½ç½®å¼€å§‹ï¼Œæˆªå– *chars å·¦è¾¹çš„æ‰€æœ‰å­—ç¬¦ã€‚ ${string%%*chars} ä»Ž string å­—ç¬¦ä¸²æœ€åŽä¸€æ¬¡å‡ºçŽ° *chars çš„ä½ç½®å¼€å§‹ï¼Œæˆªå– *chars å·¦è¾¹çš„æ‰€æœ‰å­—ç¬¦ æ–‡ä»¶æ“ä½œç¬¦ è¿ç®—ç¬¦ å«ä¹‰ï¼ˆ æ»¡è¶³ä¸‹é¢è¦æ±‚æ—¶è¿”å›ž TRUE ï¼‰ -e file æ–‡ä»¶ file å·²ç»å­˜åœ¨ -f file æ–‡ä»¶ file æ˜¯æ™®é€šæ–‡ä»¶ -s file æ–‡ä»¶ file å¤§å°ä¸ä¸ºé›¶ -d file æ–‡ä»¶ file æ˜¯ä¸€ä¸ªç›®å½• -r file æ–‡ä»¶ file å¯¹å½“å‰ç”¨æˆ·å¯ä»¥è¯»å– -w file æ–‡ä»¶ file å¯¹å½“å‰ç”¨æˆ·å¯ä»¥å†™å…¥ -x file æ–‡ä»¶ file å¯¹å½“å‰ç”¨æˆ·å¯ä»¥æ‰§è¡Œ -g file æ–‡ä»¶ file çš„ GID æ ‡å¿—è¢«è®¾ç½® -u file æ–‡ä»¶ file çš„ UID æ ‡å¿—è¢«è®¾ç½® -O file æ–‡ä»¶ file æ˜¯å±žäºŽå½“å‰ç”¨æˆ·çš„ -G file æ–‡ä»¶ file çš„ç»„ ID å’Œå½“å‰ç”¨æˆ·ç›¸åŒ file1 -nt file2 æ–‡ä»¶ file1 æ¯” file2 æ›´æ–° file1 -ot file2 æ–‡ä»¶ file1 æ¯” file2 æ›´è€]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ªæ€§åŒ–Video_avatars]]></title>
    <url>%2F2019%2F01%2F15%2Fvideo-avatar%2F</url>
    <content type="text"><![CDATA[Video_avatars è¿™ä¸ªé¡¹ç›®æ¥è‡ªé©¬æ™®æ‰€çš„ä¸€ç¯‡è®ºæ–‡Video Based Reconstruction of 3D People Models ï¼Œæ—¥å‰ï¼Œç ”ç©¶äººå‘˜å…¬å¸ƒäº†ä»–ä»¬çš„å®žçŽ°ä»¥åŠæ•°æ®é›†ã€‚ Website:https://graphics.tu-bs.de/people-snapshot Github: https://github.com/thmoa/videoavatars ç”±äºŽå…¶æ–‡æ¡£æ¯”è¾ƒåŒ®ä¹ï¼Œä½¿ç”¨å®ƒçš„ä»£ç å¯¹è‡ªå·±çš„æ•°æ®è¿›è¡Œå¤çŽ°å¹¶ä¸å®¹æ˜“ï¼Œç»è¿‡å‡ å¤©åŠªåŠ›ï¼ŒæˆåŠŸçš„å®Œæˆäº†æ•´ä¸ªå»ºæ¨¡è¿‡ç¨‹ï¼Œæ•…è®°å½•å¦‚ä¸‹ã€‚ç›¸å…³ä»£ç ä»¥ä¸Šä¼ åˆ°äº†æˆ‘çš„Githubä¸Šã€‚ åŽŸç‰ˆæœ¬Demo è¯·å…ˆä½¿ç”¨åŽŸç‰ˆæœ¬Demoæ¥éªŒè¯çŽ¯å¢ƒéƒ¨ç½²æˆåŠŸ:Video Avatars æ•°æ®å‡†å¤‡ è¿™ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨è‡ªæ‘„çš„è§†é¢‘æ¥è¿›è¡Œçš„å»ºæ¨¡å°è¯•ï¼Œé¦–å…ˆéœ€è¦æœ‰ä¸€æ®µå¦‚åŽŸè®ºæ–‡è§†é¢‘ç›¸åŒçš„è‡ªæ‘„è§†é¢‘ï¼Œæä¾›æˆ‘çš„æ ¼å¼ï¼š é¡¹ç›® æ ¼å¼ åˆ†è¾¨çŽ‡ 1080*1080 å¸§çŽ‡ 24FPS èº«ä½“å§¿æ€ Aå½¢å§¿æ€æ—‹è½¬3åœˆ ä¹‹åŽä½ å¯ä»¥ä½¿ç”¨ frame_get.pyæ¥èŽ·å–åˆ°æ‰€æœ‰è§†é¢‘å¸§ï¼Œä»¥ä¾›ä¸‹ä¸€æ­¥å¤„ç†ã€‚ Step1:è§†é¢‘å¸§äººä½“åŒºåŸŸèŽ·å– è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬éœ€è¦èŽ·å¾—æ¯ä¸€è§†é¢‘å¸§ä¸­ï¼Œå¦‚ä¸‹å›¾å½¢å¼çš„äººä½“åŒºåŸŸçš„äºŒå€¼å›¾åƒï¼š ![mask1](https://wpy-blog.oss-cn-shanghai.aliyuncs.com/mask1.jpg/wpy-blog) åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘é‡‡ç”¨äº†ç™¾åº¦AIå¼€æ”¾å¹³å°çš„äººåƒåˆ†å‰²APIæ¥è¿›è¡Œï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–AIå¼€æ”¾å¹³å°çš„APIï¼Œæˆ–è€…ä½¿ç”¨è‡ªå·±çš„è¯­ä¹‰åˆ†å‰²å®žçŽ°ã€‚è¿™ä¸€éƒ¨åˆ†è„šæœ¬åœ¨ human_mask.py ä¸­å¯ä»¥æ‰¾åˆ°ã€‚ ![origin](https://wpy-blog.oss-cn-shanghai.aliyuncs.com/origin1.jpg/wpy-blog) å—é™äºŽä¸€äº›å›¾åƒå¹²æ‰°ï¼Œä»¥åŠè¯­ä¹‰åˆ†å‰²æœ¬èº«é—®é¢˜ï¼ŒèŽ·å–åˆ°çš„maskå›¾åƒå¾€å¾€è¿˜éœ€è¦è¿›ä¸€æ­¥å¤„ç†ï¼š å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸€äº›æ— æ„ä¹‰çš„åŒºåŸŸï¼Œä¸ºäº†æå‡å‡†ç¡®çŽ‡ï¼Œéœ€è¦å¯¹maskè¿›è¡Œå–æœ€å¤§è¿žé€šåŸŸçš„å¤„ç†ï¼Œä¹‹åŽå¯ä»¥å†è¿›è¡Œä¸€æ¬¡å½¢æ€å­¦è†¨èƒ€æ“ä½œæ¶ˆé™¤ç©ºæ´žã€‚è¿™éƒ¨åˆ†å·¥ä½œåœ¨mask_process.pyä¸­å®žçŽ°ã€‚ è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†maskçš„å¤„ç†å·¥ä½œï¼Œä¹‹åŽï¼Œåˆ©ç”¨video_avatars/prpare_data/mask2hdf5.pyå³å¯å°†å…¶è½¬åŒ–ä¸ºHDF5æ–‡ä»¶ã€‚ Step2ï¼šäººä½“å…³èŠ‚ç‚¹æ ‡è¯† è¿™ä¸€æ­¥éœ€è¦å°†æ¯ä¸€å¸§çš„å…³èŠ‚ç‚¹åŠå…¶åæ ‡è½¬æ¢ä¸ºJasonæ ¼å¼ï¼Œè¿™é‡Œç›´æŽ¥ä½¿ç”¨ï¼ŒOpenposeæ¥è¿›è¡Œå…³èŠ‚ç‚¹è¯†åˆ«ã€‚åŒæ ·ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±çš„å®žçŽ°æˆ–å…¶ä»–é€”å¾„æ¥è¿›è¡Œå…³èŠ‚ç‚¹è¯†åˆ«ï¼Œåªéœ€ç¬¦åˆCOCOæ¨¡åž‹çš„å…³èŠ‚ç‚¹æ¨¡å¼ï¼š Openposeå…·ä½“å®‰è£…å’Œä½¿ç”¨å¯ä»¥å‚è€ƒè¿™é‡Œï¼Œæˆ‘å°±ä¸å†è¯¦ç»†ä»‹ç»ã€‚ èŽ·å–åˆ°æ‰€æœ‰çš„å…³èŠ‚ç‚¹çš„jsonæ–‡ä»¶åŽï¼Œä½¿ç”¨video_avatars/prpare_data/2djoints2hdf5.py å¯å°†å…¶è½¬åŒ–ä¸ºHDF5æ–‡ä»¶ã€‚ Step3:ç›¸æœºç›¸å…³å‚æ•° åœ¨video_avatars/prpare_dataä¸‹ï¼Œè¿˜æœ‰ create_camera.pyæ¥è¿›è¡Œç›¸æœºç›¸å…³å‚æ•°çš„åºåˆ—åŒ–ã€‚ 1234567parser.add_argument('out', type=str, help="Output file (.pkl)")parser.add_argument('width', type=int, help="Frame width in px")parser.add_argument('height', type=int, help="Frame height in px")parser.add_argument('-f', type=float, nargs='*', help="Focal length in px (2,)")parser.add_argument('-c', type=float, nargs='*', help="Principal point in px (2,)")parser.add_argument('-k', type=float, nargs='*', help="Distortion coefficients (5,)") ä¸»è¦å‚æ•°æ˜¯åˆ†è¾¨çŽ‡ä»¥åŠåƒç´ ç„¦è·ï¼ˆFocal length in pixels ï¼‰ï¼Œç”±äºŽæˆ‘ä½¿ç”¨æ‰‹æœºæ‹æ‘„ï¼Œå…¶ä»–å‚æ•°éš¾ä»¥èŽ·å–ï¼Œå¦‚æžœä½ èƒ½èŽ·å–åˆ°å‡†ç¡®æ•°æ®å¯ä»¥å°†ç›¸åº”æ•°æ®åŠ å…¥ã€‚ å¯¹äºŽåƒç´ ç„¦è·ï¼ˆFocal length in pixels ï¼‰ï¼Œæœ‰ä»¥ä¸‹å…¬å¼å¯ä»¥è®¡ç®—ï¼š Focallengthinpixels=(imagewidthinpixels)âˆ—(focallengthonearth)/(CCDwidthonearth)Focal length in pixels = (image width in pixels) * (focal length on earth) / (CCD width on earth) Focallengthinpixels=(imagewidthinpixels)âˆ—(focallengthonearth)/(CCDwidthonearth) æž„å»ºè¿è¡Œ ä¸Žä¹‹å‰çš„Demoç›¸åŒï¼Œå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å…·ä½“å‘½ä»¤ã€‚ æœ€ç»ˆæ•ˆæžœ æ— è¡£ç€æ•ˆæžœï¼š æœ‰è¡£ç€æ•ˆæžœï¼š]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰</tag>
        <tag>3Dé‡å»º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Hadoopã€‘jaråŒ…åŠå…¶æ›¿æ¢]]></title>
    <url>%2F2019%2F01%2F14%2FHadoop-jars%2F</url>
    <content type="text"><![CDATA[èŽ·å–JaråŒ… å®‰è£…å¥½HadoopåŽï¼Œåœ¨hadoopçš„æ–‡ä»¶å¤¹ä¸‹å¯ä»¥çœ‹åˆ°shareæ–‡ä»¶å¤¹ï¼š åœ¨shareæ–‡ä»¶å¤¹ä¸‹ï¼ŒdocåŒ…å«æ‰€æœ‰çš„æ–‡æ¡£å†…å®¹ï¼Œhadoopä¸‹å°±æ˜¯æˆ‘ä»¬å¯ä»¥èŽ·å¾—åˆ°çš„Hadoopæ‰€æœ‰çš„æºç ä»¥åŠæµ‹è¯•jaråŒ…ã€‚ è¿™é‡Œæˆ‘ä»¬ç›´æŽ¥è¿›å…¥hadoopæ–‡ä»¶å¤¹ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å„ä¸ªhadoopæ¨¡å—ï¼Œæ ¹æ®éœ€è¦å¯ä»¥æ‰¾åˆ°ç›¸åº”jaråŒ…ã€‚ å¦‚æžœæƒ³è¦ä¿®æ”¹ç›¸åº”çš„hadoopæ¨¡å—ï¼Œé‚£ä¹ˆåªéœ€å°†ç›¸åº”çš„jaråŒ…æ›¿æ¢ä¸ºè‡ªå·±çš„å®žçŽ°å³å¯ã€‚]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å°†hexoéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Š]]></title>
    <url>%2F2018%2F09%2F28%2F%E5%B0%86hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å‡†å¤‡ æœ¬åœ°çŽ¯å¢ƒé…ç½® æœ¬æ–‡æœ¬åœ°çŽ¯å¢ƒä¸ºWindows10,ç¡®ä¿ä½ çš„è®¡ç®—æœºçŽ¯å¢ƒä¸­è£…æœ‰ nodeJSã€npmä»¥åŠ Git,å†è¿›è¡ŒæŽ¥ä¸‹æ¥çš„æ­¥éª¤ã€‚ åˆå§‹åŒ– hexo å®‰è£… æ‰“å¼€å‘½ä»¤è¡Œï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1npm install hexo-cli -g åˆå§‹åŒ– hexo å®‰è£…å®ŒæˆåŽï¼Œè¿›å…¥å»ºç«‹ä½ çš„hexoç›®å½•,å¹¶å®Œæˆåˆå§‹åŒ–: 12345mkdir hexo-blogcd hexo-bloghexo init myblogcd myblognpm install äºŒã€æœåŠ¡å™¨é…ç½® æœåŠ¡å™¨ç³»ç»Ÿä¸ºCentOS(7.1) æ­å»ºè¿œç¨‹Gitåº“ ç™»é™†åˆ°è¿œç¨‹æœåŠ¡å™¨ å®‰è£…git 123git --version // å¦‚æ— ï¼Œåˆ™å®‰è£…yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-develyum install -y git å»ºç«‹gitç”¨æˆ·å¹¶é…ç½®ä»“åº“ å‚è€ƒèµ„æ–™ 123456789useradd gitpasswd git # è®¾ç½®å¯†ç su git # è¿™æ­¥å¾ˆé‡è¦ï¼Œä¸åˆ‡æ¢ç”¨æˆ·åŽé¢ä¼šå¾ˆéº»çƒ¦cd /home/git/mkdir -p hexo/blog # é¡¹ç›®å­˜åœ¨çš„çœŸå®žç›®å½•mkdir repos &amp;&amp; cd reposgit init --bare blog.git # åˆ›å»ºä¸€ä¸ªè£¸éœ²çš„ä»“åº“cd blog.git/hooksvi post-receive # åˆ›å»ºhooké’©å­å‡½æ•°ï¼Œè¾“å…¥å†…å®¹å¦‚ä¸‹ï¼ˆåŽŸç†å¯ä»¥å‚è€ƒä¸Šé¢çš„é“¾æŽ¥ï¼‰ 12#!/bin/shgit --work-tree=/home/git/projects/blog --git-dir=/home/git/repos/blog.git checkout -f æ·»åŠ å®Œæ¯•åŽä¿®æ”¹é’©å­çš„æƒé™ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ 123chmod +x post-receiveexit # é€€å‡ºåˆ° root ç™»å½•chown -R git:git /home/git/repos/blog.git # æ·»åŠ æƒé™ æµ‹è¯•gitä»“åº“æ˜¯å¦å»ºç«‹æˆåŠŸ æ‰¾åˆ°å¦å¤–çš„ç©ºç™½æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ 1git clone git@server_ip:/home/git/repos/blog.git å¦‚æžœæˆåŠŸçš„å®Œæˆå…‹éš†ï¼Œåˆ™ä»“åº“å¯ç”¨ã€‚ è®¾ç½®sshå…¬é’¥è®¿é—® ä¸ºäº†å…åŽ»æ¯æ¬¡éƒ¨ç½²åšå®¢æ—¶è¾“å…¥å¯†ç çš„éº»çƒ¦ï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨sshå…¬é’¥æ¥ç™»é™†æœåŠ¡å™¨. è¿›å…¥C://User//ä½ çš„ç”¨æˆ·å/.ssh,æŸ¥çœ‹æ˜¯å¦å·²æœ‰å¯†é’¥å¯¹:id_rsaå’Œid_rsa.pub è‹¥æ²¡æœ‰å·²å»ºå¥½å¯†é’¥å¯¹å‚è€ƒæ­¤æ–‡ã€‚ å°†id_rsa.pubé€šè¿‡WinScpç­‰å·¥å…·ä¸Šä¼ è‡³è¿œç«¯æœåŠ¡å™¨/home/git/.sshç›®å½•ä¸‹ï¼Œå¹¶æ”¹åä¸ºauthorized_keys. å»ºè®®ç™»é™†gitç”¨æˆ·ä¸Šä¼ ï¼Œä¸Šä¼ åŽç¡®ä¿å…¬é’¥æ‹¥æœ‰è€…ä¸ºgit æ­å»ºnginxæœåŠ¡å™¨ å®‰è£…nginx 1yum install -y ngix éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼š 1ngix #å¯åŠ¨åŽé€šè¿‡æµè§ˆå™¨è¿žæŽ¥åˆ°server_IP æ£€æŸ¥æ˜¯å¦å¯ä»¥çœ‹åˆ°æµ‹è¯•é¡µé¢ é…ç½®nginx 12345678nginx -s stop # å…ˆåœæ­¢nginxcd /etc/nginxmv nginx.conf nginx.conf.copycp nginx.conf.defult nginx.conf #ç§»é™¤æµ‹è¯•é…ç½®ï¼Œå¯¼å…¥é»˜è®¤é…ç½®vim nginx.conf#ä¿®æ”¹ root è§£æžè·¯å¾„ /home/git/hexo/blog# åŒæ—¶å°† user æ”¹ä¸º root å¦‚ä¸‹å›¾ï¼Œä¸ç„¶nginxæ— æ³•è®¿é—®nginx -s reload ä¸‰ã€æœ¬åœ°éƒ¨ç½²é…ç½® å›žåˆ°æœ¬åœ°hexoç›®å½•ï¼Œä¿®é…ç½®æ–‡ä»¶_config.yml ä»¥ä¸Šï¼Œæ‰€æœ‰å·¥ä½œé¡ºåˆ©å®Œæˆï¼ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éƒ¨ç½²ä½ çš„hexo: 12hexo g #ç”Ÿæˆé™æ€æ–‡ä»¶hexo d #éƒ¨ç½²åˆ°è¿œç«¯ å››ã€æ€»ç»“ æ•´ä¸ªè¿‡ç¨‹ç»åŽ†äº†è®¸å¤šæ³¢æŠ˜ï¼Œå¤§å¤šæ˜¯sshå…¬é’¥ç›¸å…³çš„é…ç½®é—®é¢˜ï¼Œä¸è¿‡æœ€ç»ˆï¼Œè¿˜æ˜¯è§£å†³äº†é—®é¢˜ï¼Œå¯ä»¥å¼€å¿ƒåœ°å†™åšå®¢äº†ï¼]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>é˜¿é‡Œäº‘</tag>
      </tags>
  </entry>
</search>
